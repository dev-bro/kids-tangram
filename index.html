<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no,width=device-width,minimal-ui">
	<title>Kids Tangram</title>
	<link href="./css/gamestyles.css" rel="stylesheet" type="text/css">
	<!--<script type="text/javascript" src="http://api.famobi.com/assets/0.1.32-26a6aed8/js/gameapi.js"></script>-->
	<script src="./js/gameapi.js"></script>
	<script src="./js/config.js"></script>
	<script src="./js/v1.js"></script>
	<script>
		function init(apiInstance) {
			var canvas = document.getElementById("gameCanvas");
			var loader = document.getElementById("loader");


			var config = {
				// On iOS we cannot have music in main menu, before user interacts with the game.
				// If portal API already played sound in response to "Play" button, feel free to set it to true.
				soundUnMuted: false,
				// If portal does not want music in the game, set it to true. Music loading will be skipped.
				disableMusic: false,
				// Language code for the game UI
				language: 'en',
				hideLangButton: true,

				portal: {
					/*logo: "",
					 sticker: ""*,
					 logoURL: "",*/
					moreGamesButtonImage: famobi.getMoreGamesButtonImage(),
					moreGamesButtonScale: 0.3,
					moreGamesURL: "nope",
				},

				api: {
					gameLoadingComplete: function() {
					},

					gameStarted: function() {
					},

					levelComplete: function(score, level) {
					},
					// Check orientation in the way most appropriate for your network, return true if you
					// want to block the game and display rotation sign.
					// If you keep viewporter library import, this function is called as part of viewportchange event,
					// if you like, feel free to check for window.orientation here.
					// Just return "false" if you don't want this functionality.
					orientationLock: function() {

						// Viewporter says it is desktop or older android device? Viewporter lib is removed alltogether?
						// Better not do rotation check in that case IMO.
						//alert(viewporter.viewporter.ACTIVE);
						if (!viewporter || !viewporter.ACTIVE) {
							return false;
						}
						// Looks like landscape on narrow device? Ask user to rotate!
						var isLandscape = window.innerHeight > window.innerWidth && window.innerHeight <= 640;
						return isLandscape;
					}
				}

			};
			app.initialize(canvas, config);
		}

		// Package-ID
		window.famobi_gameID = "kids-tangram";
		window.famobi_gameJS = ['js/all.js', function() {
			init();
//            document.addEventListener('deviceready', init, false);
		}];

		(function(document, url, fgJS, firstJS) {
			fgJS = document.createElement('script');
			firstJS = document.getElementsByTagName('script')[0];
			fgJS.src = url + encodeURIComponent(document.location.href);
			firstJS.parentNode.insertBefore(fgJS, firstJS);
		})(document, '/html5games/gameapi/v1.js?e=');
	</script>
</head>

<body>
<div id="viewporter">
	<div id="canvasHolder" style="position: absolute; overflow: hidden"><canvas id="gameCanvas" style="position: absolute" width="1136" height="960"></canvas></div>
</div>
<div style="height: 1px"></div>
</body>
</html>