var GLOBAL_GAME_CONFIG={global:{fps:60,useRAF:!0,gameId:"com.jellimatic.famobi.kids-tangram",gameName:"kids-tangram",gameTitle:"Kids Tangram",preloaderBgColor:"#6be6ed"},storageDataIds:{locale:"locale",levels:"savedLevels"},map:{itemsPerPage:4},gameplay:{},transitions:{standard:{out:{type:"fadeOut",duration:300},"in":{type:"fadeIn",duration:400}}},animation:{Initializing:500,PuzzleStepMatchAnimation:300,PuzzleCompleteAnimation:1500,PuzzleCompleteAnimationFinal:700},hud:{},style:{creditsTitleText:{style:"bold 32px arial, helvetica, sans-serif",color:"#ffffff"},creditsEntryText:{style:"bold 25px arial, helvetica, sans-serif",color:"#ffffff"},pageTitleText:{style:"40px Verdana, arial",color:"#ffffff",shadow:{color:"#000000",offsetX:2,offsetY:2,blur:3}},matchingCardMessage:{style:"bold 36px Verdana, arial",color:"#ffffff",shadow:{color:"#62A7B2",offsetX:2,offsetY:2,blur:5}}},sound:{musicMenu:{file:"music"},musicGame:{file:"music"},buttontap:{file:"buttontap"},chainRemoved:{file:"chainremoved"},levelComplete:{file:"levelcomplete"}}};
var LEVELS_CONFIG=[{setId:"page1",levelId:"turtle",color:"#f79b09"},{setId:"page1",levelId:"dog",color:"#09bbcb"},{setId:"page1",levelId:"parrot",color:"#68c828"},{setId:"page1",levelId:"cat",color:"#d14bb0"},{setId:"page2",levelId:"house1",color:"#f79b09"},{setId:"page2",levelId:"house2",color:"#09bbcb"},{setId:"page2",levelId:"house4",color:"#68c828"},{setId:"page2",levelId:"house3",color:"#d14bb0"},{setId:"page3",levelId:"plane",color:"#f79b09"},{setId:"page3",levelId:"boat",color:"#09bbcb"},{setId:"page3",levelId:"helicopter",color:"#68c828"},{setId:"page3",levelId:"truck",color:"#d14bb0"},{setId:"page4",levelId:"human1",color:"#f79b09"},{setId:"page4",levelId:"human2",color:"#09bbcb"},{setId:"page4",levelId:"human3",color:"#68c828"},{setId:"page4",levelId:"human4",color:"#d14bb0"},{setId:"page5",levelId:"digit1",color:"#f79b09"},{setId:"page5",levelId:"digit2",color:"#09bbcb"},{setId:"page5",levelId:"digit3",color:"#68c828"},{setId:"page5",levelId:"digit4",color:"#d14bb0"}];
(function(){function t(t,e){if(t!==e){var n=null===t,i=t===S,r=t===t,s=null===e,a=e===S,o=e===e;if(t>e&&!s||!r||n&&!a&&o||i&&o)return 1;if(e>t&&!n||!o||s&&!i&&r||a&&r)return-1}return 0}function e(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function n(t,e,n){if(e!==e)return d(t,n);n-=1;for(var i=t.length;++n<i;)if(t[n]===e)return n;return-1}function i(t){return"function"==typeof t||!1}function r(t){return null==t?"":t+""}function s(t,e){for(var n=-1,i=t.length;++n<i&&-1<e.indexOf(t.charAt(n)););return n}function a(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function o(e,n){return t(e.a,n.a)||e.b-n.b}function h(t){return Rt[t]}function c(t){return kt[t]}function l(t,e,n){return e?t=Ht[t]:n&&(t=Ft[t]),"\\"+t}function u(t){return"\\"+Ft[t]}function d(t,e,n){var i=t.length;for(e+=n?0:-1;n?e--:++e<i;){var r=t[e];if(r!==r)return e}return-1}function p(t){return!!t&&"object"==typeof t}function f(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,e){for(var n=-1,i=t.length,r=-1,s=[];++n<i;)t[n]===e&&(t[n]=H,s[++r]=n);return s}function g(t){for(var e=-1,n=t.length;++e<n&&f(t.charCodeAt(e)););return e}function m(t){for(var e=t.length;e--&&f(t.charCodeAt(e)););return e}function v(t){return Bt[t]}function y(f){function Rt(t){if(p(t)&&!(Ls(t)||t instanceof Nt)){if(t instanceof Bt)return t;if(tr.call(t,"__chain__")&&tr.call(t,"__wrapped__"))return Un(t)}return new Bt(t)}function kt(){}function Bt(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Nt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lr,this.__views__=[]}function Ht(){this.__data__={}}function Ft(t){var e=t?t.length:0;for(this.data={hash:gr(null),set:new lr};e--;)this.push(t[e])}function Xt(t,e){var n=t.data;return("string"==typeof e||gi(e)?n.set.has(e):n.hash[e])?0:-1}function Ut(t,e){var n=-1,i=t.length;for(e||(e=Fi(i));++n<i;)e[n]=t[n];return e}function Gt(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t}function qt(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function zt(t,e){for(var n=-1,i=t.length,r=-1,s=[];++n<i;){var a=t[n];e(a,n,t)&&(s[++r]=a)}return s}function Wt(t,e){for(var n=-1,i=t.length,r=Fi(i);++n<i;)r[n]=e(t[n],n,t);return r}function Qt(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Jt(t,e,n,i){var r=-1,s=t.length;for(i&&s&&(n=t[++r]);++r<s;)n=e(n,t[r],r,t);return n}function Kt(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Zt(t,e,n,i){return t!==S&&tr.call(i,n)?t:e}function $t(t,e,n){for(var i=-1,r=Ns(e),s=r.length;++i<s;){var a=r[i],o=t[a],h=n(o,e[a],a,t,e);(h===h?h===o:o!==o)&&(o!==S||a in t)||(t[a]=h)}return t}function te(t,e){return null==e?t:ne(e,Ns(e),t)}function ee(t,e){for(var n=-1,i=null==t,r=!i&&Cn(t),s=r?t.length:0,a=e.length,o=Fi(a);++n<a;){var h=e[n];o[n]=r?An(h,s)?t[h]:S:i?S:t[h]}return o}function ne(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var s=e[i];n[s]=t[s]}return n}function ie(t,e,n){var i=typeof t;return"function"==i?e===S?t:He(t,e,n):null==t?Ri:"object"==i?Se(t):e===S?Hi(t):Ee(t,e)}function re(t,e,n,i,r,s,a){var o;if(n&&(o=r?n(t,i,r):n(t)),o!==S)return o;if(!gi(t))return t;if(i=Ls(t)){if(o=Tn(t),!e)return Ut(t,o)}else{var h=nr.call(t),c=h==z;if(h!=V&&h!=F&&(!c||r))return Dt[h]?Ln(t,h,e):r?t:{};if(o=jn(c?{}:t),!e)return te(o,t)}for(s||(s=[]),a||(a=[]),r=s.length;r--;)if(s[r]==t)return a[r];return s.push(t),a.push(o),(i?Gt:pe)(t,function(i,r){o[r]=re(i,e,n,r,t,s,a)}),o}function se(t,e,n){if("function"!=typeof t)throw new Qi(N);return ur(function(){t.apply(S,n)},e)}function ae(t,e){var i=t?t.length:0,r=[];if(!i)return r;var s=-1,a=wn(),o=a===n,h=o&&e.length>=R&&gr&&lr?new Ft(e):null,c=e.length;h&&(a=Xt,o=!1,e=h);t:for(;++s<i;)if(h=t[s],o&&h===h){for(var l=c;l--;)if(e[l]===h)continue t;r.push(h)}else 0>a(e,h,0)&&r.push(h);return r}function oe(t,e){var n=!0;return Dr(t,function(t,i,r){return n=!!e(t,i,r)}),n}function he(t,e,n,i){var r=i,s=r;return Dr(t,function(t,a,o){a=+e(t,a,o),(n(a,r)||a===i&&a===s)&&(r=a,s=t)}),s}function ce(t,e){var n=[];return Dr(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function le(t,e,n,i){var r;return n(t,function(t,n,s){return e(t,n,s)?(r=i?n:t,!1):void 0}),r}function ue(t,e,n,i){i||(i=[]);for(var r=-1,s=t.length;++r<s;){var a=t[r];p(a)&&Cn(a)&&(n||Ls(a)||di(a))?e?ue(a,e,n,i):Qt(i,a):n||(i[i.length]=a)}return i}function de(t,e){kr(t,e,Li)}function pe(t,e){return kr(t,e,Ns)}function fe(t,e){return Br(t,e,Ns)}function _e(t,e){for(var n=-1,i=e.length,r=-1,s=[];++n<i;){var a=e[n];_i(t[a])&&(s[++r]=a)}return s}function ge(t,e,n){if(null!=t){n!==S&&n in Fn(t)&&(e=[n]),n=0;for(var i=e.length;null!=t&&i>n;)t=t[e[n++]];return n&&n==i?t:S}}function me(t,e,n,i,r,s){if(t===e)t=!0;else if(null==t||null==e||!gi(t)&&!p(e))t=t!==t&&e!==e;else t:{var a=me,o=Ls(t),h=Ls(e),c=X,l=X;o||(c=nr.call(t),c==F?c=V:c!=V&&(o=wi(t))),h||(l=nr.call(e),l==F?l=V:l!=V&&wi(e));var u=c==V,h=l==V,l=c==l;if(!l||o||u){if(!i&&(c=u&&tr.call(t,"__wrapped__"),h=h&&tr.call(e,"__wrapped__"),c||h)){t=a(c?t.value():t,h?e.value():e,n,i,r,s);break t}if(l){for(r||(r=[]),s||(s=[]),c=r.length;c--;)if(r[c]==t){t=s[c]==e;break t}r.push(t),s.push(e),t=(o?mn:yn)(t,e,a,n,i,r,s),r.pop(),s.pop()}else t=!1}else t=vn(t,e,c)}return t}function ve(t,e,n){var i=e.length,r=i,s=!n;if(null==t)return!r;for(t=Fn(t);i--;){var a=e[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<r;){var a=e[i],o=a[0],h=t[o],c=a[1];if(s&&a[2]){if(h===S&&!(o in t))return!1}else if(a=n?n(h,c,o):S,a===S?!me(c,h,n,!0):!a)return!1}return!0}function ye(t,e){var n=-1,i=Cn(t)?Fi(t.length):[];return Dr(t,function(t,r,s){i[++n]=e(t,r,s)}),i}function Se(t){var e=xn(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null==t?!1:t[n]===i&&(i!==S||n in Fn(t))}}return function(t){return ve(t,e)}}function Ee(t,e){var n=Ls(t),i=In(t)&&e===e&&!gi(e),r=t+"";return t=Xn(t),function(s){if(null==s)return!1;var a=r;if(s=Fn(s),!(!n&&i||a in s)){if(s=1==t.length?s:ge(s,Pe(t,0,-1)),null==s)return!1;a=Vn(t),s=Fn(s)}return s[a]===e?e!==S||a in s:me(e,s[a],S,!0)}}function we(t,e,n,i,r){if(!gi(t))return t;var s=Cn(e)&&(Ls(e)||wi(e)),a=s?S:Ns(e);return Gt(a||e,function(o,h){if(a&&(h=o,o=e[h]),p(o)){i||(i=[]),r||(r=[]);t:{for(var c=h,l=i,u=r,d=l.length,f=e[c];d--;)if(l[d]==f){t[c]=u[d];break t}var d=t[c],_=n?n(d,f,c,t,e):S,g=_===S;g&&(_=f,Cn(f)&&(Ls(f)||wi(f))?_=Ls(d)?d:Cn(d)?Ut(d):[]:yi(f)||di(f)?_=di(d)?Ti(d):yi(d)?d:{}:g=!1),l.push(f),u.push(_),g?t[c]=we(_,f,n,l,u):(_===_?_!==d:d===d)&&(t[c]=_)}}else c=t[h],l=n?n(c,o,h,t,e):S,(u=l===S)&&(l=o),l===S&&(!s||h in t)||!u&&(l===l?l===c:c!==c)||(t[h]=l)}),t}function xe(t){return function(e){return null==e?S:e[t]}}function be(t){var e=t+"";return t=Xn(t),function(n){return ge(n,t,e)}}function Te(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&An(i)){var r=i;dr.call(t,i,1)}}}function je(t,e){return t+mr(Tr()*(e-t+1))}function Le(t,e,n,i,r){return r(t,function(t,r,s){n=i?(i=!1,t):e(n,t,r,s)}),n}function Pe(t,e,n){var i=-1,r=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>r?0:r+e),n=n===S||n>r?r:+n||0,0>n&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0,n=Fi(r);++i<r;)n[i]=t[i+e];return n}function Ce(t,e){var n;return Dr(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Ae(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function Me(e,n,i){var r=Sn(),s=-1;return n=Wt(n,function(t){return r(t)}),e=ye(e,function(t){return{a:Wt(n,function(e){return e(t)}),b:++s,c:t}}),Ae(e,function(e,n){var r;t:{for(var s=-1,a=e.a,o=n.a,h=a.length,c=i.length;++s<h;)if(r=t(a[s],o[s])){if(s>=c)break t;s=i[s],r*="asc"===s||!0===s?1:-1;break t}r=e.b-n.b}return r})}function Ie(t,e){var n=0;return Dr(t,function(t,i,r){n+=+e(t,i,r)||0}),n}function Oe(t,e){var i=-1,r=wn(),s=t.length,a=r===n,o=a&&s>=R,h=o&&gr&&lr?new Ft(void 0):null,c=[];h?(r=Xt,a=!1):(o=!1,h=e?[]:c);t:for(;++i<s;){var l=t[i],u=e?e(l,i,t):l;if(a&&l===l){for(var d=h.length;d--;)if(h[d]===u)continue t;e&&h.push(u),c.push(l)}else 0>r(h,u,0)&&((e||o)&&h.push(u),c.push(l))}return c}function De(t,e){for(var n=-1,i=e.length,r=Fi(i);++n<i;)r[n]=t[e[n]];return r}function Re(t,e,n,i){for(var r=t.length,s=i?r:-1;(i?s--:++s<r)&&e(t[s],s,t););return n?Pe(t,i?0:s,i?s+1:r):Pe(t,i?s+1:0,i?r:s)}function ke(t,e){var n=t;n instanceof Nt&&(n=n.value());for(var i=-1,r=e.length;++i<r;)var s=e[i],n=s.func.apply(s.thisArg,Qt([n],s.args));return n}function Be(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&Cr>=r){for(;r>i;){var s=i+r>>>1,a=t[s];(n?e>=a:e>a)&&null!==a?i=s+1:r=s}return r}return Ne(t,e,Ri,n)}function Ne(t,e,n,i){e=n(e);for(var r=0,s=t?t.length:0,a=e!==e,o=null===e,h=e===S;s>r;){var c=mr((r+s)/2),l=n(t[c]),u=l!==S,d=l===l;(a?d||i:o?d&&u&&(i||null!=l):h?d&&(i||u):null==l?0:i?e>=l:e>l)?r=c+1:s=c}return wr(s,Pr)}function He(t,e,n){if("function"!=typeof t)return Ri;if(e===S)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,s){return t.call(e,n,i,r,s)};case 5:return function(n,i,r,s,a){return t.call(e,n,i,r,s,a)}}return function(){return t.apply(e,arguments)}}function Fe(t){var e=new sr(t.byteLength);return new pr(e).set(new pr(t)),e}function Xe(t,e,n){for(var i=n.length,r=-1,s=Er(t.length-i,0),a=-1,o=e.length,h=Fi(o+s);++a<o;)h[a]=e[a];for(;++r<i;)h[n[r]]=t[r];for(;s--;)h[a++]=t[r++];return h}function Ue(t,e,n){for(var i=-1,r=n.length,s=-1,a=Er(t.length-r,0),o=-1,h=e.length,c=Fi(a+h);++s<a;)c[s]=t[s];for(a=s;++o<h;)c[a+o]=e[o];for(;++i<r;)c[a+n[i]]=t[s++];return c}function Ge(t,e){return function(n,i,r){var s=e?e():{};if(i=Sn(i,r,3),Ls(n)){r=-1;for(var a=n.length;++r<a;){var o=n[r];t(s,o,i(o,r,n),n)}}else Dr(n,function(e,n,r){t(s,e,i(e,n,r),r)});return s}}function qe(t){return li(function(e,n){var i=-1,r=null==e?0:n.length,s=r>2?n[r-2]:S,a=r>2?n[2]:S,o=r>1?n[r-1]:S;for("function"==typeof s?(s=He(s,o,5),r-=2):(s="function"==typeof o?o:S,r-=s?1:0),a&&Mn(n[0],n[1],a)&&(s=3>r?S:s,r=1);++i<r;)(a=n[i])&&t(e,a,s);return e})}function ze(t,e){return function(n,i){var r=n?Fr(n):0;if(!Dn(r))return t(n,i);for(var s=e?r:-1,a=Fn(n);(e?s--:++s<r)&&!1!==i(a[s],s,a););return n}}function Ye(t){return function(e,n,i){var r=Fn(e);i=i(e);for(var s=i.length,a=t?s:-1;t?a--:++a<s;){var o=i[a];if(!1===n(r[o],o,r))break}return e}}function Ve(t,e){function n(){return(this&&this!==Yt&&this instanceof n?i:t).apply(e,arguments)}var i=Qe(t);return n}function We(t){return function(e){var n=-1;e=Oi(Ai(e));for(var i=e.length,r="";++n<i;)r=t(r,e[n],n);return r}}function Qe(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Or(t.prototype),e=t.apply(n,e);return gi(e)?e:n}}function Je(t){function e(n,i,r){return r&&Mn(n,i,r)&&(i=S),n=gn(n,t,S,S,S,S,S,i),n.placeholder=e.placeholder,n}return e}function Ke(t,e){return li(function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(S,n))})}function Ze(t,e){return function(n,i,r){if(r&&Mn(n,i,r)&&(i=S),i=Sn(i,r,3),1==i.length){r=n=Ls(n)?n:Hn(n);for(var s=i,a=-1,o=r.length,h=e,c=h;++a<o;){var l=r[a],u=+s(l);t(u,h)&&(h=u,c=l)}if(r=c,!n.length||r!==e)return r}return he(n,i,t,e)}}function $e(t,n){return function(i,r,s){return r=Sn(r,s,3),Ls(i)?(r=e(i,r,n),r>-1?i[r]:S):le(i,r,t)}}function tn(t){return function(n,i,r){return n&&n.length?(i=Sn(i,r,3),e(n,i,t)):-1}}function en(t){return function(e,n,i){return n=Sn(n,i,3),le(e,n,t,!0)}}function nn(t){return function(){for(var e,n=arguments.length,i=t?n:-1,r=0,s=Fi(n);t?i--:++i<n;){var a=s[r++]=arguments[i];if("function"!=typeof a)throw new Qi(N);!e&&Bt.prototype.thru&&"wrapper"==En(a)&&(e=new Bt([],!0))}for(i=e?-1:n;++i<n;){var a=s[i],r=En(a),o="wrapper"==r?Hr(a):S;e=o&&On(o[0])&&o[1]==(C|T|L|A)&&!o[4].length&&1==o[9]?e[En(o[0])].apply(e,o[3]):1==a.length&&On(a)?e[r]():e.thru(a)}return function(){var t=arguments,i=t[0];if(e&&1==t.length&&Ls(i)&&i.length>=R)return e.plant(i).value();for(var r=0,t=n?s[r].apply(this,t):i;++r<n;)t=s[r].call(this,t);return t}}}function rn(t,e){return function(n,i,r){return"function"==typeof i&&r===S&&Ls(n)?t(n,i):e(n,He(i,r,3))}}function sn(t){return function(e,n,i){return("function"!=typeof n||i!==S)&&(n=He(n,i,3)),t(e,n,Li)}}function an(t){return function(e,n,i){return("function"!=typeof n||i!==S)&&(n=He(n,i,3)),t(e,n)}}function on(t){return function(e,n,i){var r={};return n=Sn(n,i,3),pe(e,function(e,i,s){s=n(e,i,s),i=t?s:i,e=t?e:s,r[i]=e}),r}}function hn(t){return function(e,n,i){return e=r(e),(t?e:"")+dn(e,n,i)+(t?"":e)}}function cn(t){var e=li(function(n,i){var r=_(i,e.placeholder);return gn(n,t,S,i,r)});return e}function ln(t,e){return function(n,i,r,s){var a=3>arguments.length;return"function"==typeof i&&s===S&&Ls(n)?t(n,i,r,a):Le(n,Sn(i,s,4),r,a,e)}}function un(t,e,n,i,r,s,a,o,h,c){function l(){for(var y=arguments.length,E=y,b=Fi(y);E--;)b[E]=arguments[E];if(i&&(b=Xe(b,i,r)),s&&(b=Ue(b,s,a)),f||m){var E=l.placeholder,T=_(b,E),y=y-T.length;if(c>y){var j=o?Ut(o):S,y=Er(c-y,0),C=f?T:S,T=f?S:T,A=f?b:S,b=f?S:b;return e|=f?L:P,e&=~(f?P:L),g||(e&=~(w|x)),b=[t,e,n,A,C,b,T,j,h,y],j=un.apply(S,b),On(t)&&Xr(j,b),j.placeholder=E,j}}if(E=d?n:this,j=p?E[t]:t,o)for(y=b.length,C=wr(o.length,y),T=Ut(b);C--;)A=o[C],b[C]=An(A,y)?T[A]:S;return u&&h<b.length&&(b.length=h),this&&this!==Yt&&this instanceof l&&(j=v||Qe(t)),j.apply(E,b)}var u=e&C,d=e&w,p=e&x,f=e&T,g=e&b,m=e&j,v=p?S:Qe(t);return l}function dn(t,e,n){return t=t.length,e=+e,e>t&&yr(e)?(e-=t,n=null==n?" ":n+"",Mi(n,_r(e/n.length)).slice(0,e)):""}function pn(t,e,n,i){function r(){for(var e=-1,o=arguments.length,h=-1,c=i.length,l=Fi(c+o);++h<c;)l[h]=i[h];for(;o--;)l[h++]=arguments[++e];return(this&&this!==Yt&&this instanceof r?a:t).apply(s?n:this,l)}var s=e&w,a=Qe(t);return r}function fn(t){var e=qi[t];return function(t,n){return(n=n===S?0:+n||0)?(n=hr(10,n),e(t*n)/n):e(t)}}function _n(t){return function(e,n,i,r){var s=Sn(i);return null==i&&s===ie?Be(e,n,t):Ne(e,n,s(i,r,1),t)}}function gn(t,e,n,i,r,s,a,o){var h=e&x;if(!h&&"function"!=typeof t)throw new Qi(N);var c=i?i.length:0;if(c||(e&=~(L|P),i=r=S),c-=r?r.length:0,e&P){var l=i,u=r;i=r=S}var d=h?S:Hr(t);return n=[t,e,n,i,r,l,u,s,a,o],d&&(i=n[1],e=d[1],o=i|e,r=e==C&&i==T||e==C&&i==A&&n[7].length<=d[8]||e==(C|A)&&i==T,(C>o||r)&&(e&w&&(n[2]=d[2],o|=i&w?0:b),(i=d[3])&&(r=n[3],n[3]=r?Xe(r,i,d[4]):Ut(i),n[4]=r?_(n[3],H):Ut(d[4])),(i=d[5])&&(r=n[5],n[5]=r?Ue(r,i,d[6]):Ut(i),n[6]=r?_(n[5],H):Ut(d[6])),(i=d[7])&&(n[7]=Ut(i)),e&C&&(n[8]=null==n[8]?d[8]:wr(n[8],d[8])),null==n[9]&&(n[9]=d[9]),n[0]=d[0],n[1]=o),e=n[1],o=n[9]),n[9]=null==o?h?0:t.length:Er(o-c,0)||0,(d?Nr:Xr)(e==w?Ve(n[0],n[2]):e!=L&&e!=(w|L)||n[4].length?un.apply(S,n):pn.apply(S,n),n)}function mn(t,e,n,i,r,s,a){var o=-1,h=t.length,c=e.length;if(h!=c&&(!r||h>=c))return!1;for(;++o<h;){var l=t[o],c=e[o],u=i?i(r?c:l,r?l:c,o):S;if(u!==S){if(u)continue;return!1}if(r){if(!Kt(e,function(t){return l===t||n(l,t,i,r,s,a)}))return!1}else if(l!==c&&!n(l,c,i,r,s,a))return!1}return!0}function vn(t,e,n){switch(n){case U:case G:return+t==+e;case q:return t.name==e.name&&t.message==e.message;case Y:return t!=+t?e!=+e:t==+e;case W:case Q:return t==e+""}return!1}function yn(t,e,n,i,r,s,a){var o=Ns(t),h=o.length,c=Ns(e).length;if(h!=c&&!r)return!1;for(c=h;c--;){var l=o[c];if(!(r?l in e:tr.call(e,l)))return!1}for(var u=r;++c<h;){var l=o[c],d=t[l],p=e[l],f=i?i(r?p:d,r?d:p,l):S;if(f===S?!n(d,p,i,r,s,a):!f)return!1;u||(u="constructor"==l)}return u||(n=t.constructor,i=e.constructor,!(n!=i&&"constructor"in t&&"constructor"in e)||"function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)?!0:!1}function Sn(t,e,n){var i=Rt.callback||Di,i=i===Di?ie:i;return n?i(t,e,n):i}function En(t){for(var e=t.name+"",n=Ir[e],i=n?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==t)return r.name}return e}function wn(t,e,i){var r=Rt.indexOf||Yn,r=r===Yn?n:r;return t?r(t,e,i):r}function xn(t){t=Pi(t);for(var e=t.length;e--;){var n=t[e][1];t[e][2]=n===n&&!gi(n)}return t}function bn(t,e){var n=null==t?S:t[e];return mi(n)?n:S}function Tn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&tr.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function jn(t){return t=t.constructor,"function"==typeof t&&t instanceof t||(t=Yi),new t}function Ln(t,e,n){var i=t.constructor;switch(e){case J:return Fe(t);case U:case G:return new i(+t);case K:case Z:case $:case tt:case et:case nt:case it:case rt:case st:return e=t.buffer,new i(n?Fe(e):e,t.byteOffset,t.length);case Y:case Q:return new i(t);case W:var r=new i(t.source,bt.exec(t));r.lastIndex=t.lastIndex}return r}function Pn(t,e,n){return null==t||In(e,t)||(e=Xn(e),t=1==e.length?t:ge(t,Pe(e,0,-1)),e=Vn(e)),e=null==t?t:t[e],null==e?S:e.apply(t,n)}function Cn(t){return null!=t&&Dn(Fr(t))}function An(t,e){return t="number"==typeof t||Lt.test(t)?+t:-1,e=null==e?Ar:e,t>-1&&0==t%1&&e>t}function Mn(t,e,n){if(!gi(n))return!1;var i=typeof e;return("number"==i?Cn(n)&&An(e,n.length):"string"==i&&e in n)?(e=n[e],t===t?t===e:e!==e):!1}function In(t,e){var n=typeof t;return"string"==n&&mt.test(t)||"number"==n?!0:Ls(t)?!1:!gt.test(t)||null!=e&&t in Fn(e)}function On(t){var e=En(t),n=Rt[e];return"function"==typeof n&&e in Nt.prototype?t===n?!0:(e=Hr(n),!!e&&t===e[0]):!1}function Dn(t){return"number"==typeof t&&t>-1&&0==t%1&&Ar>=t}function Rn(t,e){return t===S?e:Ps(t,e,Rn)}function kn(t,e){t=Fn(t);for(var n=-1,i=e.length,r={};++n<i;){var s=e[n];s in t&&(r[s]=t[s])}return r}function Bn(t,e){var n={};return de(t,function(t,i,r){e(t,i,r)&&(n[i]=t)}),n}function Nn(t){for(var e=Li(t),n=e.length,i=n&&t.length,r=!!i&&Dn(i)&&(Ls(t)||di(t)),s=-1,a=[];++s<n;){var o=e[s];(r&&An(o,i)||tr.call(t,o))&&a.push(o)}return a}function Hn(t){return null==t?[]:Cn(t)?gi(t)?t:Yi(t):Ci(t)}function Fn(t){return gi(t)?t:Yi(t)}function Xn(t){if(Ls(t))return t;var e=[];return r(t).replace(vt,function(t,n,i,r){e.push(i?r.replace(wt,"$1"):n||t)}),e}function Un(t){return t instanceof Nt?t.clone():new Bt(t.__wrapped__,t.__chain__,Ut(t.__actions__))}function Gn(t,e,n){return t&&t.length?((n?Mn(t,e,n):null==e)&&(e=1),Pe(t,0>e?0:e)):[]}function qn(t,e,n){var i=t?t.length:0;return i?((n?Mn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Pe(t,0,0>e?0:e)):[]}function zn(t){return t?t[0]:S}function Yn(t,e,i){var r=t?t.length:0;if(!r)return-1;if("number"==typeof i)i=0>i?Er(r+i,0):i;else if(i)return i=Be(t,e),r>i&&(e===e?e===t[i]:t[i]!==t[i])?i:-1;return n(t,e,i||0)}function Vn(t){var e=t?t.length:0;return e?t[e-1]:S}function Wn(t){return Gn(t,1)}function Qn(t,e,i,r){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(r=i,i=Mn(t,e,r)?S:e,e=!1);var s=Sn();if((null!=i||s!==ie)&&(i=s(i,r,3)),e&&wn()===n){e=i;var a;i=-1,r=t.length;for(var s=-1,o=[];++i<r;){var h=t[i],c=e?e(h,i,t):h;i&&a===c||(a=c,o[++s]=h)}t=o}else t=Oe(t,i);return t}function Jn(t){if(!t||!t.length)return[];var e=-1,n=0;t=zt(t,function(t){return Cn(t)?(n=Er(t.length,n),!0):void 0});for(var i=Fi(n);++e<n;)i[e]=Wt(t,xe(e));return i}function Kn(t,e,n){return t&&t.length?(t=Jn(t),null==e?t:(e=He(e,n,4),Wt(t,function(t){return Jt(t,e,S,!0)}))):[]}function Zn(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Ls(t[0])||(e=[]);++n<i;){var s=t[n];e?r[s]=e[n]:s&&(r[s[0]]=s[1])}return r}function $n(t){return t=Rt(t),t.__chain__=!0,t}function ti(t,e,n){return e.call(n,t)}function ei(t,e,n){var i=Ls(t)?qt:oe;return n&&Mn(t,e,n)&&(e=S),("function"!=typeof e||n!==S)&&(e=Sn(e,n,3)),i(t,e)}function ni(t,e,n){var i=Ls(t)?zt:ce;return e=Sn(e,n,3),i(t,e)}function ii(t,e,n,i){var r=t?Fr(t):0;return Dn(r)||(t=Ci(t),r=t.length),n="number"!=typeof n||i&&Mn(e,n,i)?0:0>n?Er(r+n,0):n||0,"string"==typeof t||!Ls(t)&&Ei(t)?r>=n&&-1<t.indexOf(e,n):!!r&&-1<wn(t,e,n)}function ri(t,e,n){var i=Ls(t)?Wt:ye;return e=Sn(e,n,3),i(t,e)}function si(t,e,n){if(n?Mn(t,e,n):null==e){t=Hn(t);var i=t.length;return i>0?t[je(0,i-1)]:S}n=-1,t=bi(t);var i=t.length,r=i-1;for(e=wr(0>e?0:+e||0,i);++n<e;){var i=je(n,r),s=t[i];t[i]=t[n],t[n]=s}return t.length=e,t}function ai(t,e,n){var i=Ls(t)?Kt:Ce;return n&&Mn(t,e,n)&&(e=S),("function"!=typeof e||n!==S)&&(e=Sn(e,n,3)),i(t,e)}function oi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Qi(N);var i=t;t=e,e=i}return function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=S),n}}function hi(t,e,n){function i(e,n){n&&ar(n),h=d=p=S,e&&(f=ps(),c=t.apply(u,o),d||h||(o=u=S))}function r(){var t=e-(ps()-l);0>=t||t>e?i(p,h):d=ur(r,t)}function s(){i(g,d)}function a(){if(o=arguments,l=ps(),u=this,p=g&&(d||!m),!1===_)var n=m&&!d;else{h||m||(f=l);var i=_-(l-f),a=0>=i||i>_;a?(h&&(h=ar(h)),f=l,c=t.apply(u,o)):h||(h=ur(s,i))}return a&&d?d=ar(d):d||e===_||(d=ur(r,e)),n&&(a=!0,c=t.apply(u,o)),!a||d||h||(o=u=S),c}var o,h,c,l,u,d,p,f=0,_=!1,g=!0;if("function"!=typeof t)throw new Qi(N);if(e=0>e?0:+e||0,!0===n)var m=!0,g=!1;else gi(n)&&(m=!!n.leading,_="maxWait"in n&&Er(+n.maxWait||0,e),g="trailing"in n?!!n.trailing:g);return a.cancel=function(){d&&ar(d),h&&ar(h),f=0,h=d=p=S},a}function ci(t,e){function n(){var i=arguments,r=e?e.apply(this,i):i[0],s=n.cache;return s.has(r)?s.get(r):(i=t.apply(this,i),n.cache=s.set(r,i),i)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Qi(N);return n.cache=new ci.Cache,n}function li(t,e){if("function"!=typeof t)throw new Qi(N);return e=Er(e===S?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,r=Er(n.length-e,0),s=Fi(r);++i<r;)s[i]=n[e+i];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,n[0],s);case 2:return t.call(this,n[0],n[1],s)}for(r=Fi(e+1),i=-1;++i<e;)r[i]=n[i];return r[e]=s,t.apply(this,r)}}function ui(t,e){return t>e}function di(t){return p(t)&&Cn(t)&&tr.call(t,"callee")&&!cr.call(t,"callee")}function pi(t,e,n,i){return i=(n="function"==typeof n?He(n,i,3):S)?n(t,e):S,i===S?me(t,e,n):!!i}function fi(t){return p(t)&&"string"==typeof t.message&&nr.call(t)==q}function _i(t){return gi(t)&&nr.call(t)==z}function gi(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function mi(t){return null==t?!1:_i(t)?rr.test($i.call(t)):p(t)&&jt.test(t)}function vi(t){return"number"==typeof t||p(t)&&nr.call(t)==Y}function yi(t){var e;if(!p(t)||nr.call(t)!=V||di(t)||!(tr.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e)))return!1;var n;return de(t,function(t,e){n=e}),n===S||tr.call(t,n)}function Si(t){return gi(t)&&nr.call(t)==W}function Ei(t){return"string"==typeof t||p(t)&&nr.call(t)==Q}function wi(t){return p(t)&&Dn(t.length)&&!!Ot[nr.call(t)]}function xi(t,e){return e>t}function bi(t){var e=t?Fr(t):0;return Dn(e)?e?Ut(t):[]:Ci(t)}function Ti(t){return ne(t,Li(t))}function ji(t){return _e(t,Li(t))}function Li(t){if(null==t)return[];gi(t)||(t=Yi(t));for(var e=t.length,e=e&&Dn(e)&&(Ls(t)||di(t))&&e||0,n=t.constructor,i=-1,n="function"==typeof n&&n.prototype===t,r=Fi(e),s=e>0;++i<e;)r[i]=i+"";for(var a in t)s&&An(a,e)||"constructor"==a&&(n||!tr.call(t,a))||r.push(a);return r}function Pi(t){t=Fn(t);for(var e=-1,n=Ns(t),i=n.length,r=Fi(i);++e<i;){var s=n[e];r[e]=[s,t[s]]}return r}function Ci(t){return De(t,Ns(t))}function Ai(t){return(t=r(t))&&t.replace(Pt,h).replace(Et,"")}function Mi(t,e){var n="";if(t=r(t),e=+e,1>e||!t||!yr(e))return n;do e%2&&(n+=t),e=mr(e/2),t+=t;while(e);return n}function Ii(t,e,n){var i=t;return(t=r(t))?(n?Mn(i,e,n):null==e)?t.slice(g(t),m(t)+1):(e+="",t.slice(s(t,e),a(t,e)+1)):t}function Oi(t,e,n){return n&&Mn(t,e,n)&&(e=S),t=r(t),t.match(e||Mt)||[]}function Di(t,e,n){return n&&Mn(t,e,n)&&(e=S),p(t)?ki(t):ie(t,e)}function Ri(t){return t}function ki(t){return Se(re(t,!0))}function Bi(t,e,n){if(null==n){var i=gi(e),r=i?Ns(e):S;((r=r&&r.length?_e(e,r):S)?r.length:i)||(r=!1,n=e,e=t,t=this)}r||(r=_e(e,Ns(e)));var s=!0,i=-1,a=_i(t),o=r.length;!1===n?s=!1:gi(n)&&"chain"in n&&(s=n.chain);for(;++i<o;){n=r[i];var h=e[n];t[n]=h,a&&(t.prototype[n]=function(e){return function(){var n=this.__chain__;if(s||n){var i=t(this.__wrapped__);return(i.__actions__=Ut(this.__actions__)).push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,Qt([this.value()],arguments))}}(h))}return t}function Ni(){}function Hi(t){return In(t)?xe(t):be(t)}f=f?Vt.defaults(Yt.Object(),f,Vt.pick(Yt,It)):Yt;var Fi=f.Array,Xi=f.Date,Ui=f.Error,Gi=f.Function,qi=f.Math,zi=f.Number,Yi=f.Object,Vi=f.RegExp,Wi=f.String,Qi=f.TypeError,Ji=Fi.prototype,Ki=Yi.prototype,Zi=Wi.prototype,$i=Gi.prototype.toString,tr=Ki.hasOwnProperty,er=0,nr=Ki.toString,ir=Yt._,rr=Vi("^"+$i.call(tr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sr=f.ArrayBuffer,ar=f.clearTimeout,or=f.parseFloat,hr=qi.pow,cr=Ki.propertyIsEnumerable,lr=bn(f,"Set"),ur=f.setTimeout,dr=Ji.splice,pr=f.Uint8Array,fr=bn(f,"WeakMap"),_r=qi.ceil,gr=bn(Yi,"create"),mr=qi.floor,vr=bn(Fi,"isArray"),yr=f.isFinite,Sr=bn(Yi,"keys"),Er=qi.max,wr=qi.min,xr=bn(Xi,"now"),br=f.parseInt,Tr=qi.random,jr=zi.NEGATIVE_INFINITY,Lr=zi.POSITIVE_INFINITY,Pr=4294967294,Cr=2147483647,Ar=9007199254740991,Mr=fr&&new fr,Ir={};Rt.support={},Rt.templateSettings={escape:pt,evaluate:ft,interpolate:_t,variable:"",imports:{_:Rt}};var Or=function(){function t(){}return function(e){if(gi(e)){t.prototype=e;var n=new t;t.prototype=S}return n||{}}}(),Dr=ze(pe),Rr=ze(fe,!0),kr=Ye(),Br=Ye(!0),Nr=Mr?function(t,e){return Mr.set(t,e),t}:Ri,Hr=Mr?function(t){return Mr.get(t)}:Ni,Fr=xe("length"),Xr=function(){var t=0,e=0;return function(n,i){var r=ps(),s=D-(r-e);if(e=r,s>0){if(++t>=O)return n}else t=0;return Nr(n,i)}}(),Ur=li(function(t,e){return p(t)&&Cn(t)?ae(t,ue(e,!1,!0)):[]}),Gr=tn(),qr=tn(!0),zr=li(function(t){for(var e=t.length,i=e,r=Fi(l),s=wn(),a=s===n,o=[];i--;){var h=t[i]=Cn(h=t[i])?h:[];r[i]=a&&120<=h.length&&gr&&lr?new Ft(i&&h):null}var a=t[0],c=-1,l=a?a.length:0,u=r[0];t:for(;++c<l;)if(h=a[c],0>(u?Xt(u,h):s(o,h,0))){for(i=e;--i;){var d=r[i];if(0>(d?Xt(d,h):s(t[i],h,0)))continue t}u&&u.push(h),o.push(h)}return o}),Yr=li(function(e,n){n=ue(n);var i=ee(e,n);return Te(e,n.sort(t)),i}),Vr=_n(),Wr=_n(!0),Qr=li(function(t){return Oe(ue(t,!1,!0))}),Jr=li(function(t,e){return Cn(t)?ae(t,e):[]}),Kr=li(Jn),Zr=li(function(t){var e=t.length,n=e>2?t[e-2]:S,i=e>1?t[e-1]:S;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):S,i=S),t.length=e,Kn(t,n,i)}),$r=li(function(t){return t=ue(t),this.thru(function(e){e=Ls(e)?e:[Fn(e)];for(var n=t,i=-1,r=e.length,s=-1,a=n.length,o=Fi(r+a);++i<r;)o[i]=e[i];for(;++s<a;)o[i++]=n[s];return o})}),ts=li(function(t,e){return ee(t,ue(e))}),es=Ge(function(t,e,n){tr.call(t,n)?++t[n]:t[n]=1}),ns=$e(Dr),is=$e(Rr,!0),rs=rn(Gt,Dr),ss=rn(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},Rr),as=Ge(function(t,e,n){tr.call(t,n)?t[n].push(e):t[n]=[e]}),os=Ge(function(t,e,n){t[n]=e}),hs=li(function(t,e,n){var i=-1,r="function"==typeof e,s=In(e),a=Cn(t)?Fi(t.length):[];return Dr(t,function(t){var o=r?e:s&&null!=t?t[e]:S;a[++i]=o?o.apply(t,n):Pn(t,e,n)}),a}),cs=Ge(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ls=ln(Jt,Dr),us=ln(function(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n},Rr),ds=li(function(t,e){if(null==t)return[];var n=e[2];return n&&Mn(e[0],e[1],n)&&(e.length=1),Me(t,ue(e),[])}),ps=xr||function(){return(new Xi).getTime()},fs=li(function(t,e,n){var i=w;if(n.length)var r=_(n,fs.placeholder),i=i|L;return gn(t,i,e,n,r)}),_s=li(function(t,e){e=e.length?ue(e):ji(t);for(var n=-1,i=e.length;++n<i;){var r=e[n];t[r]=gn(t[r],w,t)}return t}),gs=li(function(t,e,n){var i=w|x;if(n.length)var r=_(n,gs.placeholder),i=i|L;return gn(e,i,t,n,r)}),ms=Je(T),vs=Je(j),ys=li(function(t,e){return se(t,1,e)}),Ss=li(function(t,e,n){return se(t,e,n)}),Es=nn(),ws=nn(!0),xs=li(function(t,e){if(e=ue(e),"function"!=typeof t||!qt(e,i))throw new Qi(N);var n=e.length;return li(function(i){for(var r=wr(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)})}),bs=cn(L),Ts=cn(P),js=li(function(t,e){return gn(t,A,S,S,S,ue(e))}),Ls=vr||function(t){return p(t)&&Dn(t.length)&&nr.call(t)==X},Ps=qe(we),Cs=qe(function(t,e,n){return n?$t(t,e,n):te(t,e)}),As=Ke(Cs,function(t,e){return t===S?e:t}),Ms=Ke(Ps,Rn),Is=en(pe),Os=en(fe),Ds=sn(kr),Rs=sn(Br),ks=an(pe),Bs=an(fe),Ns=Sr?function(t){var e=null==t?S:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Cn(t)?Nn(t):gi(t)?Sr(t):[]}:Nn,Hs=on(!0),Fs=on(),Xs=li(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Wt(ue(e),Wi),kn(t,ae(Li(t),e));var n=He(e[0],e[1],3);return Bn(t,function(t,e,i){return!n(t,e,i)})}),Us=li(function(t,e){return null==t?{}:"function"==typeof e[0]?Bn(t,He(e[0],e[1],3)):kn(t,ue(e))}),Gs=We(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),qs=We(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),zs=hn(),Ys=hn(!0),Vs=We(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ws=We(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Qs=li(function(t,e){try{return t.apply(S,e)}catch(n){return fi(n)?n:new Ui(n)}}),Js=li(function(t,e){return function(n){return Pn(n,t,e)}}),Ks=li(function(t,e){return function(n){return Pn(t,n,e)}}),Zs=fn("ceil"),$s=fn("floor"),ta=Ze(ui,jr),ea=Ze(xi,Lr),na=fn("round");return Rt.prototype=kt.prototype,Bt.prototype=Or(kt.prototype),Bt.prototype.constructor=Bt,Nt.prototype=Or(kt.prototype),Nt.prototype.constructor=Nt,Ht.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},Ht.prototype.get=function(t){return"__proto__"==t?S:this.__data__[t]},Ht.prototype.has=function(t){return"__proto__"!=t&&tr.call(this.__data__,t)},Ht.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Ft.prototype.push=function(t){var e=this.data;"string"==typeof t||gi(t)?e.set.add(t):e.hash[t]=!0},ci.Cache=Ht,Rt.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Qi(N);var n=t;t=e,e=n}return t=yr(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},Rt.ary=function(t,e,n){return n&&Mn(t,e,n)&&(e=S),e=t&&null==e?t.length:Er(+e||0,0),gn(t,C,S,S,S,S,e)},Rt.assign=Cs,Rt.at=ts,Rt.before=oi,Rt.bind=fs,Rt.bindAll=_s,Rt.bindKey=gs,Rt.callback=Di,Rt.chain=$n,Rt.chunk=function(t,e,n){e=(n?Mn(t,e,n):null==e)?1:Er(mr(e)||1,1),n=0;for(var i=t?t.length:0,r=-1,s=Fi(_r(i/e));i>n;)s[++r]=Pe(t,n,n+=e);return s},Rt.compact=function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var s=t[e];s&&(r[++i]=s)}return r},Rt.constant=function(t){return function(){return t}},Rt.countBy=es,Rt.create=function(t,e,n){var i=Or(t);return n&&Mn(t,e,n)&&(e=S),e?te(i,e):i},Rt.curry=ms,Rt.curryRight=vs,Rt.debounce=hi,Rt.defaults=As,Rt.defaultsDeep=Ms,Rt.defer=ys,Rt.delay=Ss,Rt.difference=Ur,Rt.drop=Gn,Rt.dropRight=qn,Rt.dropRightWhile=function(t,e,n){return t&&t.length?Re(t,Sn(e,n,3),!0,!0):[]},Rt.dropWhile=function(t,e,n){return t&&t.length?Re(t,Sn(e,n,3),!0):[]},Rt.fill=function(t,e,n,i){var r=t?t.length:0;if(!r)return[];for(n&&"number"!=typeof n&&Mn(t,e,n)&&(n=0,i=r),r=t.length,n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i=i===S||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)t[n++]=e;return t},Rt.filter=ni,Rt.flatten=function(t,e,n){var i=t?t.length:0;return n&&Mn(t,e,n)&&(e=!1),i?ue(t,e):[]},Rt.flattenDeep=function(t){return t&&t.length?ue(t,!0):[]},Rt.flow=Es,Rt.flowRight=ws,Rt.forEach=rs,Rt.forEachRight=ss,Rt.forIn=Ds,Rt.forInRight=Rs,Rt.forOwn=ks,Rt.forOwnRight=Bs,Rt.functions=ji,Rt.groupBy=as,Rt.indexBy=os,Rt.initial=function(t){return qn(t,1)},Rt.intersection=zr,Rt.invert=function(t,e,n){n&&Mn(t,e,n)&&(e=S),n=-1;for(var i=Ns(t),r=i.length,s={};++n<r;){var a=i[n],o=t[a];e?tr.call(s,o)?s[o].push(a):s[o]=[a]:s[o]=a}return s},Rt.invoke=hs,Rt.keys=Ns,Rt.keysIn=Li,Rt.map=ri,Rt.mapKeys=Hs,Rt.mapValues=Fs,Rt.matches=ki,Rt.matchesProperty=function(t,e){
return Ee(t,re(e,!0))},Rt.memoize=ci,Rt.merge=Ps,Rt.method=Js,Rt.methodOf=Ks,Rt.mixin=Bi,Rt.modArgs=xs,Rt.negate=function(t){if("function"!=typeof t)throw new Qi(N);return function(){return!t.apply(this,arguments)}},Rt.omit=Xs,Rt.once=function(t){return oi(2,t)},Rt.pairs=Pi,Rt.partial=bs,Rt.partialRight=Ts,Rt.partition=cs,Rt.pick=Us,Rt.pluck=function(t,e){return ri(t,Hi(e))},Rt.property=Hi,Rt.propertyOf=function(t){return function(e){return ge(t,Xn(e),e+"")}},Rt.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=wn(),r=t.length;++n<r;)for(var s=0,a=t[n];-1<(s=i(e,a,s));)dr.call(e,s,1);return e},Rt.pullAt=Yr,Rt.range=function(t,e,n){n&&Mn(t,e,n)&&(e=n=S),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;var i=-1;e=Er(_r((e-t)/(n||1)),0);for(var r=Fi(e);++i<e;)r[i]=t,t+=n;return r},Rt.rearg=js,Rt.reject=function(t,e,n){var i=Ls(t)?zt:ce;return e=Sn(e,n,3),i(t,function(t,n,i){return!e(t,n,i)})},Rt.remove=function(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,s=[],a=t.length;for(e=Sn(e,n,3);++r<a;)n=t[r],e(n,r,t)&&(i.push(n),s.push(r));return Te(t,s),i},Rt.rest=Wn,Rt.restParam=li,Rt.set=function(t,e,n){if(null==t)return t;var i=e+"";e=null!=t[i]||In(e,t)?[i]:Xn(e);for(var i=-1,r=e.length,s=r-1,a=t;null!=a&&++i<r;){var o=e[i];gi(a)&&(i==s?a[o]=n:null==a[o]&&(a[o]=An(e[i+1])?[]:{})),a=a[o]}return t},Rt.shuffle=function(t){return si(t,Lr)},Rt.slice=function(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Mn(t,e,n)&&(e=0,n=i),Pe(t,e,n)):[]},Rt.sortBy=function(t,e,n){if(null==t)return[];n&&Mn(t,e,n)&&(e=S);var i=-1;return e=Sn(e,n,3),t=ye(t,function(t,n,r){return{a:e(t,n,r),b:++i,c:t}}),Ae(t,o)},Rt.sortByAll=ds,Rt.sortByOrder=function(t,e,n,i){return null==t?[]:(i&&Mn(e,n,i)&&(n=S),Ls(e)||(e=null==e?[]:[e]),Ls(n)||(n=null==n?[]:[n]),Me(t,e,n))},Rt.spread=function(t){if("function"!=typeof t)throw new Qi(N);return function(e){return t.apply(this,e)}},Rt.take=function(t,e,n){return t&&t.length?((n?Mn(t,e,n):null==e)&&(e=1),Pe(t,0,0>e?0:e)):[]},Rt.takeRight=function(t,e,n){var i=t?t.length:0;return i?((n?Mn(t,e,n):null==e)&&(e=1),e=i-(+e||0),Pe(t,0>e?0:e)):[]},Rt.takeRightWhile=function(t,e,n){return t&&t.length?Re(t,Sn(e,n,3),!1,!0):[]},Rt.takeWhile=function(t,e,n){return t&&t.length?Re(t,Sn(e,n,3)):[]},Rt.tap=function(t,e,n){return e.call(n,t),t},Rt.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Qi(N);return!1===n?i=!1:gi(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),hi(t,e,{leading:i,maxWait:+e,trailing:r})},Rt.thru=ti,Rt.times=function(t,e,n){if(t=mr(t),1>t||!yr(t))return[];var i=-1,r=Fi(wr(t,4294967295));for(e=He(e,n,1);++i<t;)4294967295>i?r[i]=e(i):e(i);return r},Rt.toArray=bi,Rt.toPlainObject=Ti,Rt.transform=function(t,e,n,i){var r=Ls(t)||wi(t);return e=Sn(e,i,4),null==n&&(r||gi(t)?(i=t.constructor,n=r?Ls(t)?new i:[]:Or(_i(i)?i.prototype:S)):n={}),(r?Gt:pe)(t,function(t,i,r){return e(n,t,i,r)}),n},Rt.union=Qr,Rt.uniq=Qn,Rt.unzip=Jn,Rt.unzipWith=Kn,Rt.values=Ci,Rt.valuesIn=function(t){return De(t,Li(t))},Rt.where=function(t,e){return ni(t,Se(e))},Rt.without=Jr,Rt.wrap=function(t,e){return e=null==e?Ri:e,gn(e,L,S,[t],[])},Rt.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Cn(n))var i=i?Qt(ae(i,n),ae(n,i)):n}return i?Oe(i):[]},Rt.zip=Kr,Rt.zipObject=Zn,Rt.zipWith=Zr,Rt.backflow=ws,Rt.collect=ri,Rt.compose=ws,Rt.each=rs,Rt.eachRight=ss,Rt.extend=Cs,Rt.iteratee=Di,Rt.methods=ji,Rt.object=Zn,Rt.select=ni,Rt.tail=Wn,Rt.unique=Qn,Bi(Rt,Rt),Rt.add=function(t,e){return(+t||0)+(+e||0)},Rt.attempt=Qs,Rt.camelCase=Gs,Rt.capitalize=function(t){return(t=r(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Rt.ceil=Zs,Rt.clone=function(t,e,n,i){return e&&"boolean"!=typeof e&&Mn(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?re(t,e,He(n,i,3)):re(t,e)},Rt.cloneDeep=function(t,e,n){return"function"==typeof e?re(t,!0,He(e,n,3)):re(t,!0)},Rt.deburr=Ai,Rt.endsWith=function(t,e,n){t=r(t),e+="";var i=t.length;return n=n===S?i:wr(0>n?0:+n||0,i),n-=e.length,n>=0&&t.indexOf(e,n)==n},Rt.escape=function(t){return(t=r(t))&&dt.test(t)?t.replace(lt,c):t},Rt.escapeRegExp=function(t){return(t=r(t))&&St.test(t)?t.replace(yt,l):t||"(?:)"},Rt.every=ei,Rt.find=ns,Rt.findIndex=Gr,Rt.findKey=Is,Rt.findLast=is,Rt.findLastIndex=qr,Rt.findLastKey=Os,Rt.findWhere=function(t,e){return ns(t,Se(e))},Rt.first=zn,Rt.floor=$s,Rt.get=function(t,e,n){return t=null==t?S:ge(t,Xn(e),e+""),t===S?n:t},Rt.gt=ui,Rt.gte=function(t,e){return t>=e},Rt.has=function(t,e){if(null==t)return!1;var n=tr.call(t,e);if(!n&&!In(e)){if(e=Xn(e),t=1==e.length?t:ge(t,Pe(e,0,-1)),null==t)return!1;e=Vn(e),n=tr.call(t,e)}return n||Dn(t.length)&&An(e,t.length)&&(Ls(t)||di(t))},Rt.identity=Ri,Rt.includes=ii,Rt.indexOf=Yn,Rt.inRange=function(t,e,n){return e=+e||0,n===S?(n=e,e=0):n=+n||0,t>=wr(e,n)&&t<Er(e,n)},Rt.isArguments=di,Rt.isArray=Ls,Rt.isBoolean=function(t){return!0===t||!1===t||p(t)&&nr.call(t)==U},Rt.isDate=function(t){return p(t)&&nr.call(t)==G},Rt.isElement=function(t){return!!t&&1===t.nodeType&&p(t)&&!yi(t)},Rt.isEmpty=function(t){return null==t?!0:Cn(t)&&(Ls(t)||Ei(t)||di(t)||p(t)&&_i(t.splice))?!t.length:!Ns(t).length},Rt.isEqual=pi,Rt.isError=fi,Rt.isFinite=function(t){return"number"==typeof t&&yr(t)},Rt.isFunction=_i,Rt.isMatch=function(t,e,n,i){return n="function"==typeof n?He(n,i,3):S,ve(t,xn(e),n)},Rt.isNaN=function(t){return vi(t)&&t!=+t},Rt.isNative=mi,Rt.isNull=function(t){return null===t},Rt.isNumber=vi,Rt.isObject=gi,Rt.isPlainObject=yi,Rt.isRegExp=Si,Rt.isString=Ei,Rt.isTypedArray=wi,Rt.isUndefined=function(t){return t===S},Rt.kebabCase=qs,Rt.last=Vn,Rt.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?Er(i+n,0):wr(n||0,i-1))+1;else if(n)return r=Be(t,e,!0)-1,t=t[r],(e===e?e===t:t!==t)?r:-1;if(e!==e)return d(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1},Rt.lt=xi,Rt.lte=function(t,e){return e>=t},Rt.max=ta,Rt.min=ea,Rt.noConflict=function(){return Yt._=ir,this},Rt.noop=Ni,Rt.now=ps,Rt.pad=function(t,e,n){t=r(t),e=+e;var i=t.length;return e>i&&yr(e)?(i=(e-i)/2,e=mr(i),i=_r(i),n=dn("",i,n),n.slice(0,e)+t+n):t},Rt.padLeft=zs,Rt.padRight=Ys,Rt.parseInt=function(t,e,n){return(n?Mn(t,e,n):null==e)?e=0:e&&(e=+e),t=Ii(t),br(t,e||(Tt.test(t)?16:10))},Rt.random=function(t,e,n){n&&Mn(t,e,n)&&(e=n=S);var i=null==t,r=null==e;return null==n&&(r&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,r=!0)),i&&r&&(e=1,r=!1),t=+t||0,r?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=Tr(),wr(t+n*(e-t+or("1e-"+((n+"").length-1))),e)):je(t,e)},Rt.reduce=ls,Rt.reduceRight=us,Rt.repeat=Mi,Rt.result=function(t,e,n){var i=null==t?S:t[e];return i===S&&(null==t||In(e,t)||(e=Xn(e),t=1==e.length?t:ge(t,Pe(e,0,-1)),i=null==t?S:t[Vn(e)]),i=i===S?n:i),_i(i)?i.call(t):i},Rt.round=na,Rt.runInContext=y,Rt.size=function(t){var e=t?Fr(t):0;return Dn(e)?e:Ns(t).length},Rt.snakeCase=Vs,Rt.some=ai,Rt.sortedIndex=Vr,Rt.sortedLastIndex=Wr,Rt.startCase=Ws,Rt.startsWith=function(t,e,n){return t=r(t),n=null==n?0:wr(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Rt.sum=function(t,e,n){if(n&&Mn(t,e,n)&&(e=S),e=Sn(e,n,3),1==e.length){t=Ls(t)?t:Hn(t),n=t.length;for(var i=0;n--;)i+=+e(t[n])||0;t=i}else t=Ie(t,e);return t},Rt.template=function(t,e,n){var i=Rt.templateSettings;n&&Mn(t,e,n)&&(e=n=S),t=r(t),e=$t(te({},n||e),i,Zt),n=$t(te({},e.imports),i.imports,Zt);var s,a,o=Ns(n),h=De(n,o),c=0;n=e.interpolate||Ct;var l="__p+='";n=Vi((e.escape||Ct).source+"|"+n.source+"|"+(n===_t?xt:Ct).source+"|"+(e.evaluate||Ct).source+"|$","g");var d="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,i,r,o,h){return i||(i=r),l+=t.slice(c,h).replace(At,u),n&&(s=!0,l+="'+__e("+n+")+'"),o&&(a=!0,l+="';"+o+";\n__p+='"),i&&(l+="'+((__t=("+i+"))==null?'':__t)+'"),c=h+e.length,e}),l+="';",(e=e.variable)||(l="with(obj){"+l+"}"),l=(a?l.replace(at,""):l).replace(ot,"$1").replace(ht,"$1;"),l="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(s?",__e=_.escape":"")+(a?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+l+"return __p}",e=Qs(function(){return Gi(o,d+"return "+l).apply(S,h)}),e.source=l,fi(e))throw e;return e},Rt.trim=Ii,Rt.trimLeft=function(t,e,n){var i=t;return(t=r(t))?t.slice((n?Mn(i,e,n):null==e)?g(t):s(t,e+"")):t},Rt.trimRight=function(t,e,n){var i=t;return(t=r(t))?(n?Mn(i,e,n):null==e)?t.slice(0,m(t)+1):t.slice(0,a(t,e+"")+1):t},Rt.trunc=function(t,e,n){n&&Mn(t,e,n)&&(e=S);var i=M;if(n=I,null!=e)if(gi(e)){var s="separator"in e?e.separator:s,i="length"in e?+e.length||0:i;n="omission"in e?r(e.omission):n}else i=+e||0;if(t=r(t),i>=t.length)return t;if(i-=n.length,1>i)return n;if(e=t.slice(0,i),null==s)return e+n;if(Si(s)){if(t.slice(i).search(s)){var a,o=t.slice(0,i);for(s.global||(s=Vi(s.source,(bt.exec(s)||"")+"g")),s.lastIndex=0;t=s.exec(o);)a=t.index;e=e.slice(0,null==a?i:a)}}else t.indexOf(s,i)!=i&&(s=e.lastIndexOf(s),s>-1&&(e=e.slice(0,s)));return e+n},Rt.unescape=function(t){return(t=r(t))&&ut.test(t)?t.replace(ct,v):t},Rt.uniqueId=function(t){var e=++er;return r(t)+e},Rt.words=Oi,Rt.all=ei,Rt.any=ai,Rt.contains=ii,Rt.eq=pi,Rt.detect=ns,Rt.foldl=ls,Rt.foldr=us,Rt.head=zn,Rt.include=ii,Rt.inject=ls,Bi(Rt,function(){var t={};return pe(Rt,function(e,n){Rt.prototype[n]||(t[n]=e)}),t}(),!1),Rt.sample=si,Rt.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return si(e,t)}):si(this.value())},Rt.VERSION=E,Gt("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Rt[t].placeholder=Rt}),Gt(["drop","take"],function(t,e){Nt.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Nt(this);n=null==n?1:Er(mr(n)||0,0);var r=this.clone();return i?r.__takeCount__=wr(r.__takeCount__,n):r.__views__.push({size:n,type:t+(0>r.__dir__?"Right":"")}),r},Nt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Gt(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n!=B;Nt.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:Sn(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),Gt(["first","last"],function(t,e){var n="take"+(e?"Right":"");Nt.prototype[t]=function(){return this[n](1).value()[0]}}),Gt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Nt.prototype[t]=function(){return this.__filtered__?new Nt(this):this[n](1)}}),Gt(["pluck","where"],function(t,e){var n=e?"filter":"map",i=e?Se:Hi;Nt.prototype[t]=function(t){return this[n](i(t))}}),Nt.prototype.compact=function(){return this.filter(Ri)},Nt.prototype.reject=function(t,e){return t=Sn(t,e,1),this.filter(function(e){return!t(e)})},Nt.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||0>e)?new Nt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==S&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n)},Nt.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Nt.prototype.toArray=function(){return this.take(Lr)},pe(Nt.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e),r=Rt[i?"take"+("last"==e?"Right":""):e];r&&(Rt.prototype[e]=function(){function e(t){return i&&a?r(t,1)[0]:r.apply(S,Qt([t],s))}var s=i?[1]:arguments,a=this.__chain__,o=this.__wrapped__,h=!!this.__actions__.length,c=o instanceof Nt,l=s[0],u=c||Ls(o);return u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1),l={func:ti,args:[e],thisArg:S},h=c&&!h,i&&!a?h?(o=o.clone(),o.__actions__.push(l),t.call(o)):r.call(S,this.value())[0]:!i&&u?(o=h?o:new Nt(this),o=t.apply(o,s),o.__actions__.push(l),new Bt(o,a)):this.thru(e)})}),Gt("join pop push replace shift sort splice split unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?Zi:Ji)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);Rt.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),pe(Nt.prototype,function(t,e){var n=Rt[e];if(n){var i=n.name+"";(Ir[i]||(Ir[i]=[])).push({name:e,func:n})}}),Ir[un(S,x).name]=[{name:"wrapper",func:S}],Nt.prototype.clone=function(){var t=new Nt(this.__wrapped__);return t.__actions__=Ut(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ut(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ut(this.__views__),t},Nt.prototype.reverse=function(){if(this.__filtered__){var t=new Nt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Nt.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,i=Ls(e),r=0>n,s=i?e.length:0;t=s;for(var a=this.__views__,o=0,h=-1,c=a.length;++h<c;){var l=a[h],u=l.size;switch(l.type){case"drop":o+=u;break;case"dropRight":t-=u;break;case"take":t=wr(t,o+u);break;case"takeRight":o=Er(o,t-u)}}if(t={start:o,end:t},a=t.start,o=t.end,t=o-a,r=r?o:a-1,a=this.__iteratees__,o=a.length,h=0,c=wr(t,this.__takeCount__),!i||R>s||s==t&&c==t)return ke(e,this.__actions__);i=[];t:for(;t--&&c>h;){for(r+=n,s=-1,l=e[r];++s<o;){var d=a[s],u=d.type,d=d.iteratee(l);if(u==B)l=d;else if(!d){if(u==k)continue t;break t}}i[h++]=l}return i},Rt.prototype.chain=function(){return $n(this)},Rt.prototype.commit=function(){return new Bt(this.value(),this.__chain__)},Rt.prototype.concat=$r,Rt.prototype.plant=function(t){for(var e,n=this;n instanceof kt;){var i=Un(n);e?r.__wrapped__=i:e=i;var r=i,n=n.__wrapped__}return r.__wrapped__=t,e},Rt.prototype.reverse=function(){function t(t){return t.reverse()}var e=this.__wrapped__;return e instanceof Nt?(this.__actions__.length&&(e=new Nt(this)),e=e.reverse(),e.__actions__.push({func:ti,args:[t],thisArg:S}),new Bt(e,this.__chain__)):this.thru(t)},Rt.prototype.toString=function(){return this.value()+""},Rt.prototype.run=Rt.prototype.toJSON=Rt.prototype.valueOf=Rt.prototype.value=function(){return ke(this.__wrapped__,this.__actions__)},Rt.prototype.collect=Rt.prototype.map,Rt.prototype.head=Rt.prototype.first,Rt.prototype.select=Rt.prototype.filter,Rt.prototype.tail=Rt.prototype.rest,Rt}var S,E="3.10.1",w=1,x=2,b=4,T=8,j=16,L=32,P=64,C=128,A=256,M=30,I="...",O=150,D=16,R=200,k=1,B=2,N="Expected a function",H="__lodash_placeholder__",F="[object Arguments]",X="[object Array]",U="[object Boolean]",G="[object Date]",q="[object Error]",z="[object Function]",Y="[object Number]",V="[object Object]",W="[object RegExp]",Q="[object String]",J="[object ArrayBuffer]",K="[object Float32Array]",Z="[object Float64Array]",$="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",nt="[object Uint8Array]",it="[object Uint8ClampedArray]",rt="[object Uint16Array]",st="[object Uint32Array]",at=/\b__p\+='';/g,ot=/\b(__p\+=)''\+/g,ht=/(__e\(.*?\)|\b__t\))\+'';/g,ct=/&(?:amp|lt|gt|quot|#39|#96);/g,lt=/[&<>"'`]/g,ut=RegExp(ct.source),dt=RegExp(lt.source),pt=/<%-([\s\S]+?)%>/g,ft=/<%([\s\S]+?)%>/g,_t=/<%=([\s\S]+?)%>/g,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,mt=/^\w*$/,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,yt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,St=RegExp(yt.source),Et=/[\u0300-\u036f\ufe20-\ufe23]/g,wt=/\\(\\)?/g,xt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bt=/\w*$/,Tt=/^0[xX]/,jt=/^\[object .+?Constructor\]$/,Lt=/^\d+$/,Pt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ct=/($^)/,At=/['\n\r\u2028\u2029\\]/g,Mt=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),It="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),Ot={};Ot[K]=Ot[Z]=Ot[$]=Ot[tt]=Ot[et]=Ot[nt]=Ot[it]=Ot[rt]=Ot[st]=!0,Ot[F]=Ot[X]=Ot[J]=Ot[U]=Ot[G]=Ot[q]=Ot[z]=Ot["[object Map]"]=Ot[Y]=Ot[V]=Ot[W]=Ot["[object Set]"]=Ot[Q]=Ot["[object WeakMap]"]=!1;var Dt={};Dt[F]=Dt[X]=Dt[J]=Dt[U]=Dt[G]=Dt[K]=Dt[Z]=Dt[$]=Dt[tt]=Dt[et]=Dt[Y]=Dt[V]=Dt[W]=Dt[Q]=Dt[nt]=Dt[it]=Dt[rt]=Dt[st]=!0,Dt[q]=Dt[z]=Dt["[object Map]"]=Dt["[object Set]"]=Dt["[object WeakMap]"]=!1;var Rt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Bt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Nt={"function":!0,object:!0},Ht={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xt=Nt[typeof exports]&&exports&&!exports.nodeType&&exports,Ut=Nt[typeof module]&&module&&!module.nodeType&&module,Gt=Nt[typeof self]&&self&&self.Object&&self,qt=Nt[typeof window]&&window&&window.Object&&window,zt=Ut&&Ut.exports===Xt&&Xt,Yt=Xt&&Ut&&"object"==typeof global&&global&&global.Object&&global||qt!==(this&&this.window)&&qt||Gt||this,Vt=y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Yt._=Vt,define(function(){return Vt})):Xt&&Ut?zt?(Ut.exports=Vt)._=Vt:Xt._=Vt:Yt._=Vt}).call(this),!function(t){"use strict";var e=-1,n={onVisible:function(t){var e=n.isSupported();if(!e||!n.hidden())return t(),e;var i=n.change(function(){n.hidden()||(n.unbind(i),t())});return i},change:function(t){if(!n.isSupported())return!1;e+=1;var i=e;return n._callbacks[i]=t,n._listen(),i},unbind:function(t){delete n._callbacks[t]},afterPrerendering:function(t){var e=n.isSupported(),i="prerender";if(!e||i!=n.state())return t(),e;var r=n.change(function(e,s){i!=s&&(n.unbind(r),t())});return r},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(t){var e=n.state();for(var i in n._callbacks)n._callbacks[i].call(n._doc,t,e)},_listen:function(){if(!n._init){var t="visibilitychange";n._doc.webkitVisibilityState&&(t="webkit"+t);var e=function(){n._change.apply(n,arguments)};n._doc.addEventListener?n._doc.addEventListener(t,e):n._doc.attachEvent(t,e),n._init=!0}}};"undefined"!=typeof module&&module.exports?module.exports=n:t.Visibility=n}(this),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i){n[(e+="_")+"constructor"]=i.constructor;for(var r in i)n.hasOwnProperty(r)&&"function"==typeof i[r]&&(n[e+r]=i[r])}return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var n=0,i=t.length;i>n;n++)if(e===t[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var r=i[t];return r&&this.removeEventListener(t,e,n),r=i[t],r?r.push(e):i[t]=[e],e},e.on=function(t,e,n,i,r,s){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,r),i&&t.remove()},s)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var r=i[t];if(r)for(var s=0,a=r.length;a>s;s++)if(r[s]==e){1==a?delete i[t]:r.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(r){}if(t.bubbles&&this.parent){for(var s=this,a=[s];s.parent;)a.push(s=s.parent);var o,h=a.length;for(o=h-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;h>o&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i=1==e?this._captureListeners:this._listeners;if(t&&i){var r=i[t.type];if(!r||!(n=r.length))return;try{t.currentTarget=this}catch(s){}try{t.eventPhase=e}catch(s){}t.removed=!1,r=r.slice();for(var a=0;n>a&&!t.immediatePropagationStopped;a++){var o=r[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.useRAF=!1,t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval};try{Object.defineProperties(t,{interval:{get:t.getInterval,set:t.setInterval},framerate:{get:t.getFPS,set:t.setFPS}})}catch(e){}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=0,t._inited=!1},t.getMeasuredTickTime=function(e){var n=0,i=t._tickTimes;if(!i||i.length<1)return-1;e=Math.min(i.length,e||0|t.getFPS());for(var r=0;e>r;r++)n+=i[r];return n/e},t.getMeasuredFPS=function(e){var n=t._times;return!n||n.length<2?-1:(e=Math.min(n.length-1,e||0|t.getFPS()),1e3/((n[0]-n[e])/e))},t.setPaused=function(e){t.paused=e},t.getPaused=function(){return t.paused},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode||t.useRAF&&t.RAF_SYNCHED;if(e==t.RAF_SYNCHED||e==t.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return t._timerId=n(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,n=t._getTime(),i=n-t._lastTime;if(t._lastTime=n,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=i),t.hasEventListener("tick")){var r=new createjs.Event("tick"),s=t.maxDelta;r.delta=s&&i>s?s:i,r.paused=e,r.time=n,r.runTime=n-t._pausedTime,t.dispatchEvent(r)}for(t._tickTimes.unshift(t._getTime()-n);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(n);t._times.length>100;)t._times.pop()};var n=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return(n&&n.call(performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"UID cannot be instantiated"}t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,s,a,o,h,c,l){this.Event_constructor(t,e,n),this.stageX=i,this.stageY=r,this.rawX=null==h?i:h,this.rawY=null==c?r:c,this.nativeEvent=s,this.pointerID=a,this.primary=!!o,this.relatedTarget=l}var e=createjs.extend(t,createjs.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(n){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,s){this.setValues(t,e,n,i,r,s)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,n,i,r,s){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==i?1:i,this.tx=r||0,this.ty=s||0,this},e.append=function(t,e,n,i,r,s){var a=this.a,o=this.b,h=this.c,c=this.d;return(1!=t||0!=e||0!=n||1!=i)&&(this.a=a*t+h*e,this.b=o*t+c*e,this.c=a*n+h*i,this.d=o*n+c*i),this.tx=a*r+h*s+this.tx,this.ty=o*r+c*s+this.ty,this},e.prepend=function(t,e,n,i,r,s){var a=this.a,o=this.c,h=this.tx;return this.a=t*a+n*this.b,this.b=e*a+i*this.b,this.c=t*o+n*this.d,this.d=e*o+i*this.d,this.tx=t*h+n*this.ty+r,this.ty=e*h+i*this.ty+s,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,n,i,r,s,a,o,h,c){if(s%360)var l=s*t.DEG_TO_RAD,u=Math.cos(l),d=Math.sin(l);else u=1,d=0;return a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,n),this.append(u*i,d*i,-d*r,u*r,0,0)):this.append(u*i,d*i,-d*r,u*r,e,n),(h||c)&&(this.tx-=h*this.a+c*this.c,this.ty-=h*this.b+c*this.d),this},e.prependTransform=function(e,n,i,r,s,a,o,h,c){if(s%360)var l=s*t.DEG_TO_RAD,u=Math.cos(l),d=Math.sin(l);else u=1,d=0;return(h||c)&&(this.tx-=h,this.ty-=c),a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.prepend(u*i,d*i,-d*r,u*r,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,n)):this.prepend(u*i,d*i,-d*r,u*r,e,n),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var n=Math.cos(e),i=Math.sin(e),r=this.a,s=this.b;return this.a=r*n+this.c*i,this.b=s*n+this.d*i,this.c=-r*i+this.c*n,this.d=-s*i+this.d*n,this},e.skew=function(e,n){return e*=t.DEG_TO_RAD,n*=t.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,s=t*i-e*n;return this.a=i/s,this.b=-e/s,this.c=-n/s,this.d=t/s,this.tx=(n*this.ty-i*r)/s,this.ty=-(t*this.ty-e*r)/s,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,n){return n=n||{},n.x=t*this.a+e*this.c+this.tx,n.y=t*this.b+e*this.d+this.ty,n},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a),r=Math.abs(1-n/i);return 1e-5>r?(e.rotation=i/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=i/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,createjs.Matrix2D=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r){this.setValues(t,e,n,i,r)}var e=t.prototype;e.setValues=function(t,e,n,i,r){return this.visible=null==t?!0:!!t,this.alpha=null==e?1:e,this.shadow=n,this.compositeOperation=i,this.matrix=r||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},e.append=function(t,e,n,i,r){return this.alpha*=e,this.shadow=n||this.shadow,this.compositeOperation=i||this.compositeOperation,this.visible=this.visible&&t,r&&this.matrix.appendMatrix(r),this},e.prepend=function(t,e,n,i,r){return this.alpha*=e,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||i,this.visible=this.visible&&t,r&&this.matrix.prependMatrix(r),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]";
},createjs.Point=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i){this.setValues(t,e,n,i)}var e=t.prototype;e.setValues=function(t,e,n,i){return this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this},e.extend=function(t,e,n,i){return n=n||0,i=i||0,t+n>this.x+this.width&&(this.width=t+n-this.x),e+i>this.y+this.height&&(this.height=e+i-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},e.pad=function(t,e,n,i){return this.x-=e,this.y-=t,this.width+=e+i,this.height+=t+n,this},e.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},e.contains=function(t,e,n,i){return n=n||0,i=i||0,t>=this.x&&t+n<=this.x+this.width&&e>=this.y&&e+i<=this.y+this.height},e.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},e.intersection=function(e){var n=e.x,i=e.y,r=n+e.width,s=i+e.height;return this.x>n&&(n=this.x),this.y>i&&(i=this.y),this.x+this.width<r&&(r=this.x+this.width),this.y+this.height<s&&(s=this.y+this.height),n>=r||i>=s?null:new t(n,i,r-n,s-i)},e.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},e.isEmpty=function(){return this.width<=0||this.height<=0},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,s,a){t.addEventListener&&(this.target=t,this.overLabel=null==n?"over":n,this.outLabel=null==e?"out":e,this.downLabel=null==i?"down":i,this.play=r,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),s&&(a&&(s.actionsEnabled=!1,s.gotoAndStop&&s.gotoAndStop(a)),t.hitArea=s))}var e=t.prototype;e.setEnabled=function(t){if(t!=this._enabled){var e=this.target;this._enabled=t,t?(e.cursor="pointer",e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this),e.__reset&&(e._reset=e.__reset,delete e.__reset))}},e.getEnabled=function(){return this._enabled};try{Object.defineProperties(e,{enabled:{get:e.getEnabled,set:e.setEnabled}})}catch(n){}e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,n=this.target,i=t.type;"mousedown"==i?(this._isPressed=!0,e=this.downLabel):"pressup"==i?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"==i?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(e):n.gotoAndStop&&n.gotoAndStop(e)},e._reset=function(){var t=this.paused;this.__reset(),this.paused=t},createjs.ButtonHelper=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i){this.color=t||"black",this.offsetX=e||0,this.offsetY=n||0,this.blur=i||0}var e=t.prototype;t.identity=new t("transparent",0,0,0),e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=createjs.extend(t,createjs.EventDispatcher);e.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(e,{animations:{get:e.getAnimations}})}catch(n){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var n=this.getFrame(t);return n?(e||new createjs.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){throw"SpriteSheet cannot be cloned."},e._parseData=function(t){var e,n,i,r;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(n=t.images.length)>0)for(r=this._images=[],e=0;n>e;e++){var s=t.images[e];if("string"==typeof s){var a=s;s=document.createElement("img"),s.src=a}r.push(s),s.getContext||s.naturalWidth||(this._loadCount++,this.complete=!1,function(t,e){s.onload=function(){t._handleImageLoad(e)}}(this,a),function(t,e){s.onerror=function(){t._handleImageError(e)}}(this,a))}if(null==t.frames);else if(Array.isArray(t.frames))for(this._frames=[],r=t.frames,e=0,n=r.length;n>e;e++){var o=r[e];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else i=t.frames,this._frameWidth=i.width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._spacing=i.spacing||0,this._margin=i.margin||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(i=t.animations)){this._data={};var h;for(h in i){var c={name:h},l=i[h];if("number"==typeof l)r=c.frames=[l];else if(Array.isArray(l))if(1==l.length)c.frames=[l[0]];else for(c.speed=l[3],c.next=l[2],r=c.frames=[],e=l[0];e<=l[1];e++)r.push(e);else{c.speed=l.speed,c.next=l.next;var u=l.frames;r=c.frames="number"==typeof u?[u]:u.slice(0)}(c.next===!0||void 0===c.next)&&(c.next=h),(c.next===!1||r.length<2&&c.next==h)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(h),this._data[h]=c}}}},e._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._handleImageError=function(t){var e=new createjs.Event("error");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent("complete")},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,n=this._frameWidth,i=this._frameHeight,r=this._spacing,s=this._margin;t:for(var a=0,o=this._images;a<o.length;a++)for(var h=o[a],c=h.width,l=h.height,u=s;l-s-i>=u;){for(var d=s;c-s-n>=d;){if(e>=t)break t;e++,this._frames.push({image:h,rect:new createjs.Rectangle(d,u,n,i),regX:this._regX,regY:this._regY}),d+=n+r}u+=i+r}this._numFrames=e}},createjs.SpriteSheet=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,n=t;t.getRGB=function(t,e,n,i){return null!=t&&null==n&&(i=e,n=255&t,e=t>>8&255,t=t>>16&255),null==i?"rgb("+t+","+e+","+n+")":"rgba("+t+","+e+","+n+","+i+")"},t.getHSL=function(t,e,n,i){return null==i?"hsl("+t%360+","+e+"%,"+n+"%)":"hsla("+t%360+","+e+"%,"+n+"%,"+i+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"];var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._ctx=i.getContext("2d"),i.width=i.height=1),e.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(e,{instructions:{get:e.getInstructions}})}catch(r){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,e){this._updateInstructions();for(var n=this._instructions,i=this._storeIndex,r=n.length;r>i;i++)n[i].exec(t,e)},e.drawAsPath=function(t){this._updateInstructions();for(var e,n=this._instructions,i=this._storeIndex,r=n.length;r>i;i++)(e=n[i]).path!==!1&&e.exec(t)},e.moveTo=function(t,e){return this.append(new n.MoveTo(t,e),!0)},e.lineTo=function(t,e){return this.append(new n.LineTo(t,e))},e.arcTo=function(t,e,i,r,s){return this.append(new n.ArcTo(t,e,i,r,s))},e.arc=function(t,e,i,r,s,a){return this.append(new n.Arc(t,e,i,r,s,a))},e.quadraticCurveTo=function(t,e,i,r){return this.append(new n.QuadraticCurveTo(t,e,i,r))},e.bezierCurveTo=function(t,e,i,r,s,a){return this.append(new n.BezierCurveTo(t,e,i,r,s,a))},e.rect=function(t,e,i,r){return this.append(new n.Rect(t,e,i,r))},e.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(t){return this._setFill(t?new n.Fill(t):null)},e.beginLinearGradientFill=function(t,e,i,r,s,a){return this._setFill((new n.Fill).linearGradient(t,e,i,r,s,a))},e.beginRadialGradientFill=function(t,e,i,r,s,a,o,h){return this._setFill((new n.Fill).radialGradient(t,e,i,r,s,a,o,h))},e.beginBitmapFill=function(t,e,i){return this._setFill(new n.Fill(null,i).bitmap(t,e))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,e,i,r,s){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(t,e,i,r,s),this._stroke&&(this._stroke.ignoreScale=s),this._strokeIgnoreScale=s,this},e.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new n.StrokeDash(t,e),this},e.beginStroke=function(t){return this._setStroke(t?new n.Stroke(t):null)},e.beginLinearGradientStroke=function(t,e,i,r,s,a){return this._setStroke((new n.Stroke).linearGradient(t,e,i,r,s,a))},e.beginRadialGradientStroke=function(t,e,i,r,s,a,o,h){return this._setStroke((new n.Stroke).radialGradient(t,e,i,r,s,a,o,h))},e.beginBitmapStroke=function(t,e){return this._setStroke((new n.Stroke).bitmap(t,e))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,e,n,i,r){return this.drawRoundRectComplex(t,e,n,i,r,r,r,r)},e.drawRoundRectComplex=function(t,e,i,r,s,a,o,h){return this.append(new n.RoundRect(t,e,i,r,s,a,o,h))},e.drawCircle=function(t,e,i){return this.append(new n.Circle(t,e,i))},e.drawEllipse=function(t,e,i,r){return this.append(new n.Ellipse(t,e,i,r))},e.drawPolyStar=function(t,e,i,r,s,a){return this.append(new n.PolyStar(t,e,i,r,s,a))},e.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},e.decodePath=function(e){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],i=[2,2,4,6,0],r=0,s=e.length,a=[],o=0,h=0,c=t.BASE_64;s>r;){var l=e.charAt(r),u=c[l],d=u>>3,p=n[d];if(!p||3&u)throw"bad path data (@"+r+"): "+l;var f=i[d];d||(o=h=0),a.length=0,r++;for(var _=(u>>2&1)+2,g=0;f>g;g++){var m=c[e.charAt(r)],v=m>>5?-1:1;m=(31&m)<<6|c[e.charAt(r+1)],3==_&&(m=m<<6|c[e.charAt(r+2)]),m=v*m/10,g%2?o=m+=o:h=m+=h,a[g]=m,r+=_}p.apply(this,a)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(e){var n=this._instructions,i=this._activeInstructions,r=this._commitIndex;if(this._dirty&&i.length){n.length=r,n.push(t.beginCmd);var s=i.length,a=n.length;n.length=a+s;for(var o=0;s>o;o++)n[o+a]=i[o];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,n.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,n.push(this._strokeStyle)),n.push(this._stroke)),this._dirty=!1}e&&(i.length=0,this._commitIndex=n.length)},e._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},e._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(n.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(n.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(n.ArcTo=function(t,e,n,i,r){this.x1=t,this.y1=e,this.x2=n,this.y2=i,this.radius=r}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(t,e,n,i,r,s){this.x=t,this.y=e,this.radius=n,this.startAngle=i,this.endAngle=r,this.anticlockwise=!!s}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(t,e,n,i){this.cpx=t,this.cpy=e,this.x=n,this.y=i}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(t,e,n,i,r,s){this.cp1x=t,this.cp1y=e,this.cp2x=n,this.cp2y=i,this.x=r,this.y=s}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(n.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},e=(n.Fill=function(t,e){this.style=t,this.matrix=e}).prototype,e.exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},e.linearGradient=function(e,n,i,r,s,a){for(var o=this.style=t._ctx.createLinearGradient(i,r,s,a),h=0,c=e.length;c>h;h++)o.addColorStop(n[h],e[h]);return o.props={colors:e,ratios:n,x0:i,y0:r,x1:s,y1:a,type:"linear"},this},e.radialGradient=function(e,n,i,r,s,a,o,h){for(var c=this.style=t._ctx.createRadialGradient(i,r,s,a,o,h),l=0,u=e.length;u>l;l++)c.addColorStop(n[l],e[l]);return c.props={colors:e,ratios:n,x0:i,y0:r,r0:s,x1:a,y1:o,r1:h,type:"radial"},this},e.bitmap=function(e,n){if(e.naturalWidth||e.getContext||e.readyState>=2){var i=this.style=t._ctx.createPattern(e,n||"");i.props={image:e,repetition:n,type:"bitmap"}}return this},e.path=!1,e=(n.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype,e.exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},e.linearGradient=n.Fill.prototype.linearGradient,e.radialGradient=n.Fill.prototype.radialGradient,e.bitmap=n.Fill.prototype.bitmap,e.path=!1,e=(n.StrokeStyle=function(t,e,n,i,r){this.width=t,this.caps=e,this.joints=n,this.miterLimit=i,this.ignoreScale=r}).prototype,e.exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit,e.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale},e.path=!1,(n.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||n.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},n.StrokeDash.EMPTY_SEGMENTS=[],(n.RoundRect=function(t,e,n,i,r,s,a,o){this.x=t,this.y=e,this.w=n,this.h=i,this.radiusTL=r,this.radiusTR=s,this.radiusBR=a,this.radiusBL=o}).prototype.exec=function(t){var e=(c>h?h:c)/2,n=0,i=0,r=0,s=0,a=this.x,o=this.y,h=this.w,c=this.h,l=this.radiusTL,u=this.radiusTR,d=this.radiusBR,p=this.radiusBL;0>l&&(l*=n=-1),l>e&&(l=e),0>u&&(u*=i=-1),u>e&&(u=e),0>d&&(d*=r=-1),d>e&&(d=e),0>p&&(p*=s=-1),p>e&&(p=e),t.moveTo(a+h-u,o),t.arcTo(a+h+u*i,o-u*i,a+h,o+u,u),t.lineTo(a+h,o+c-d),t.arcTo(a+h+d*r,o+c+d*r,a+h-d,o+c,d),t.lineTo(a+p,o+c),t.arcTo(a-p*s,o+c+p*s,a,o+c-p,p),t.lineTo(a,o+l),t.arcTo(a-l*n,o-l*n,a+l,o,l),t.closePath()},(n.Circle=function(t,e,n){this.x=t,this.y=e,this.radius=n}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(n.Ellipse=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}).prototype.exec=function(t){var e=this.x,n=this.y,i=this.w,r=this.h,s=.5522848,a=i/2*s,o=r/2*s,h=e+i,c=n+r,l=e+i/2,u=n+r/2;t.moveTo(e,u),t.bezierCurveTo(e,u-o,l-a,n,l,n),t.bezierCurveTo(l+a,n,h,u-o,h,u),t.bezierCurveTo(h,u+o,l+a,c,l,c),t.bezierCurveTo(l-a,c,e,u+o,e,u)},(n.PolyStar=function(t,e,n,i,r,s){this.x=t,this.y=e,this.radius=n,this.sides=i,this.pointSize=r,this.angle=s}).prototype.exec=function(t){var e=this.x,n=this.y,i=this.radius,r=(this.angle||0)/180*Math.PI,s=this.sides,a=1-(this.pointSize||0),o=Math.PI/s;t.moveTo(e+Math.cos(r)*i,n+Math.sin(r)*i);for(var h=0;s>h;h++)r+=o,1!=a&&t.lineTo(e+Math.cos(r)*i*a,n+Math.sin(r)*i*a),r+=o,t.lineTo(e+Math.cos(r)*i,n+Math.sin(r)*i);t.closePath()},t.beginCmd=new n.BeginPath,createjs.Graphics=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var e=createjs.extend(t,createjs.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1;var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(t._hitTestCanvas=n,t._hitTestContext=n.getContext("2d"),n.width=n.height=1),t._nextCacheID=1,e.getStage=function(){for(var t=this,e=createjs.Stage;t.parent;)t=t.parent;return t instanceof e?t:null};try{Object.defineProperties(e,{stage:{get:e.getStage}})}catch(i){}e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var n=this.cacheCanvas;if(e||!n)return!1;var i=this._cacheScale;return t.drawImage(n,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,n.width/i,n.height/i),!0},e.updateContext=function(e){var n=this,i=n.mask,r=n._props.matrix;i&&i.graphics&&!i.graphics.isEmpty()&&(i.getMatrix(r),e.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),i.graphics.drawAsPath(e),e.clip(),r.invert(),e.transform(r.a,r.b,r.c,r.d,r.tx,r.ty)),this.getMatrix(r);var s=r.tx,a=r.ty;t._snapToPixelEnabled&&n.snapToPixel&&(s=s+(0>s?-.5:.5)|0,a=a+(0>a?-.5:.5)|0),e.transform(r.a,r.b,r.c,r.d,s,a),e.globalAlpha*=n.alpha,n.compositeOperation&&(e.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(e,n.shadow)},e.cache=function(t,e,n,i,r){r=r||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=n,this._cacheHeight=i,this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=r,this.updateCache()},e.updateCache=function(e){var n=this.cacheCanvas;if(!n)throw"cache() must be called before updateCache()";var i=this._cacheScale,r=this._cacheOffsetX*i,s=this._cacheOffsetY*i,a=this._cacheWidth,o=this._cacheHeight,h=n.getContext("2d"),c=this._getFilterBounds();r+=this._filterOffsetX=c.x,s+=this._filterOffsetY=c.y,a=Math.ceil(a*i)+c.width,o=Math.ceil(o*i)+c.height,a!=n.width||o!=n.height?(n.width=a,n.height=o):e||h.clearRect(0,0,a+1,o+1),h.save(),h.globalCompositeOperation=e,h.setTransform(i,0,0,i,-r,-s),this.draw(h,!0),this._applyFilters(),h.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},e.localToGlobal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,n||new createjs.Point)},e.globalToLocal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,n||new createjs.Point)},e.localToLocal=function(t,e,n,i){return i=this.localToGlobal(t,e,i),n.globalToLocal(i.x,i.y,i)},e.setTransform=function(t,e,n,i,r,s,a,o,h){return this.x=t||0,this.y=e||0,this.scaleX=null==n?1:n,this.scaleY=null==i?1:i,this.rotation=r||0,this.skewX=s||0,this.skewY=a||0,this.regX=o||0,this.regY=h||0,this},e.getMatrix=function(t){var e=this,n=t&&t.identity()||new createjs.Matrix2D;return e.transformMatrix?n.copy(e.transformMatrix):n.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.getConcatenatedMatrix=function(t){for(var e=this,n=this.getMatrix(t);e=e.parent;)n.prependMatrix(e.getMatrix(e._props.matrix));return n},e.getConcatenatedDisplayProps=function(t){t=t?t.identity():new createjs.DisplayProps;var e=this,n=e.getMatrix(t.matrix);do t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&n.prependMatrix(e.getMatrix(e._props.matrix));while(e=e.parent);return t},e.hitTest=function(e,n){var i=t._hitTestContext;i.setTransform(1,0,0,1,-e,-n),this.draw(i);var r=this._testHit(i);return i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),r},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,n,i){null==t&&(this._bounds=t),this._bounds=(this._bounds||new createjs.Rectangle).setValues(t,e,n,i)},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e._testHit=function(e){try{var n=e.getImageData(0,0,1,1).data[3]>1}catch(i){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,i=this.cacheCanvas.height,r=0;t>r;r++)this.filters[r].applyFilter(e,0,0,n,i)},e._getFilterBounds=function(){var t,e=this.filters,n=this._rectangle.setValues(0,0,0,0);if(!e||!(t=e.length))return n;for(var i=0;t>i;i++){var r=this.filters[i];r.getBounds&&r.getBounds(n)}return n},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,n){if(!t)return t;var i=t.x,r=t.y,s=t.width,a=t.height,o=this._props.matrix;o=n?o.identity():this.getMatrix(o),(i||r)&&o.appendTransform(0,0,1,1,0,0,0,-i,-r),e&&o.prependMatrix(e);var h=s*o.a,c=s*o.b,l=a*o.c,u=a*o.d,d=o.tx,p=o.ty,f=d,_=d,g=p,m=p;return(i=h+d)<f?f=i:i>_&&(_=i),(i=h+l+d)<f?f=i:i>_&&(_=i),(i=l+d)<f?f=i:i>_&&(_=i),(r=c+p)<g?g=r:r>m&&(m=r),(r=c+u+p)<g?g=r:r>m&&(m=r),(r=u+p)<g?g=r:r>m&&(m=r),t.setValues(f,g,_-f,m-g)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,n=0,i=e.length;i>n;n++)if(this.hasEventListener(e[n]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=createjs.extend(t,createjs.DisplayObject);e.getNumChildren=function(){return this.children.length};try{Object.defineProperties(e,{numChildren:{get:e.getNumChildren}})}catch(n){}e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var n=this.children.slice(),i=0,r=n.length;r>i;i++){var s=n[i];s.isVisible()&&(t.save(),s.updateContext(t),s.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var n=0;e>n;n++)this.addChild(arguments[n]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t.dispatchEvent("added"),t},e.addChildAt=function(t,e){var n=arguments.length,i=arguments[n-1];if(0>i||i>this.children.length)return arguments[n-2];if(n>2){for(var r=0;n-1>r;r++)this.addChildAt(arguments[r],i+r);return arguments[n-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.dispatchEvent("added"),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var n=!0,i=0;e>i;i++)n=n&&this.removeChild(arguments[i]);return n}return this.removeChildAt(createjs.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var n=[],i=0;e>i;i++)n[i]=arguments[i];n.sort(function(t,e){return e-t});for(var r=!0,i=0;e>i;i++)r=r&&this.removeChildAt(n[i]);return r}if(0>t||t>this.children.length-1)return!1;var s=this.children[t];return s&&(s.parent=null),this.children.splice(t,1),s.dispatchEvent("removed"),!0},e.removeAllChildren=function(){for(var t=this.children;t.length;)this.removeChildAt(0)},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,n=0,i=e.length;i>n;n++)if(e[n].name==t)return e[n];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return createjs.indexOf(this.children,t)},e.swapChildrenAt=function(t,e){var n=this.children,i=n[t],r=n[e];i&&r&&(n[t]=r,n[e]=i)},e.swapChildren=function(t,e){for(var n,i,r=this.children,s=0,a=r.length;a>s&&(r[s]==t&&(n=s),r[s]==e&&(i=s),null==n||null==i);s++);s!=a&&(r[n]=e,r[i]=t)},e.setChildIndex=function(t,e){var n=this.children,i=n.length;if(!(t.parent!=this||0>e||e>=i)){for(var r=0;i>r&&n[r]!=t;r++);r!=i&&r!=e&&(n.splice(r,1),n.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e,n){var i=[],r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,i,n>0,1==n),i},e.getObjectUnderPoint=function(t,e,n){var i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y,null,n>0,1==n)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var n=this._cloneProps(new t);return e&&this._cloneChildren(n),n},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var n=this.children[e];n.tickEnabled&&n._tick&&n._tick(t)}this.DisplayObject__tick(t)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,n=0,i=this.children.length;i>n;n++){var r=this.children[n].clone(!0);r.parent=t,e.push(r)}},e._getObjectsUnderPoint=function(e,n,i,r,s,a){if(a=a||0,!a&&!this._testMask(this,e,n))return null;var o,h=createjs.DisplayObject._hitTestContext;s=s||r&&this._hasMouseEventListener();for(var c=this.children,l=c.length,u=l-1;u>=0;u--){var d=c[u],p=d.hitArea;if(d.visible&&(p||d.isVisible())&&(!r||d.mouseEnabled)&&(p||this._testMask(d,e,n)))if(!p&&d instanceof t){var f=d._getObjectsUnderPoint(e,n,i,r,s,a+1);if(!i&&f)return r&&!this.mouseChildren?this:f}else{if(r&&!s&&!d._hasMouseEventListener())continue;var _=d.getConcatenatedDisplayProps(d._props);if(o=_.matrix,p&&(o.appendMatrix(p.getMatrix(p._props.matrix)),_.alpha=p.alpha),h.globalAlpha=_.alpha,h.setTransform(o.a,o.b,o.c,o.d,o.tx-e,o.ty-n),(p||d).draw(h),!this._testHit(h))continue;if(h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,2,2),!i)return r&&!this.mouseChildren?this:d;i.push(d)}}return null},e._testMask=function(t,e,n){var i=t.mask;if(!i||!i.graphics||i.graphics.isEmpty())return!0;var r=this._props.matrix,s=t.parent;r=s?s.getConcatenatedMatrix(r):r.identity(),r=i.getMatrix(i._props.matrix).prependMatrix(r);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-n),i.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),this._testHit(a)?(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0):!1},e._getBounds=function(t,e){var n=this.DisplayObject_getBounds();if(n)return this._transformBounds(n,t,e);var i=this._props.matrix;i=e?i.identity():this.getMatrix(i),t&&i.prependMatrix(t);for(var r=this.children.length,s=null,a=0;r>a;a++){var o=this.children[a];o.visible&&(n=o._getBounds(i))&&(s?s.extend(n.x,n.y,n.width,n.height):s=n.clone())}return s},createjs.Container=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof t?document.getElementById(t):t,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var e=createjs.extend(t,createjs.Container);e._get_nextStage=function(){return this._nextStage;
},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(n){}e.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(e?n.clearRect(e.x,e.y,e.width,e.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}},e.tick=function(t){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var e=new createjs.Event("tick");if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);this._tick(e),this.dispatchEvent("tickend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){var n,i=this.canvas.getContext("2d"),r=this.canvas.width,s=this.canvas.height;if(t){n=i.getImageData(0,0,r,s);var a=i.globalCompositeOperation;i.globalCompositeOperation="destination-over",i.fillStyle=t,i.fillRect(0,0,r,s)}var o=this.canvas.toDataURL(e||"image/png");return t&&(i.putImageData(n,0,0),i.globalCompositeOperation=a),o},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(0>=t)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,n,i=this._eventListeners;if(!t&&i){for(e in i)n=i[e],n.t.removeEventListener(e,n.f,!1);this._eventListeners=null}else if(t&&!i&&this.canvas){var r=window.addEventListener?window:document,s=this;i=this._eventListeners={},i.mouseup={t:r,f:function(t){s._handleMouseUp(t)}},i.mousemove={t:r,f:function(t){s._handleMouseMove(t)}},i.dblclick={t:this.canvas,f:function(t){s._handleDoubleClick(t)}},i.mousedown={t:this.canvas,f:function(t){s._handleMouseDown(t)}};for(e in i)n=i[e],n.t.addEventListener(e,n.f,!1)}},e.clone=function(){throw"Stage cannot be cloned."},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(n){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var i=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),r=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,a=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth),o=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),h=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),c=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:e.left+i+a,right:e.right+i-h,top:e.top+r+o,bottom:e.bottom+r-c}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,n,i,r){if((!this._prevStage||void 0!==r)&&this.canvas){var s=this._nextStage,a=this._getPointerData(t),o=a.inBounds;this._updatePointerPosition(t,e,n,i),(o||a.inBounds||this.mouseMoveOutside)&&(-1===t&&a.inBounds==!o&&this._dispatchMouseEvent(this,o?"mouseleave":"mouseenter",!1,t,a,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,a,e),this._dispatchMouseEvent(a.target,"pressmove",!0,t,a,e)),s&&s._handlePointerMove(t,e,n,i,null)}},e._updatePointerPosition=function(t,e,n,i){var r=this._getElementRect(this.canvas);n-=r.left,i-=r.top;var s=this.canvas.width,a=this.canvas.height;n/=(r.right-r.left)/s,i/=(r.bottom-r.top)/a;var o=this._getPointerData(t);(o.inBounds=n>=0&&i>=0&&s-1>=n&&a-1>=i)?(o.x=n,o.y=i):this.mouseMoveOutside&&(o.x=0>n?0:n>s-1?s-1:n,o.y=0>i?0:i>a-1?a-1:i),o.posEvtObj=e,o.rawX=n,o.rawY=i,(t===this._primaryPointerID||-1===t)&&(this.mouseX=o.x,this.mouseY=o.y,this.mouseInBounds=o.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,n,i){var r=this._nextStage,s=this._getPointerData(t);if(!this._prevStage||void 0!==i){var a=null,o=s.target;i||!o&&!r||(a=this._getObjectsUnderPoint(s.x,s.y,null,!0)),s.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,s,e,a),s.down=!1),a==o&&this._dispatchMouseEvent(o,"click",!0,t,s,e),this._dispatchMouseEvent(o,"pressup",!0,t,s,e),n?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):s.target=null,r&&r._handlePointerUp(t,e,n,i||a&&this)}},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,n,i,r){this.preventSelection&&e.preventDefault(),(null==this._primaryPointerID||-1===t)&&(this._primaryPointerID=t),null!=i&&this._updatePointerPosition(t,e,n,i);var s=null,a=this._nextStage,o=this._getPointerData(t);r||(s=o.target=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,o,e,s),o.down=!0),this._dispatchMouseEvent(s,"mousedown",!0,t,o,e),a&&a._handlePointerDown(t,e,n,i,r||s&&this)},e._testMouseOver=function(t,e,n){if(!this._prevStage||void 0!==e){var i=this._nextStage;if(!this._mouseOverIntervalID)return void(i&&i._testMouseOver(t,e,n));var r=this._getPointerData(-1);if(r&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var s,a,o,h=r.posEvtObj,c=n||h&&h.target==this.canvas,l=null,u=-1,d="";!e&&(t||this.mouseInBounds&&c)&&(l=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var p=this._mouseOverTarget||[],f=p[p.length-1],_=this._mouseOverTarget=[];for(s=l;s;)_.unshift(s),d||(d=s.cursor),s=s.parent;for(this.canvas.style.cursor=d,!e&&n&&(n.canvas.style.cursor=d),a=0,o=_.length;o>a&&_[a]==p[a];a++)u=a;for(f!=l&&this._dispatchMouseEvent(f,"mouseout",!0,-1,r,h,l),a=p.length-1;a>u;a--)this._dispatchMouseEvent(p[a],"rollout",!1,-1,r,h,l);for(a=_.length-1;a>u;a--)this._dispatchMouseEvent(_[a],"rollover",!1,-1,r,h,f);f!=l&&this._dispatchMouseEvent(l,"mouseover",!0,-1,r,h,f),i&&i._testMouseOver(t,e||l&&this,n||c&&this)}}},e._handleDoubleClick=function(t,e){var n=null,i=this._nextStage,r=this._getPointerData(-1);e||(n=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,r,t)),i&&i._handleDoubleClick(t,e||n&&this)},e._dispatchMouseEvent=function(t,e,n,i,r,s,a){if(t&&(n||t.hasEventListener(e))){var o=new createjs.MouseEvent(e,n,!1,r.x,r.y,s,i,i===this._primaryPointerID||-1===i,r.rawX,r.rawY,a);t.dispatchEvent(o)}},createjs.Stage=createjs.promote(t,"Container")}(),this.createjs=this.createjs||{},function(){function t(t){this.DisplayObject_constructor(),"string"==typeof t?(this.image=document.createElement("img"),this.image.src=t):this.image=t,this.sourceRect=null}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e)||!this.image)return!0;var n=this.image,i=this.sourceRect;if(i){var r=i.x,s=i.y,a=r+i.width,o=s+i.height,h=0,c=0,l=n.width,u=n.height;0>r&&(h-=r,r=0),a>l&&(a=l),0>s&&(c-=s,s=0),o>u&&(o=u),t.drawImage(n,r,s,a-r,o-s,h,c,a-r,o-s)}else t.drawImage(n,0,0);return!0},e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,n=this.sourceRect||e,i=e&&(e.naturalWidth||e.getContext||e.readyState>=2);return i?this._rectangle.setValues(0,0,n.width,n.height):null},e.clone=function(){var e=new t(this.image);return this.sourceRect&&(e.sourceRect=this.sourceRect.clone()),this._cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=e&&this.gotoAndPlay(e)}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(0|this._currentFrame);if(!n)return!1;var i=n.rect;return i.width&&i.height&&t.drawImage(n.image,i.x,i.y,i.width,i.height,-n.regX,-n.regY,i.width,i.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,n=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(n)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return"[Sprite (name="+this.name+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e,n=this._animation,i=this.paused,r=this._currentFrame;if(n){var s=n.speed||1,a=this.currentAnimationFrame;if(e=n.frames.length,a+t*s>=e){var o=n.next;if(this._dispatchAnimationEnd(n,r,i,o,e-1))return;if(o)return this._goto(o,t-(e-a)/s);this.paused=!0,a=n.frames.length-1}else a+=t*s;this.currentAnimationFrame=a,this._currentFrame=n.frames[0|a]}else if(r=this._currentFrame+=t,e=this.spriteSheet.getNumFrames(),r>=e&&e>0&&!this._dispatchAnimationEnd(n,r,i,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();r=0|this._currentFrame,this.currentFrame!=r&&(this.currentFrame=r,this.dispatchEvent("change"))},e._dispatchAnimationEnd=function(t,e,n,i,r){var s=t?t.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=s,a.next=i,this.dispatchEvent(a)}var o=this._animation!=t||this._currentFrame!=e;return o||n||!this.paused||(this.currentAnimationFrame=r,o=!0),o},e._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var n=this.spriteSheet.getAnimation(t);n&&(this._animation=n,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},createjs.Sprite=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),this.graphics=t?t:new createjs.Graphics}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this.graphics.draw(t,this),!0)},e.clone=function(e){var n=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(n))},e.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=createjs.extend(t,createjs.DisplayObject),n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(t._workingContext=n.getContext("2d"),n.width=n.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var n=this.color||"#000";return this.outline?(t.strokeStyle=n,t.lineWidth=1*this.outline):t.fillStyle=n,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),i=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,r=i*t.H_OFFSETS[this.textAlign||"left"],s=this.lineHeight||this.getMeasuredLineHeight(),a=s*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(r,a,i,n.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},e._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t},e._drawText=function(e,n,i){var r=!!e;r||(e=t._workingContext,e.save(),this._prepContext(e));for(var s=this.lineHeight||this.getMeasuredLineHeight(),a=0,o=0,h=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,l=h.length;l>c;c++){var u=h[c],d=null;if(null!=this.lineWidth&&(d=e.measureText(u).width)>this.lineWidth){var p=u.split(/(\s)/);u=p[0],d=e.measureText(u).width;for(var f=1,_=p.length;_>f;f+=2){var g=e.measureText(p[f]+p[f+1]).width;d+g>this.lineWidth?(r&&this._drawTextLine(e,u,o*s),i&&i.push(u),d>a&&(a=d),u=p[f+1],d=e.measureText(u).width,o++):(u+=p[f]+p[f+1],d+=g)}}r&&this._drawTextLine(e,u,o*s),i&&i.push(u),n&&null==d&&(d=e.measureText(u).width),d>a&&(a=d),o++}return n&&(n.width=a,n.height=o*s),r||e.restore(),n},e._drawTextLine=function(t,e,n){this.outline?t.strokeText(e,0,n,this.maxWidth||65535):t.fillText(e,0,n,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var n=t._workingContext;n.save();var i=this._prepContext(n).measureText(e).width;return n.restore(),i},createjs.Text=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Container_constructor(),this.text=t||"",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var e=createjs.extend(t,createjs.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateText(),this.Container_draw(t,e))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},e._getFrameIndex=function(t,e){var n,i=e.getAnimation(t);return i||(t!=(n=t.toUpperCase())||t!=(n=t.toLowerCase())||(n=null),n&&(i=e.getAnimation(n))),i&&i.frames[0]},e._getFrame=function(t,e){var n=this._getFrameIndex(t,e);return null==n?n:e.getFrame(n)},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._updateText=function(){var e,n=0,i=0,r=this._oldProps,s=!1,a=this.spaceWidth,o=this.lineHeight,h=this.spriteSheet,c=t._spritePool,l=this.children,u=0,d=l.length;for(var p in r)r[p]!=this[p]&&(r[p]=this[p],s=!0);if(s){var f=!!this._getFrame(" ",h);f||a||(a=this._getSpaceWidth(h)),o||(o=this._getLineHeight(h));for(var _=0,g=this.text.length;g>_;_++){var m=this.text.charAt(_);if(" "!=m||f)if("\n"!=m&&"\r"!=m){var v=this._getFrameIndex(m,h);null!=v&&(d>u?e=l[u]:(l.push(e=c.length?c.pop():new createjs.Sprite),e.parent=this,d++),e.spriteSheet=h,e.gotoAndStop(v),e.x=n,e.y=i,u++,n+=e.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(_+1)&&_++,n=0,i+=o;else n+=a}for(;d>u;)c.push(e=l.pop()),e.parent=null,d--;c.length>t.maxPoolSize&&(c.length=t.maxPoolSize)}},createjs.BitmapText=createjs.promote(t,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,n,i,r){this.Container_constructor(),!t.inited&&t.init(),this.mode=e||t.INDEPENDENT,this.startPosition=n||0,this.loop=i,this.currentFrame=0,this.timeline=new createjs.Timeline(null,r,{paused:!0,position:n,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function e(){throw"MovieClipPlugin cannot be instantiated."}var n=createjs.extend(t,createjs.Container);t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",t.inited=!1,t.init=function(){t.inited||(e.install(),t.inited=!0)},n.getLabels=function(){return this.timeline.getLabels()},n.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},n.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(n,{labels:{get:n.getLabels},currentLabel:{get:n.getCurrentLabel},totalFrames:{get:n.getDuration},duration:{get:n.getDuration}})}catch(i){}n.initialize=t,n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},n.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this._updateTimeline(),this.Container_draw(t,e),!0)},n.play=function(){this.paused=!1},n.stop=function(){this.paused=!0},n.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},n.gotoAndStop=function(t){this.paused=!0,this._goto(t)},n.advance=function(e){var n=t.INDEPENDENT;if(this.mode==n){for(var i=this,r=i.framerate;(i=i.parent)&&null==r;)i.mode==n&&(r=i._framerate);this._framerate=r;var s=null!=r&&-1!=r&&null!=e?e/(1e3/r)+this._t:1,a=0|s;for(this._t=s-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},n.clone=function(){throw"MovieClip cannot be cloned."},n.toString=function(){return"[MovieClip (name="+this.name+")]"},n._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},n._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(-1==this._prevPos&&(this._prevPos=NaN),this._prevPosition=e,this._t=0,this._updateTimeline())},n._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},n._updateTimeline=function(){var e=this.timeline,n=this.mode!=t.INDEPENDENT;e.loop=null==this.loop?!0:this.loop;var i=n?this.startPosition+(this.mode==t.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,r=n||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=e._calcPosition(i),e.setPosition(i,r),this._prevPosition=e._prevPosition,this._prevPos!=e._prevPos){this.currentFrame=this._prevPos=e._prevPos;for(var s in this._managed)this._managed[s]=1;for(var a=e._tweens,o=0,h=a.length;h>o;o++){var c=a[o],l=c._target;if(l!=this&&!c.passive){var u=c._stepPosition;l instanceof createjs.DisplayObject?this._addManagedChild(l,u):this._setState(l.state,u)}}var d=this.children;for(o=d.length-1;o>=0;o--){var p=d[o].id;1==this._managed[p]&&(this.removeChildAt(o),delete this._managed[p])}}},n._setState=function(t,e){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n],r=i.t,s=i.p;for(var a in s)r[a]=s[a];this._addManagedChild(r,e)}},n._addManagedChild=function(e,n){e._off||(this.addChildAt(e,0),e instanceof t&&(e._synchOffset=n,e.mode==t.INDEPENDENT&&e.autoReset&&!this._managed[e.id]&&e._reset()),this._managed[e.id]=2)},n._getBounds=function(t,e){var n=this.DisplayObject_getBounds();return n||(this._updateTimeline(),this.frameBounds&&(n=this._rectangle.copy(this.frameBounds[this.currentFrame]))),n?this._transformBounds(n,t,e):this.Container__getBounds(t,e)},createjs.MovieClip=createjs.promote(t,"Container"),e.priority=100,e.install=function(){createjs.Tween.installPlugin(e,["startPosition"])},e.init=function(t,e,n){return n},e.step=function(){},e.tween=function(e,n,i,r,s,a){return e.target instanceof t?1==a?s[n]:r[n]:i}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"SpriteSheetUtils cannot be instantiated"}var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.addFlippedFrames=function(e,n,i,r){if(n||i||r){var s=0;n&&t._flip(e,++s,!0,!1),i&&t._flip(e,++s,!1,!0),r&&t._flip(e,++s,!0,!0)}},t.extractFrame=function(e,n){isNaN(n)&&(n=e.getAnimation(n).frames[0]);var i=e.getFrame(n);if(!i)return null;var r=i.rect,s=t._workingCanvas;s.width=r.width,s.height=r.height,t._workingContext.drawImage(i.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height);var a=document.createElement("img");return a.src=s.toDataURL("image/png"),a},t.mergeAlpha=function(t,e,n){n||(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),n.width=Math.max(e.width,t.width),n.height=Math.max(e.height,t.height);var i=n.getContext("2d");return i.save(),i.drawImage(t,0,0),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),i.restore(),n},t._flip=function(e,n,i,r){for(var s=e._images,a=t._workingCanvas,o=t._workingContext,h=s.length/n,c=0;h>c;c++){var l=s[c];l.__tmp=c,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=l.width,a.height=l.height,o.setTransform(i?-1:1,0,0,r?-1:1,i?l.width:0,r?l.height:0),o.drawImage(l,0,0);var u=document.createElement("img");u.src=a.toDataURL("image/png"),u.width=l.width,u.height=l.height,s.push(u)}var d=e._frames,p=d.length/n;for(c=0;p>c;c++){l=d[c];var f=l.rect.clone();u=s[l.image.__tmp+h*n];var _={image:u,rect:f,regX:l.regX,regY:l.regY};i&&(f.x=u.width-f.x-f.width,_.regX=f.width-l.regX),r&&(f.y=u.height-f.y-f.height,_.regY=f.height-l.regY),d.push(_)}var g="_"+(i?"h":"")+(r?"v":""),m=e._animations,v=e._data,y=m.length/n;for(c=0;y>c;c++){var S=m[c];l=v[S];var E={name:S+g,speed:l.speed,next:l.next,frames:[]};l.next&&(E.next+=g),d=l.frames;for(var w=0,x=d.length;x>w;w++)E.frames.push(d[w]+p*n);v[E.name]=E,m.push(E.name)}},createjs.SpriteSheetUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=t||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=createjs.extend(t,createjs.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.addFrame=function(e,n,i,r,s){if(this._data)throw t.ERR_RUNNING;var a=n||e.bounds||e.nominalBounds;return!a&&e.getBounds&&(a=e.getBounds()),a?(i=i||1,this._frames.push({source:e,sourceRect:a,scale:i,funct:r,data:s,index:this._frames.length,height:a.height*i})-1):null},e.addAnimation=function(e,n,i,r){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:n,next:i,speed:r}},e.addMovieClip=function(e,n,i,r,s,a){if(this._data)throw t.ERR_RUNNING;var o=e.frameBounds,h=n||e.bounds||e.nominalBounds;if(!h&&e.getBounds&&(h=e.getBounds()),h||o){var c,l,u=this._frames.length,d=e.timeline.duration;for(c=0;d>c;c++){var p=o&&o[c]?o[c]:h;this.addFrame(e,p,i,this._setupMovieClipFrame,{i:c,f:r,d:s})}var f=e.timeline._labels,_=[];for(var g in f)_.push({index:f[g],label:g});if(_.length)for(_.sort(function(t,e){return t.index-e.index}),c=0,l=_.length;l>c;c++){for(var m=_[c].label,v=u+_[c].index,y=u+(c==l-1?d:_[c+1].index),S=[],E=v;y>E;E++)S.push(E);(!a||(m=a(m,e,v,y)))&&this.addAnimation(m,S,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();if(i.sort(function(t,e){return t.height<=e.height?-1:1}),i[i.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var r=0,s=0,a=0;i.length;){var o=this._fillRow(i,r,a,n,e);if(o.w>s&&(s=o.w),r+=o.h,!o.h||!i.length){var h=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");h.width=this._getSize(s,this.maxWidth),h.height=this._getSize(r,this.maxHeight),this._data.images[a]=h,o.h||(s=r=0,a++)}}},e._setupMovieClipFrame=function(t,e){var n=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=n,e.f&&e.f(t,e.d,e.i)},e._getSize=function(t,e){for(var n=4;Math.pow(2,++n)<t;);return Math.min(e,Math.pow(2,n))},e._fillRow=function(e,n,i,r,s){var a=this.maxWidth,o=this.maxHeight;n+=s;for(var h=o-n,c=s,l=0,u=e.length-1;u>=0;u--){var d=e[u],p=this._scale*d.scale,f=d.sourceRect,_=d.source,g=Math.floor(p*f.x-s),m=Math.floor(p*f.y-s),v=Math.ceil(p*f.height+2*s),y=Math.ceil(p*f.width+2*s);if(y>a)throw t.ERR_DIMENSIONS;v>h||c+y>a||(d.img=i,d.rect=new createjs.Rectangle(c,n,y,v),l=l||v,e.splice(u,1),r[d.index]=[c,n,y,v,i,Math.round(-g+p*_.regX-s),Math.round(-m+p*_.regY-s)],c+=y)}return{w:c,h:l}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,n=!1;e>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var i=this;this._timerID=setTimeout(function(){i._run()},50-t)}var r=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var s=new createjs.Event("progress");s.progress=r,this.dispatchEvent(s)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,n=t.rect,i=t.sourceRect,r=this._data.images[t.img],s=r.getContext("2d");return t.funct&&t.funct(t.source,t.data),s.save(),s.beginPath(),s.rect(n.x,n.y,n.width,n.height),s.clip(),s.translate(Math.ceil(n.x-i.x*e),Math.ceil(n.y-i.y*e)),s.scale(e,e),t.source.draw(s),s.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),"string"==typeof t&&(t=document.getElementById(t)),this.mouseEnabled=!1;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%",this.htmlElement=t,this._oldProps=null}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){return null!=this.htmlElement},e.draw=function(){return!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e._tick=function(t){var e=this.getStage();e&&e.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(t)},e._handleDrawEnd=function(){var t=this.htmlElement;if(t){var e=t.style,n=this.getConcatenatedDisplayProps(this._props),i=n.matrix,r=n.visible?"visible":"hidden";if(r!=e.visibility&&(e.visibility=r),n.visible){var s=this._oldProps,a=s&&s.matrix,o=1e4;if(!a||!a.equals(i)){var h="matrix("+(i.a*o|0)/o+","+(i.b*o|0)/o+","+(i.c*o|0)/o+","+(i.d*o|0)/o+","+(i.tx+.5|0);e.transform=e.WebkitTransform=e.OTransform=e.msTransform=h+","+(i.ty+.5|0)+")",e.MozTransform=h+"px,"+(i.ty+.5|0)+"px)",s||(s=this._oldProps=new createjs.DisplayProps(!0,NaN)),s.matrix.copy(i)}s.alpha!=n.alpha&&(e.opacity=""+(n.alpha*o|0)/o,s.alpha=n.alpha)}}},createjs.DOMElement=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){}var e=t.prototype;e.getBounds=function(t){return t},e.applyFilter=function(t,e,n,i,r,s,a,o){s=s||t,null==a&&(a=e),null==o&&(o=n);try{var h=t.getImageData(e,n,i,r)}catch(c){return!1}return this._applyFilter(h)?(s.putImageData(h,a,o),!0):!1},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},e._applyFilter=function(){return!0},createjs.Filter=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){(isNaN(t)||0>t)&&(t=0),(isNaN(e)||0>e)&&(e=0),(isNaN(n)||1>n)&&(n=1),this.blurX=0|t,this.blurY=0|e,this.quality=0|n}var e=createjs.extend(t,createjs.Filter);t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],
e.getBounds=function(t){var e=0|this.blurX,n=0|this.blurY;if(0>=e&&0>=n)return t;var i=Math.pow(this.quality,.2);return(t||new createjs.Rectangle).pad(e*i+1,n*i+1,e*i+1,n*i+1)},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(e){var n=this.blurX>>1;if(isNaN(n)||0>n)return!1;var i=this.blurY>>1;if(isNaN(i)||0>i)return!1;if(0==n&&0==i)return!1;var r=this.quality;(isNaN(r)||1>r)&&(r=1),r|=0,r>3&&(r=3),1>r&&(r=1);var s=e.data,a=0,o=0,h=0,c=0,l=0,u=0,d=0,p=0,f=0,_=0,g=0,m=0,v=0,y=0,S=0,E=n+n+1|0,w=i+i+1|0,x=0|e.width,b=0|e.height,T=x-1|0,j=b-1|0,L=n+1|0,P=i+1|0,C={r:0,b:0,g:0,a:0},A=C;for(h=1;E>h;h++)A=A.n={r:0,b:0,g:0,a:0};A.n=C;var M={r:0,b:0,g:0,a:0},I=M;for(h=1;w>h;h++)I=I.n={r:0,b:0,g:0,a:0};I.n=M;for(var O=null,D=0|t.MUL_TABLE[n],R=0|t.SHG_TABLE[n],k=0|t.MUL_TABLE[i],B=0|t.SHG_TABLE[i];r-->0;){d=u=0;var N=D,H=R;for(o=b;--o>-1;){for(p=L*(m=s[0|u]),f=L*(v=s[u+1|0]),_=L*(y=s[u+2|0]),g=L*(S=s[u+3|0]),A=C,h=L;--h>-1;)A.r=m,A.g=v,A.b=y,A.a=S,A=A.n;for(h=1;L>h;h++)c=u+((h>T?T:h)<<2)|0,p+=A.r=s[c],f+=A.g=s[c+1],_+=A.b=s[c+2],g+=A.a=s[c+3],A=A.n;for(O=C,a=0;x>a;a++)s[u++]=p*N>>>H,s[u++]=f*N>>>H,s[u++]=_*N>>>H,s[u++]=g*N>>>H,c=d+((c=a+n+1)<T?c:T)<<2,p-=O.r-(O.r=s[c]),f-=O.g-(O.g=s[c+1]),_-=O.b-(O.b=s[c+2]),g-=O.a-(O.a=s[c+3]),O=O.n;d+=x}for(N=k,H=B,a=0;x>a;a++){for(u=a<<2|0,p=P*(m=s[u])|0,f=P*(v=s[u+1|0])|0,_=P*(y=s[u+2|0])|0,g=P*(S=s[u+3|0])|0,I=M,h=0;P>h;h++)I.r=m,I.g=v,I.b=y,I.a=S,I=I.n;for(l=x,h=1;i>=h;h++)u=l+a<<2,p+=I.r=s[u],f+=I.g=s[u+1],_+=I.b=s[u+2],g+=I.a=s[u+3],I=I.n,j>h&&(l+=x);if(u=a,O=M,r>0)for(o=0;b>o;o++)c=u<<2,s[c+3]=S=g*N>>>H,S>0?(s[c]=p*N>>>H,s[c+1]=f*N>>>H,s[c+2]=_*N>>>H):s[c]=s[c+1]=s[c+2]=0,c=a+((c=o+P)<j?c:j)*x<<2,p-=O.r-(O.r=s[c]),f-=O.g-(O.g=s[c+1]),_-=O.b-(O.b=s[c+2]),g-=O.a-(O.a=s[c+3]),O=O.n,u+=x;else for(o=0;b>o;o++)c=u<<2,s[c+3]=S=g*N>>>H,S>0?(S=255/S,s[c]=(p*N>>>H)*S,s[c+1]=(f*N>>>H)*S,s[c+2]=(_*N>>>H)*S):s[c]=s[c+1]=s[c+2]=0,c=a+((c=o+P)<j?c:j)*x<<2,p-=O.r-(O.r=s[c]),f-=O.g-(O.g=s[c+1]),_-=O.b-(O.b=s[c+2]),g-=O.a-(O.a=s[c+3]),O=O.n,u+=x}}return!0},createjs.BlurFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.alphaMap=t,this._alphaMap=null,this._mapData=null}var e=createjs.extend(t,createjs.Filter);e.clone=function(){var e=new t(this.alphaMap);return e._alphaMap=this._alphaMap,e._mapData=this._mapData,e},e.toString=function(){return"[AlphaMapFilter]"},e._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,n=this._mapData,i=0,r=e.length;r>i;i+=4)e[i+3]=n[i]||0;return!0},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,n=e;e instanceof HTMLCanvasElement?t=n.getContext("2d"):(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),n.width=e.width,n.height=e.height,t=n.getContext("2d"),t.drawImage(e,0,0));try{var i=t.getImageData(0,0,e.width,e.height)}catch(r){return!1}return this._mapData=i.data,!0},createjs.AlphaMapFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.mask=t}var e=createjs.extend(t,createjs.Filter);e.applyFilter=function(t,e,n,i,r,s,a,o){return this.mask?(s=s||t,null==a&&(a=e),null==o&&(o=n),s.save(),t!=s?!1:(s.globalCompositeOperation="destination-in",s.drawImage(this.mask,a,o),s.restore(),!0)):!0},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,s,a,o){this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=n?n:1,this.alphaMultiplier=null!=i?i:1,this.redOffset=r||0,this.greenOffset=s||0,this.blueOffset=a||0,this.alphaOffset=o||0}var e=createjs.extend(t,createjs.Filter);e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,n=e.length,i=0;n>i;i+=4)e[i]=e[i]*this.redMultiplier+this.redOffset,e[i+1]=e[i+1]*this.greenMultiplier+this.greenOffset,e[i+2]=e[i+2]*this.blueMultiplier+this.blueOffset,e[i+3]=e[i+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i){this.setColor(t,e,n,i)}var e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t.LENGTH=t.IDENTITY_MATRIX.length,e.setColor=function(t,e,n,i){return this.reset().adjustColor(t,e,n,i)},e.reset=function(){return this.copy(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,n,i){return this.adjustHue(i),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(n)},e.adjustBrightness=function(t){return 0==t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},e.adjustContrast=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,100);var n;return 0>e?n=127+e/100*127:(n=e%1,n=0==n?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-n)+t.DELTA_INDEX[(e<<0)+1]*n,n=127*n+127),this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1]),this},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var e=1+(t>0?3*t/100:t/100),n=.3086,i=.6094,r=.082;return this._multiplyMatrix([n*(1-e)+e,i*(1-e),r*(1-e),0,0,n*(1-e),i*(1-e)+e,r*(1-e),0,0,n*(1-e),i*(1-e),r*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),n=Math.sin(t),i=.213,r=.715,s=.072;return this._multiplyMatrix([i+e*(1-i)+n*-i,r+e*-r+n*-r,s+e*-s+n*(1-s),0,0,i+e*-i+.143*n,r+e*(1-r)+.14*n,s+e*-s+n*-.283,0,0,i+e*-i+n*-(1-i),r+e*-r+n*r,s+e*(1-s)+n*s,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return e=this._fixMatrix(e),e.length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},e.clone=function(){return(new t).copy(this)},e.toArray=function(){for(var e=[],n=0,i=t.LENGTH;i>n;n++)e[n]=this[n];return e},e.copy=function(e){for(var n=t.LENGTH,i=0;n>i;i++)this[i]=e[i];return this},e.toString=function(){return"[ColorMatrix]"},e._multiplyMatrix=function(t){var e,n,i,r=[];for(e=0;5>e;e++){for(n=0;5>n;n++)r[n]=this[n+5*e];for(n=0;5>n;n++){var s=0;for(i=0;5>i;i++)s+=t[n+5*i]*r[i];this[n+5*e]=s}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},createjs.ColorMatrix=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.matrix=t}var e=createjs.extend(t,createjs.Filter);e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,n,i,r,s=t.data,a=s.length,o=this.matrix,h=o[0],c=o[1],l=o[2],u=o[3],d=o[4],p=o[5],f=o[6],_=o[7],g=o[8],m=o[9],v=o[10],y=o[11],S=o[12],E=o[13],w=o[14],x=o[15],b=o[16],T=o[17],j=o[18],L=o[19],P=0;a>P;P+=4)e=s[P],n=s[P+1],i=s[P+2],r=s[P+3],s[P]=e*h+n*c+i*l+r*u+d,s[P+1]=e*p+n*f+i*_+r*g+m,s[P+2]=e*v+n*y+i*S+r*E+w,s[P+3]=e*x+n*b+i*T+r*j+L;return!0},createjs.ColorMatrixFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Touch cannot be instantiated"}t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e,n,i){return e&&e.canvas&&t.isSupported()?e.__touch?!0:(e.__touch={pointers:{},multitouch:!n,preventDefault:!i,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e),!0):!1},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){var n=e.canvas,i=e.__touch.f=function(n){t._IOS_handleEvent(e,n)};n.addEventListener("touchstart",i,!1),n.addEventListener("touchmove",i,!1),n.addEventListener("touchend",i,!1),n.addEventListener("touchcancel",i,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var n=t.__touch.f;e.removeEventListener("touchstart",n,!1),e.removeEventListener("touchmove",n,!1),e.removeEventListener("touchend",n,!1),e.removeEventListener("touchcancel",n,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var n=e.changedTouches,i=e.type,r=0,s=n.length;s>r;r++){var a=n[r],o=a.identifier;a.target==t.canvas&&("touchstart"==i?this._handleStart(t,o,e,a.pageX,a.pageY):"touchmove"==i?this._handleMove(t,o,e,a.pageX,a.pageY):("touchend"==i||"touchcancel"==i)&&this._handleEnd(t,o,e))}}},t._IE_enable=function(e){var n=e.canvas,i=e.__touch.f=function(n){t._IE_handleEvent(e,n)};void 0===window.navigator.pointerEnabled?(n.addEventListener("MSPointerDown",i,!1),window.addEventListener("MSPointerMove",i,!1),window.addEventListener("MSPointerUp",i,!1),window.addEventListener("MSPointerCancel",i,!1),e.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",i,!1),window.addEventListener("pointermove",i,!1),window.addEventListener("pointerup",i,!1),window.addEventListener("pointercancel",i,!1),e.__touch.preventDefault&&(n.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var n=e.type,i=e.pointerId,r=t.__touch.activeIDs;if("MSPointerDown"==n||"pointerdown"==n){if(e.srcElement!=t.canvas)return;r[i]=!0,this._handleStart(t,i,e,e.pageX,e.pageY)}else r[i]&&("MSPointerMove"==n||"pointermove"==n?this._handleMove(t,i,e,e.pageX,e.pageY):("MSPointerUp"==n||"MSPointerCancel"==n||"pointerup"==n||"pointercancel"==n)&&(delete r[i],this._handleEnd(t,i,e)))}},t._handleStart=function(t,e,n,i,r){var s=t.__touch;if(s.multitouch||!s.count){var a=s.pointers;a[e]||(a[e]=!0,s.count++,t._handlePointerDown(e,n,i,r))}},t._handleMove=function(t,e,n,i,r){t.__touch.pointers[e]&&t._handlePointerMove(e,n,i,r)},t._handleEnd=function(t,e,n){var i=t.__touch,r=i.pointers;r[e]&&(i.count--,t._handlePointerUp(e,n,!0),delete r[e])},createjs.Touch=t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.EaselJS=createjs.EaselJS||{};t.version="0.8.2",t.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.PreloadJS=createjs.PreloadJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i){n[(e+="_")+"constructor"]=i.constructor;for(var r in i)n.hasOwnProperty(r)&&"function"==typeof i[r]&&(n[e+r]=i[r])}return t},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}}}(),this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var n=0,i=t.length;i>n;n++)if(e===t[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.Event_constructor("error"),this.title=t,this.message=e,this.data=n}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var r=i[t];return r&&this.removeEventListener(t,e,n),r=i[t],r?r.push(e):i[t]=[e],e},e.on=function(t,e,n,i,r,s){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,r),i&&t.remove()},s)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var r=i[t];if(r)for(var s=0,a=r.length;a>s;s++)if(r[s]==e){1==a?delete i[t]:r.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(r){}if(t.bubbles&&this.parent){for(var s=this,a=[s];s.parent;)a.push(s=s.parent);var o,h=a.length;for(o=h-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;h>o&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i=1==e?this._captureListeners:this._listeners;if(t&&i){var r=i[t.type];if(!r||!(n=r.length))return;try{t.currentTarget=this}catch(s){}try{t.eventPhase=e}catch(s){}t.removed=!1,r=r.slice();for(var a=0;n>a&&!t.immediatePropagationStopped;a++){var o=r[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),function(){function t(e,i){function s(t){if(s[t]!==g)return s[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=s("json-stringify")&&s("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var h=i.stringify,l="function"==typeof h&&y;if(l){(n=function(){return 1}).toJSON=n;try{l="0"===h(0)&&"0"===h(new a)&&'""'==h(new o)&&h(v)===g&&h(g)===g&&h()===g&&"1"===h(n)&&"[1]"==h([n])&&"[null]"==h([g])&&"null"==h(null)&&"[null,null,null]"==h([g,v,null])&&h({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==r&&"1"===h(null,n)&&"[\n 1,\n 2\n]"==h([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==h(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==h(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==h(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==h(new c(-1))}catch(u){l=!1}}e=l}if("json-parse"==t){var d=i.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){n=d(r);var p=5==n.a.length&&1===n.a[0];if(p){try{p=!d('"	"')}catch(u){}if(p)try{p=1!==d("01")}catch(u){}if(p)try{p=1!==d("1.")}catch(u){}}}}catch(u){p=!1}e=p}}return s[t]=!!e}e||(e=r.Object()),i||(i=r.Object());var a=e.Number||r.Number,o=e.String||r.String,h=e.Object||r.Object,c=e.Date||r.Date,l=e.SyntaxError||r.SyntaxError,u=e.TypeError||r.TypeError,d=e.Math||r.Math,p=e.JSON||r.JSON;"object"==typeof p&&p&&(i.stringify=p.stringify,i.parse=p.parse);var f,_,g,m=h.prototype,v=m.toString,y=new c(-0xc782b5b800cec);try{y=-109252==y.getUTCFullYear()&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(S){}if(!s("json")){var E="[object Function]",w="[object Date]",x="[object Number]",b="[object String]",T="[object Array]",j="[object Boolean]",L=s("bug-string-char-index");if(!y)var P=d.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(t,e){return C[e]+365*(t-1970)+P((t-1969+(e=+(e>1)))/4)-P((t-1901+e)/100)+P((t-1601+e)/400)};if((f=m.hasOwnProperty)||(f=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?f=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,f=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,f.call(this,t)}),_=function(t,e){var i,r,s,a=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i;for(s in r)f.call(r,s)&&a++;return i=r=null,a?_=2==a?function(t,e){var n,i={},r=v.call(t)==E;for(n in t)r&&"prototype"==n||f.call(i,n)||!(i[n]=1)||!f.call(t,n)||e(n)}:function(t,e){var n,i,r=v.call(t)==E;for(n in t)r&&"prototype"==n||!f.call(t,n)||(i="constructor"===n)||e(n);(i||f.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],_=function(t,e){var i,s,a=v.call(t)==E,o=!a&&"function"!=typeof t.constructor&&n[typeof t.hasOwnProperty]&&t.hasOwnProperty||f;for(i in t)a&&"prototype"==i||!o.call(t,i)||e(i);for(s=r.length;i=r[--s];o.call(t,i)&&e(i));}),_(t,e)},!s("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},I="000000",O=function(t,e){return(I+(e||0)).slice(-t)},D="\\u00",R=function(t){for(var e='"',n=0,i=t.length,r=!L||i>10,s=r&&(L?t.split(""):t);i>n;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=M[a];break;default:if(32>a){e+=D+O(2,a.toString(16));break}e+=r?s[n]:t.charAt(n)}}return e+'"'},k=function(t,e,n,i,r,s,a){var o,h,c,l,d,p,m,y,S,E,L,C,M,I,D,B;try{o=e[t]}catch(N){}if("object"==typeof o&&o)if(h=v.call(o),h!=w||f.call(o,"toJSON"))"function"==typeof o.toJSON&&(h!=x&&h!=b&&h!=T||f.call(o,"toJSON"))&&(o=o.toJSON(t));else if(o>-1/0&&1/0>o){if(A){for(d=P(o/864e5),c=P(d/365.2425)+1970-1;A(c+1,0)<=d;c++);for(l=P((d-A(c,0))/30.42);A(c,l+1)<=d;l++);d=1+d-A(c,l),p=(o%864e5+864e5)%864e5,m=P(p/36e5)%24,y=P(p/6e4)%60,S=P(p/1e3)%60,E=p%1e3}else c=o.getUTCFullYear(),l=o.getUTCMonth(),d=o.getUTCDate(),m=o.getUTCHours(),y=o.getUTCMinutes(),S=o.getUTCSeconds(),E=o.getUTCMilliseconds();o=(0>=c||c>=1e4?(0>c?"-":"+")+O(6,0>c?-c:c):O(4,c))+"-"+O(2,l+1)+"-"+O(2,d)+"T"+O(2,m)+":"+O(2,y)+":"+O(2,S)+"."+O(3,E)+"Z"}else o=null;if(n&&(o=n.call(e,t,o)),null===o)return"null";if(h=v.call(o),h==j)return""+o;if(h==x)return o>-1/0&&1/0>o?""+o:"null";if(h==b)return R(""+o);if("object"==typeof o){for(I=a.length;I--;)if(a[I]===o)throw u();if(a.push(o),L=[],D=s,s+=r,h==T){for(M=0,I=o.length;I>M;M++)C=k(M,o,n,i,r,s,a),L.push(C===g?"null":C);B=L.length?r?"[\n"+s+L.join(",\n"+s)+"\n"+D+"]":"["+L.join(",")+"]":"[]"}else _(i||o,function(t){var e=k(t,o,n,i,r,s,a);e!==g&&L.push(R(t)+":"+(r?" ":"")+e)}),B=L.length?r?"{\n"+s+L.join(",\n"+s)+"\n"+D+"}":"{"+L.join(",")+"}":"{}";return a.pop(),B}};i.stringify=function(t,e,i){var r,s,a,o;if(n[typeof e]&&e)if((o=v.call(e))==E)s=e;else if(o==T){a={};for(var h,c=0,l=e.length;l>c;h=e[c++],o=v.call(h),(o==b||o==x)&&(a[h]=1));}if(i)if((o=v.call(i))==x){if((i-=i%1)>0)for(r="",i>10&&(i=10);r.length<i;r+=" ");}else o==b&&(r=i.length<=10?i:i.slice(0,10));return k("",(h={},h[""]=t,h),s,a,r,"",[])}}if(!s("json-parse")){var B,N,H=o.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},X=function(){throw B=N=null,l()},U=function(){for(var t,e,n,i,r,s=N,a=s.length;a>B;)switch(r=s.charCodeAt(B)){case 9:case 10:case 13:case 32:B++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=L?s.charAt(B):s[B],B++,t;case 34:for(t="@",B++;a>B;)if(r=s.charCodeAt(B),32>r)X();else if(92==r)switch(r=s.charCodeAt(++B)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=F[r],B++;break;case 117:for(e=++B,n=B+4;n>B;B++)r=s.charCodeAt(B),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||X();t+=H("0x"+s.slice(e,B));break;default:X()}else{if(34==r)break;for(r=s.charCodeAt(B),e=B;r>=32&&92!=r&&34!=r;)r=s.charCodeAt(++B);t+=s.slice(e,B)}if(34==s.charCodeAt(B))return B++,t;X();default:if(e=B,45==r&&(i=!0,r=s.charCodeAt(++B)),r>=48&&57>=r){for(48==r&&(r=s.charCodeAt(B+1),r>=48&&57>=r)&&X(),i=!1;a>B&&(r=s.charCodeAt(B),r>=48&&57>=r);B++);if(46==s.charCodeAt(B)){for(n=++B;a>n&&(r=s.charCodeAt(n),r>=48&&57>=r);n++);n==B&&X(),B=n}if(r=s.charCodeAt(B),101==r||69==r){for(r=s.charCodeAt(++B),(43==r||45==r)&&B++,n=B;a>n&&(r=s.charCodeAt(n),r>=48&&57>=r);n++);n==B&&X(),B=n}return+s.slice(e,B)}if(i&&X(),"true"==s.slice(B,B+4))return B+=4,!0;if("false"==s.slice(B,B+5))return B+=5,!1;if("null"==s.slice(B,B+4))return B+=4,null;X()}return"$"},G=function(t){var e,n;if("$"==t&&X(),"string"==typeof t){if("@"==(L?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=U(),"]"!=t;n||(n=!0))n&&(","==t?(t=U(),"]"==t&&X()):X()),","==t&&X(),e.push(G(t));return e}if("{"==t){for(e={};t=U(),"}"!=t;n||(n=!0))n&&(","==t?(t=U(),"}"==t&&X()):X()),(","==t||"string"!=typeof t||"@"!=(L?t.charAt(0):t[0])||":"!=U())&&X(),e[t.slice(1)]=G(U());return e}X()}return t},q=function(t,e,n){var i=z(t,e,n);i===g?delete t[e]:t[e]=i},z=function(t,e,n){var i,r=t[e];if("object"==typeof r&&r)if(v.call(r)==T)for(i=r.length;i--;)q(r,i,n);else _(r,function(t){q(r,t,n)});return n.call(t,e,r)};i.parse=function(t,e){var n,i;return B=0,N=""+t,n=G(U()),"$"!=U()&&X(),B=N=null,e&&v.call(e)==E?z((i={},i[""]=n,i),"",e):n}}}return i.runInContext=t,i}var e="function"==typeof define&&define.amd,n={"function":!0,object:!0},i=n[typeof exports]&&exports&&!exports.nodeType&&exports,r=n[typeof window]&&window||this,s=i&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!s||s.global!==s&&s.window!==s&&s.self!==s||(r=s),i&&!e)t(r,i);else{var a=r.JSON,o=r.JSON3,h=!1,c=t(r,r.JSON3={noConflict:function(){return h||(h=!0,r.JSON=a,r.JSON3=o,a=o=null),c}});r.JSON={parse:c.parse,stringify:c.stringify}}e&&define(function(){return c})}.call(this),function(){var t={};t.appendToHead=function(e){t.getHead().appendChild(e)},t.getHead=function(){return document.head||document.getElementsByTagName("head")[0]},t.getBody=function(){return document.body||document.getElementsByTagName("body")[0]},createjs.DomUtils=t}(),function(){var t={};t.parseXML=function(t,e){var n=null;try{if(window.DOMParser){var i=new DOMParser;n=i.parseFromString(t,e)}}catch(r){}if(!n)try{n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t)}catch(r){n=null}return n},t.parseJSON=function(t){if(null==t)return null;try{return JSON.parse(t)}catch(e){throw e}},createjs.DataUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof n)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=n}(),function(){var t={};t.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,t.RELATIVE_PATT=/^[.\/]*?\//i,t.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,t.parseURI=function(e){var n={absolute:!1,relative:!1};if(null==e)return n;var i=e.indexOf("?");i>-1&&(e=e.substr(0,i));var r;return t.ABSOLUTE_PATT.test(e)?n.absolute=!0:t.RELATIVE_PATT.test(e)&&(n.relative=!0),(r=e.match(t.EXTENSION_PATT))&&(n.extension=r[1].toLowerCase()),n},t.formatQueryString=function(t,e){if(null==t)throw new Error("You must specify data.");var n=[];for(var i in t)n.push(i+"="+escape(t[i]));return e&&(n=n.concat(e)),n.join("&")},t.buildPath=function(t,e){if(null==e)return t;var n=[],i=t.indexOf("?");if(-1!=i){var r=t.slice(i+1);n=n.concat(r.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,n):t+"?"+this.formatQueryString(e,n)},t.isCrossDomain=function(t){var e=document.createElement("a");e.href=t.src;var n=document.createElement("a");n.href=location.href;var i=""!=e.hostname&&(e.port!=n.port||e.protocol!=n.protocol||e.hostname!=n.hostname);return i},t.isLocal=function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},t.isBinary=function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},t.isImageTag=function(t){return t instanceof HTMLImageElement},t.isAudioTag=function(t){return window.HTMLAudioElement?t instanceof HTMLAudioElement:!1},t.isVideoTag=function(t){return window.HTMLVideoElement?t instanceof HTMLVideoElement:!1},t.isText=function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},t.getTypeByExtension=function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),n=t;n.POST="POST",n.GET="GET",n.BINARY="binary",n.CSS="css",n.IMAGE="image",n.JAVASCRIPT="javascript",n.JSON="json",n.JSONP="jsonp",n.MANIFEST="manifest",n.SOUND="sound",n.VIDEO="video",n.SPRITESHEET="spritesheet",n.SVG="svg",n.TEXT="text",n.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.AbstractLoader_constructor(t,e,n),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this);
}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,n=t.getResult(!0);t.getTag().src=e.createObjectURL(n)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),n={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,e&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){var o=s.ACTIVEX_VERSIONS[r];try{i=new ActiveXObject(o);break}catch(h){}}if(null==i)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof i.responseType?2:1;var c=null;if(c=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,i.open(t.method||createjs.AbstractLoader.GET,c,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(n.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(n["Content-Type"]="application/x-www-form-urlencoded"),e||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)n[l]=t.headers[l];for(l in n)i.setRequestHeader(l,n[l]);return i instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.AbstractLoader_constructor(),this._plugins=[],this._typeCallbacks={},this._extensionCallbacks={},this.next=null,this.maintainScriptOrder=!0,this.stopOnError=!1,this._maxConnections=1,this._availableLoaders=[createjs.ImageLoader,createjs.JavaScriptLoader,createjs.CSSLoader,createjs.JSONLoader,createjs.JSONPLoader,createjs.SoundLoader,createjs.ManifestLoader,createjs.SpriteSheetLoader,createjs.XMLLoader,createjs.SVGLoader,createjs.BinaryLoader,createjs.VideoLoader,createjs.TextLoader],this._defaultLoaderLength=this._availableLoaders.length,this.init(t,e,n)}var e=createjs.extend(t,createjs.AbstractLoader),n=t;e.init=function(t,e,n){this.useXHR=!0,this.preferXHR=!0,this._preferXHR=!0,this.setPreferXHR(t),this._paused=!1,this._basePath=e,this._crossOrigin=n,this._loadStartWasDispatched=!1,this._currentlyLoadingScript=null,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._numItems=0,this._numItemsLoaded=0,this._scriptOrder=[],this._loadedScripts=[],this._lastProgress=NaN},n.loadTimeout=8e3,n.LOAD_TIMEOUT=0,n.BINARY=createjs.AbstractLoader.BINARY,n.CSS=createjs.AbstractLoader.CSS,n.IMAGE=createjs.AbstractLoader.IMAGE,n.JAVASCRIPT=createjs.AbstractLoader.JAVASCRIPT,n.JSON=createjs.AbstractLoader.JSON,n.JSONP=createjs.AbstractLoader.JSONP,n.MANIFEST=createjs.AbstractLoader.MANIFEST,n.SOUND=createjs.AbstractLoader.SOUND,n.VIDEO=createjs.AbstractLoader.VIDEO,n.SVG=createjs.AbstractLoader.SVG,n.TEXT=createjs.AbstractLoader.TEXT,n.XML=createjs.AbstractLoader.XML,n.POST=createjs.AbstractLoader.POST,n.GET=createjs.AbstractLoader.GET,e.registerLoader=function(t){if(!t||!t.canLoadItem)throw new Error("loader is of an incorrect type.");if(-1!=this._availableLoaders.indexOf(t))throw new Error("loader already exists.");this._availableLoaders.unshift(t)},e.unregisterLoader=function(t){var e=this._availableLoaders.indexOf(t);-1!=e&&e<this._defaultLoaderLength-1&&this._availableLoaders.splice(e,1)},e.setUseXHR=function(t){return this.setPreferXHR(t)},e.setPreferXHR=function(t){return this.preferXHR=0!=t&&null!=window.XMLHttpRequest,this.preferXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(t&&!Array.isArray(t))e=[t];else if(t)e=t;else if(arguments.length>0)return;var n=!1;if(e){for(;e.length;){var i=e.pop(),r=this.getResult(i);for(s=this._loadQueue.length-1;s>=0;s--)if(a=this._loadQueue[s].getItem(),a.id==i||a.src==i){this._loadQueue.splice(s,1)[0].cancel();break}for(s=this._loadQueueBackup.length-1;s>=0;s--)if(a=this._loadQueueBackup[s].getItem(),a.id==i||a.src==i){this._loadQueueBackup.splice(s,1)[0].cancel();break}if(r)this._disposeItem(this.getItem(i));else for(var s=this._currentLoads.length-1;s>=0;s--){var a=this._currentLoads[s].getItem();if(a.id==i||a.src==i){this._currentLoads.splice(s,1)[0].cancel(),n=!0;break}}}n&&this._loadNext()}else{this.close();for(var o in this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.preferXHR,this._basePath)}},e.reset=function(){this.close();for(var t in this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var e=[],n=0,i=this._loadQueueBackup.length;i>n;n++)e.push(this._loadQueueBackup[n].getItem());this.loadManifest(e,!1)},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){this._plugins.push(t);var e=t.getPreloadHandlers();if(e.scope=t,null!=e.types)for(var n=0,i=e.types.length;i>n;n++)this._typeCallbacks[e.types[n]]=e;if(null!=e.extensions)for(n=0,i=e.extensions.length;i>n;n++)this._extensionCallbacks[e.extensions[n]]=e}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},e.loadFile=function(t,e,n){if(null==t){var i=new createjs.ErrorEvent("PRELOAD_NO_FILE");return void this._sendError(i)}this._addItem(t,null,n),this.setPaused(e!==!1?!1:!0)},e.loadManifest=function(t,e,i){var r=null,s=null;if(Array.isArray(t)){if(0==t.length){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_EMPTY");return void this._sendError(a)}r=t}else if("string"==typeof t)r=[{src:t,type:n.MANIFEST}];else{if("object"!=typeof t){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_NULL");return void this._sendError(a)}if(void 0!==t.src){if(null==t.type)t.type=n.MANIFEST;else if(t.type!=n.MANIFEST){var a=new createjs.ErrorEvent("PRELOAD_MANIFEST_TYPE");this._sendError(a)}r=[t]}else void 0!==t.manifest&&(r=t.manifest,s=t.path)}for(var o=0,h=r.length;h>o;o++)this._addItem(r[o],s,i);this.setPaused(e!==!1?!1:!0)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var n=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==n)return null;var i=n.id;return e&&this._loadedRawResults[i]?this._loadedRawResults[i]:this._loadedResults[i]},e.getItems=function(t){var e=[];for(var n in this._loadItemsById){var i=this._loadItemsById[n],r=this.getResult(n);(t!==!0||null!=r)&&e.push({item:i,result:r,rawResult:this.getResult(n,!0)})}return e},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1,this._itemCount=0,this._lastProgress=NaN},e._addItem=function(t,e,n){var i=this._createLoadItem(t,e,n);if(null!=i){var r=this._createLoader(i);null!=r&&("plugins"in r&&(r.plugins=this._plugins),i._loader=r,this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),(this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT||i.maintainOrder===!0)&&(this._scriptOrder.push(i),this._loadedScripts.push(null)))}},e._createLoadItem=function(t,e,n){var i=createjs.LoadItem.create(t);if(null==i)return null;var r="",s=n||this._basePath;if(i.src instanceof Object){if(!i.type)return null;if(e){r=e;var a=createjs.RequestUtils.parseURI(e);null==s||a.absolute||a.relative||(r=s+r)}else null!=s&&(r=s)}else{var o=createjs.RequestUtils.parseURI(i.src);o.extension&&(i.ext=o.extension),null==i.type&&(i.type=createjs.RequestUtils.getTypeByExtension(i.ext));var h=i.src;if(!o.absolute&&!o.relative)if(e){r=e;var a=createjs.RequestUtils.parseURI(e);h=e+h,null==s||a.absolute||a.relative||(r=s+r)}else null!=s&&(r=s);i.src=r+i.src}i.path=r,(void 0===i.id||null===i.id||""===i.id)&&(i.id=h);var c=this._typeCallbacks[i.type]||this._extensionCallbacks[i.ext];if(c){var l=c.callback.call(c.scope,i,this);if(l===!1)return null;l===!0||null!=l&&(i._loader=l),o=createjs.RequestUtils.parseURI(i.src),null!=o.extension&&(i.ext=o.extension)}return this._loadItemsById[i.id]=i,this._loadItemsBySrc[i.src]=i,null==i.crossOrigin&&(i.crossOrigin=this._crossOrigin),i},e._createLoader=function(t){if(null!=t._loader)return t._loader;for(var e=this.preferXHR,n=0;n<this._availableLoaders.length;n++){var i=this._availableLoaders[n];if(i&&i.canLoadItem(t))return new i(t,e)}return null},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;t<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);t++){var e=this._loadQueue[t];this._canStartLoad(e)&&(this._loadQueue.splice(t,1),t--,this._loadItem(e))}}},e._loadItem=function(t){t.on("fileload",this._handleFileLoad,this),t.on("progress",this._handleProgress,this),t.on("complete",this._handleFileComplete,this),t.on("error",this._handleError,this),t.on("fileerror",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleFileError=function(t){var e=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,t.item);this._sendError(e)},e._handleError=function(t){var e=t.target;this._numItemsLoaded++,this._finishOrderedItem(e,!0),this._updateProgress();var n=new createjs.ErrorEvent("FILE_LOAD_ERROR",null,e.getItem());this._sendError(n),this.stopOnError?this.setPaused(!0):(this._removeLoadItem(e),this._cleanLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var e=t.target,n=e.getItem(),i=e.getResult();this._loadedResults[n.id]=i;var r=e.getResult(!0);null!=r&&r!==i&&(this._loadedRawResults[n.id]=r),this._saveLoadedItems(e),this._removeLoadItem(e),this._finishOrderedItem(e)||this._processFinishedLoad(n,e),this._cleanLoadItem(e)},e._saveLoadedItems=function(t){var e=t.getLoadedItems();if(null!==e)for(var n=0;n<e.length;n++){var i=e[n].item;this._loadItemsBySrc[i.src]=i,this._loadItemsById[i.id]=i,this._loadedResults[i.id]=e[n].result,this._loadedRawResults[i.id]=e[n].rawResult}},e._finishOrderedItem=function(t,e){var n=t.getItem();if(this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT||n.maintainOrder){t instanceof createjs.JavaScriptLoader&&(this._currentlyLoadingScript=!1);var i=createjs.indexOf(this._scriptOrder,n);return-1==i?!1:(this._loadedScripts[i]=e===!0?!0:n,this._checkScriptLoadOrder(),!0)}return!1},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;t>e;e++){var n=this._loadedScripts[e];if(null===n)break;if(n!==!0){var i=this._loadedResults[n.id];n.type==createjs.LoadQueue.JAVASCRIPT&&createjs.DomUtils.appendToHead(i);var r=n._loader;this._processFinishedLoad(n,r),this._loadedScripts[e]=!0}}},e._processFinishedLoad=function(t,e){if(this._numItemsLoaded++,!this.maintainScriptOrder&&t.type==createjs.LoadQueue.JAVASCRIPT){var n=e.getTag();createjs.DomUtils.appendToHead(n)}this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._canStartLoad=function(t){if(!this.maintainScriptOrder||t.preferXHR)return!0;var e=t.getItem();if(e.type!=createjs.LoadQueue.JAVASCRIPT)return!0;if(this._currentlyLoadingScript)return!1;for(var n=this._scriptOrder.indexOf(e),i=0;n>i;){var r=this._loadedScripts[i];if(null==r)return!1;i++}return this._currentlyLoadingScript=!0,!0},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,n=0;e>n;n++)if(this._currentLoads[n]==t){this._currentLoads.splice(n,1);break}},e._cleanLoadItem=function(t){var e=t.getItem();e&&delete e._loader},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var n=0,i=0,r=this._currentLoads.length;r>i;i++)n+=this._currentLoads[i].progress;t+=n/e*(e/this._numItems)}this._lastProgress!=t&&(this._sendProgress(t),this._lastProgress=t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._sendFileProgress=function(t,e){if(!this._isCanceled()&&!this._paused&&this.hasEventListener("fileprogress")){var n=new createjs.Event("fileprogress");n.progress=e,n.loaded=e,n.total=1,n.item=t,this.dispatchEvent(n)}},e._sendFileComplete=function(t,e){if(!this._isCanceled()&&!this._paused){var n=new createjs.Event("fileload");n.loader=e,n.item=t,n.result=this._loadedResults[t.id],n.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(n),this.hasEventListener("fileload")&&this.dispatchEvent(n)}},e._sendFileStart=function(t){var e=new createjs.Event("filestart");e.item=t,this.hasEventListener("filestart")&&this.dispatchEvent(e)},e.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.TEXT)}var e=(createjs.extend(t,createjs.AbstractLoader),t);e.canLoadItem=function(t){return t.type==createjs.AbstractLoader.TEXT},createjs.TextLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.BINARY),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.BINARY},e._updateXHR=function(t){t.loader.setResponseType("arraybuffer")},createjs.BinaryLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.CSS),this.resultFormatter=this._formatResult,this._tagSrcAttribute="href",this._tag=document.createElement(e?"style":"link"),this._tag.rel="stylesheet",this._tag.type="text/css"}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.CSS},e._formatResult=function(t){if(this._preferXHR){var e=t.getTag();if(e.styleSheet)e.styleSheet.cssText=t.getResult(!0);else{var n=document.createTextNode(t.getResult(!0));e.appendChild(n)}}else e=this._tag;return createjs.DomUtils.appendToHead(e),e},createjs.CSSLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.IMAGE),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",createjs.RequestUtils.isImageTag(t)?this._tag=t:createjs.RequestUtils.isImageTag(t.src)?this._tag=t.src:createjs.RequestUtils.isImageTag(t.tag)&&(this._tag=t.tag),null!=this._tag?this._preferXHR=!1:this._tag=document.createElement("img"),this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.IMAGE},e.load=function(){if(""!=this._tag.src&&this._tag.complete)return void this._sendComplete();var t=this._item.crossOrigin;1==t&&(t="Anonymous"),null==t||createjs.RequestUtils.isLocal(this._item.src)||(this._tag.crossOrigin=t),this.AbstractLoader_load()},e._updateXHR=function(t){t.loader.mimeType="text/plain; charset=x-user-defined-binary",t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(){return this._formatImage},e._formatImage=function(t,e){var n=this._tag,i=window.URL||window.webkitURL;if(this._preferXHR)if(i){var r=i.createObjectURL(this.getResult(!0));n.src=r,n.addEventListener("load",this._cleanUpURL,!1),n.addEventListener("error",this._cleanUpURL,!1)}else n.src=this._item.src;n.complete?t(n):(n.onload=createjs.proxy(function(){t(this._tag)},this),n.onerror=createjs.proxy(function(){e(_this._tag)},this))},e._cleanUpURL=function(t){var e=window.URL||window.webkitURL;e.revokeObjectURL(t.target.src)},createjs.ImageLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.JAVASCRIPT),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.setTag(document.createElement("script"))}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JAVASCRIPT},e._formatResult=function(t){var e=t.getTag();return this._preferXHR&&(e.text=t.getResult(!0)),e},createjs.JavaScriptLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.JSON),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JSON},e._formatResult=function(t){var e=null;try{e=createjs.DataUtils.parseJSON(t.getResult(!0))}catch(n){var i=new createjs.ErrorEvent("JSON_FORMAT",null,n);return this._sendError(i),n}return e},createjs.JSONLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!1,createjs.AbstractLoader.JSONP),this.setTag(document.createElement("script")),this.getTag().type="text/javascript"}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.JSONP},e.cancel=function(){this.AbstractLoader_cancel(),this._dispose()},e.load=function(){if(null==this._item.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[this._item.callback])throw new Error("JSONP callback '"+this._item.callback+"' already exists on window. You need to specify a different callback or re-name the current one.");window[this._item.callback]=createjs.proxy(this._handleLoad,this),window.document.body.appendChild(this._tag),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag.src=this._item.src},e._handleLoad=function(t){this._result=this._rawResult=t,this._sendComplete(),this._dispose()},e._handleTimeout=function(){this._dispose(),this.dispatchEvent(new createjs.ErrorEvent("timeout"))},e._dispose=function(){window.document.body.removeChild(this._tag),delete window[this._item.callback],clearTimeout(this._loadTimeout)},createjs.JSONPLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,null,createjs.AbstractLoader.MANIFEST),this.plugins=null,this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.MANIFEST_PROGRESS=.25,n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.MANIFEST},e.load=function(){this.AbstractLoader_load()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(n.MANIFEST_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=n.MANIFEST_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e.destroy=function(){this.AbstractLoader_destroy(),this._manifestQueue.close()},e._loadManifest=function(t){if(t&&t.manifest){var e=this._manifestQueue=new createjs.LoadQueue;e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("complete",this._handleManifestComplete,this,!0),e.on("error",this._handleManifestError,this,!0);for(var n=0,i=this.plugins.length;i>n;n++)e.installPlugin(this.plugins[n]);e.loadManifest(t)}else this._sendComplete()},e._handleManifestFileLoad=function(t){t.target=null,this.dispatchEvent(t)},e._handleManifestComplete=function(){this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-n.MANIFEST_PROGRESS)+n.MANIFEST_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.ManifestLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.VIDEO),createjs.RequestUtils.isVideoTag(t)||createjs.RequestUtils.isVideoTag(t.src)?(this.setTag(createjs.RequestUtils.isVideoTag(t)?t:t.src),this._preferXHR=!1):this.setTag(this._createTag())}var e=createjs.extend(t,createjs.AbstractMediaLoader),n=t;e._createTag=function(){return document.createElement("video")},n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.VIDEO},createjs.VideoLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.SPRITESHEET),this._manifestQueue=null}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.SPRITESHEET_PROGRESS=.25,n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SPRITESHEET},e.destroy=function(){this.AbstractLoader_destroy,this._manifestQueue.close()},e._createRequest=function(){var t=this._item.callback;this._request=null!=t?new createjs.JSONPLoader(this._item):new createjs.JSONLoader(this._item)},e.handleEvent=function(t){
switch(t.type){case"complete":return this._rawResult=t.target.getResult(!0),this._result=t.target.getResult(),this._sendProgress(n.SPRITESHEET_PROGRESS),void this._loadManifest(this._result);case"progress":return t.loaded*=n.SPRITESHEET_PROGRESS,this.progress=t.loaded/t.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0),void this._sendProgress(t)}this.AbstractLoader_handleEvent(t)},e._loadManifest=function(t){if(t&&t.images){var e=this._manifestQueue=new createjs.LoadQueue(this._preferXHR,this._item.path,this._item.crossOrigin);e.on("complete",this._handleManifestComplete,this,!0),e.on("fileload",this._handleManifestFileLoad,this),e.on("progress",this._handleManifestProgress,this),e.on("error",this._handleManifestError,this,!0),e.loadManifest(t.images)}},e._handleManifestFileLoad=function(t){var e=t.result;if(null!=e){var n=this.getResult().images,i=n.indexOf(t.item.src);n[i]=e}},e._handleManifestComplete=function(){this._result=new createjs.SpriteSheet(this._result),this._loadedItems=this._manifestQueue.getItems(!0),this._sendComplete()},e._handleManifestProgress=function(t){this.progress=t.progress*(1-n.SPRITESHEET_PROGRESS)+n.SPRITESHEET_PROGRESS,this._sendProgress(this.progress)},e._handleManifestError=function(t){var e=new createjs.Event("fileerror");e.item=t.data,this.dispatchEvent(e)},createjs.SpriteSheetLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractLoader_constructor(t,e,createjs.AbstractLoader.SVG),this.resultFormatter=this._formatResult,this._tagSrcAttribute="data",e?this.setTag(document.createElement("svg")):(this.setTag(document.createElement("object")),this.getTag().type="image/svg+xml")}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SVG},e._formatResult=function(t){var e=createjs.DataUtils.parseXML(t.getResult(!0),"text/xml"),n=t.getTag();return!this._preferXHR&&document.body.contains(n)&&document.body.removeChild(n),null!=e.documentElement?(n.appendChild(e.documentElement),n.style.visibility="visible",n):e},createjs.SVGLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.XML),this.resultFormatter=this._formatResult}var e=createjs.extend(t,createjs.AbstractLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.XML},e._formatResult=function(t){return createjs.DataUtils.parseXML(t.getResult(!0),"text/xml")},createjs.XMLLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i){n[(e+="_")+"constructor"]=i.constructor;for(var r in i)n.hasOwnProperty(r)&&"function"==typeof i[r]&&(n[e+r]=i[r])}return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var n=0,i=t.length;i>n;n++)if(e===t[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";createjs.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,createjs.BrowserDetect=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var r=i[t];return r&&this.removeEventListener(t,e,n),r=i[t],r?r.push(e):i[t]=[e],e},e.on=function(t,e,n,i,r,s){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,r),i&&t.remove()},s)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var r=i[t];if(r)for(var s=0,a=r.length;a>s;s++)if(r[s]==e){1==a?delete i[t]:r.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(r){}if(t.bubbles&&this.parent){for(var s=this,a=[s];s.parent;)a.push(s=s.parent);var o,h=a.length;for(o=h-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;h>o&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i=1==e?this._captureListeners:this._listeners;if(t&&i){var r=i[t.type];if(!r||!(n=r.length))return;try{t.currentTarget=this}catch(s){}try{t.eventPhase=e}catch(s){}t.removed=!1,r=r.slice();for(var a=0;n>a&&!t.immediatePropagationStopped;a++){var o=r[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.Event_constructor("error"),this.title=t,this.message=e,this.data=n}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ErrorEvent(this.title,this.message,this.data)},createjs.ErrorEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var e=createjs.extend(t,createjs.Event);e.clone=function(){return new createjs.ProgressEvent(this.loaded,this.total)},createjs.ProgressEvent=createjs.promote(t,"Event")}(window),this.createjs=this.createjs||{},function(){"use strict";function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=createjs.LoadItem.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof n)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},createjs.LoadItem=n}(),function(){var t={};t.ABSOLUTE_PATT=/^(?:\w+:)?\/{2}/i,t.RELATIVE_PATT=/^[.\/]*?\//i,t.EXTENSION_PATT=/\/?[^\/]+\.(\w{1,5})$/i,t.parseURI=function(e){var n={absolute:!1,relative:!1};if(null==e)return n;var i=e.indexOf("?");i>-1&&(e=e.substr(0,i));var r;return t.ABSOLUTE_PATT.test(e)?n.absolute=!0:t.RELATIVE_PATT.test(e)&&(n.relative=!0),(r=e.match(t.EXTENSION_PATT))&&(n.extension=r[1].toLowerCase()),n},t.formatQueryString=function(t,e){if(null==t)throw new Error("You must specify data.");var n=[];for(var i in t)n.push(i+"="+escape(t[i]));return e&&(n=n.concat(e)),n.join("&")},t.buildPath=function(t,e){if(null==e)return t;var n=[],i=t.indexOf("?");if(-1!=i){var r=t.slice(i+1);n=n.concat(r.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,n):t+"?"+this.formatQueryString(e,n)},t.isCrossDomain=function(t){var e=document.createElement("a");e.href=t.src;var n=document.createElement("a");n.href=location.href;var i=""!=e.hostname&&(e.port!=n.port||e.protocol!=n.protocol||e.hostname!=n.hostname);return i},t.isLocal=function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},t.isBinary=function(t){switch(t){case createjs.AbstractLoader.IMAGE:case createjs.AbstractLoader.BINARY:return!0;default:return!1}},t.isImageTag=function(t){return t instanceof HTMLImageElement},t.isAudioTag=function(t){return window.HTMLAudioElement?t instanceof HTMLAudioElement:!1},t.isVideoTag=function(t){return window.HTMLVideoElement?t instanceof HTMLVideoElement:!1},t.isText=function(t){switch(t){case createjs.AbstractLoader.TEXT:case createjs.AbstractLoader.JSON:case createjs.AbstractLoader.MANIFEST:case createjs.AbstractLoader.XML:case createjs.AbstractLoader.CSS:case createjs.AbstractLoader.SVG:case createjs.AbstractLoader.JAVASCRIPT:case createjs.AbstractLoader.SPRITESHEET:return!0;default:return!1}},t.getTypeByExtension=function(t){if(null==t)return createjs.AbstractLoader.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.AbstractLoader.IMAGE;case"ogg":case"mp3":case"webm":return createjs.AbstractLoader.SOUND;case"mp4":case"webm":case"ts":return createjs.AbstractLoader.VIDEO;case"json":return createjs.AbstractLoader.JSON;case"xml":return createjs.AbstractLoader.XML;case"css":return createjs.AbstractLoader.CSS;case"js":return createjs.AbstractLoader.JAVASCRIPT;case"svg":return createjs.AbstractLoader.SVG;default:return createjs.AbstractLoader.TEXT}},createjs.RequestUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,this._item=t?createjs.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=createjs.extend(t,createjs.EventDispatcher),n=t;n.POST="POST",n.GET="GET",n.BINARY="binary",n.CSS="css",n.IMAGE="image",n.JAVASCRIPT="javascript",n.JSON="json",n.JSONP="jsonp",n.MANIFEST="manifest",n.SOUND="sound",n.VIDEO="video",n.SPRITESHEET="spritesheet",n.SVG="svg",n.TEXT="text",n.XML="xml",e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new createjs.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new createjs.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,createjs.proxy(this._resultFormatSuccess,this),createjs.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"))}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.buildPath=function(t,e){return createjs.RequestUtils.buildPath(t,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.AbstractLoader_constructor(t,e,n),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=createjs.extend(t,createjs.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._request=this._preferXHR?new createjs.XHRRequest(this._item):new createjs.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,n=t.getResult(!0);t.getTag().src=e.createObjectURL(n)}return t.getTag()},createjs.AbstractMediaLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t){this._item=t},e=createjs.extend(t,createjs.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},createjs.AbstractRequest=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=createjs.proxy(this._handleTagComplete,this),this._addedToDOM=!1,this._startTagVisibility=null}var e=createjs.extend(t,createjs.AbstractRequest);e.load=function(){this._tag.onload=createjs.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this),this._tag.onerror=createjs.proxy(this._handleError,this);var t=new createjs.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._hideTag(),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(window.document.body.appendChild(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this._showTag(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new createjs.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._hideTag=function(){this._startTagVisibility=this._tag.style.visibility,this._tag.style.visibility="hidden"},e._showTag=function(){this._tag.style.visibility=this._startTagVisibility},e._handleStalled=function(){},createjs.TagRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=createjs.proxy(this._handleTagComplete,this)}var e=createjs.extend(t,createjs.TagRequest);e.load=function(){var t=createjs.proxy(this._handleStalled,this);this._stalledCallback=t;var e=createjs.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},createjs.MediaTagRequest=createjs.promote(t,"TagRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=createjs.proxy(this._handleLoadStart,this),this._handleProgressProxy=createjs.proxy(this._handleProgress,this),this._handleAbortProxy=createjs.proxy(this._handleAbort,this),this._handleErrorProxy=createjs.proxy(this._handleError,this),this._handleTimeoutProxy=createjs.proxy(this._handleTimeout,this),this._handleLoadProxy=createjs.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=createjs.proxy(this._handleReadyStateChange,this),!this._createXHR(t)}var e=createjs.extend(t,createjs.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)return void this._handleError();null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values&&this._item.method!=createjs.AbstractLoader.GET?this._item.method==createjs.AbstractLoader.POST&&this._request.send(createjs.RequestUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new createjs.ErrorEvent("XHR_SEND",null,t))}},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent(t.message))},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this.loaded){this.loaded=!0;var t=this._checkError();if(t)return void this._handleError(t);if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(e){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===e.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new createjs.Event("complete"))}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new createjs.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return new Error(t)}return null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=createjs.RequestUtils.isCrossDomain(t),n={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,e&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var r=0,a=s.ACTIVEX_VERSIONS.length;a>r;r++){var o=s.ACTIVEX_VERSIONS[r];try{i=new ActiveXObject(o);break}catch(h){}}if(null==i)return!1}null==t.mimeType&&createjs.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),this._xhrLevel="string"==typeof i.responseType?2:1;var c=null;if(c=t.method==createjs.AbstractLoader.GET?createjs.RequestUtils.buildPath(t.src,t.values):t.src,i.open(t.method||createjs.AbstractLoader.GET,c,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(n.Origin=location.origin),t.values&&t.method==createjs.AbstractLoader.POST&&(n["Content-Type"]="application/x-www-form-urlencoded"),e||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)n[l]=t.headers[l];for(l in n)i.setRequestHeader(l,n[l]);return i instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},createjs.XHRRequest=createjs.promote(t,"AbstractRequest")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.AbstractMediaLoader_constructor(t,e,createjs.AbstractLoader.SOUND),createjs.RequestUtils.isAudioTag(t)?this._tag=t:createjs.RequestUtils.isAudioTag(t.src)?this._tag=t:createjs.RequestUtils.isAudioTag(t.tag)&&(this._tag=createjs.RequestUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=createjs.extend(t,createjs.AbstractMediaLoader),n=t;n.canLoadItem=function(t){return t.type==createjs.AbstractLoader.SOUND},e._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},createjs.SoundLoader=createjs.promote(t,"AbstractMediaLoader")}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},n=t;n.create=function(t){if(t instanceof n||t instanceof Object){var e=new createjs.PlayPropsConfig;return e.set(t),e}throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},createjs.PlayPropsConfig=n}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Sound cannot be instantiated"}function e(t,e){this.init(t,e)}var n=t;n.INTERRUPT_ANY="any",n.INTERRUPT_EARLY="early",n.INTERRUPT_LATE="late",n.INTERRUPT_NONE="none",n.PLAY_INITED="playInited",n.PLAY_SUCCEEDED="playSucceeded",n.PLAY_INTERRUPTED="playInterrupted",n.PLAY_FINISHED="playFinished",n.PLAY_FAILED="playFailed",n.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],n.EXTENSION_MAP={m4a:"mp4"},n.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,n.defaultInterruptBehavior=n.INTERRUPT_NONE,n.alternateExtensions=[],n.activePlugin=null,n._masterVolume=1,Object.defineProperty(n,"volume",{get:function(){return this._masterVolume},set:function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),n._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,r=e.length;r>i;i++)e[i].setMasterVolume(t)}}),n._masterMute=!1,Object.defineProperty(n,"muted",{get:function(){return this._masterMute},set:function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,n=0,i=e.length;i>n;n++)e[n].setMasterMute(t);return!0}}),Object.defineProperty(n,"capabilities",{get:function(){return null==n.activePlugin?null:n.activePlugin._capabilities},set:function(){return!1}}),n._pluginsRegistered=!1,n._lastID=0,n._instances=[],n._idHash={},n._preloadHash={},n._defaultPlayPropsHash={},n.addEventListener=null,n.removeEventListener=null,n.removeAllEventListeners=null,n.dispatchEvent=null,n.hasEventListener=null,n._listeners=null,createjs.EventDispatcher.initialize(n),n.getPreloadHandlers=function(){return{callback:createjs.proxy(n.initLoad,n),types:["sound"],extensions:n.SUPPORTED_EXTENSIONS}},n._handleLoadComplete=function(t){var e=t.target.getItem().src;if(n._preloadHash[e])for(var i=0,r=n._preloadHash[e].length;r>i;i++){var s=n._preloadHash[e][i];if(n._preloadHash[e][i]=!0,n.hasEventListener("fileload")){var t=new createjs.Event("fileload");t.src=s.src,t.id=s.id,t.data=s.data,t.sprite=s.sprite,n.dispatchEvent(t)}}},n._handleLoadError=function(t){var e=t.target.getItem().src;if(n._preloadHash[e])for(var i=0,r=n._preloadHash[e].length;r>i;i++){var s=n._preloadHash[e][i];if(n._preloadHash[e][i]=!1,n.hasEventListener("fileerror")){var t=new createjs.Event("fileerror");t.src=s.src,t.id=s.id,t.data=s.data,t.sprite=s.sprite,n.dispatchEvent(t)}}},n._registerPlugin=function(t){return t.isSupported()?(n.activePlugin=new t,!0):!1},n.registerPlugins=function(t){n._pluginsRegistered=!0;for(var e=0,i=t.length;i>e;e++)if(n._registerPlugin(t[e]))return!0;return!1},n.initializeDefaultPlugins=function(){return null!=n.activePlugin?!0:n._pluginsRegistered?!1:n.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},n.isReady=function(){return null!=n.activePlugin},n.getCapabilities=function(){return null==n.activePlugin?null:n.activePlugin._capabilities},n.getCapability=function(t){return null==n.activePlugin?null:n.activePlugin._capabilities[t]},n.initLoad=function(t){return n._registerSound(t)},n._registerSound=function(t){if(!n.initializeDefaultPlugins())return!1;var i;if(t.src instanceof Object?(i=n._parseSrc(t.src),i.src=t.path+i.src):i=n._parsePath(t.src),null==i)return!1;t.src=i.src,t.type="sound";var r=t.data,s=null;if(null!=r&&(isNaN(r.channels)?isNaN(r)||(s=parseInt(r)):s=parseInt(r.channels),r.audioSprite))for(var a,o=r.audioSprite.length;o--;)a=r.audioSprite[o],n._idHash[a.id]={src:t.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(n._defaultPlayPropsHash[a.id]=createjs.PlayPropsConfig.create(a.defaultPlayProps));null!=t.id&&(n._idHash[t.id]={src:t.src});var h=n.activePlugin.register(t);return e.create(t.src,s),null!=r&&isNaN(r)?t.data.channels=s||e.maxPerChannel():t.data=s||e.maxPerChannel(),h.type&&(t.type=h.type),t.defaultPlayProps&&(n._defaultPlayPropsHash[t.src]=createjs.PlayPropsConfig.create(t.defaultPlayProps)),h},n.registerSound=function(t,e,i,r,s){var a={src:t,id:e,data:i,defaultPlayProps:s};t instanceof Object&&t.src&&(r=e,a=t),a=createjs.LoadItem.create(a),a.path=r,null==r||a.src instanceof Object||(a.src=r+t);var o=n._registerSound(a);if(!o)return!1;if(n._preloadHash[a.src]||(n._preloadHash[a.src]=[]),n._preloadHash[a.src].push(a),1==n._preloadHash[a.src].length)o.on("complete",createjs.proxy(this._handleLoadComplete,this)),o.on("error",createjs.proxy(this._handleLoadError,this)),n.activePlugin.preload(o);else if(1==n._preloadHash[a.src][0])return!0;return a},n.registerSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,r=t.length;r>i;i++)n[i]=createjs.Sound.registerSound(t[i].src,t[i].id,t[i].data,e,t[i].defaultPlayProps);
return n},n.removeSound=function(t,i){if(null==n.activePlugin)return!1;t instanceof Object&&t.src&&(t=t.src);var r;if(t instanceof Object?r=n._parseSrc(t):(t=n._getSrcById(t).src,r=n._parsePath(t)),null==r)return!1;t=r.src,null!=i&&(t=i+t);for(var s in n._idHash)n._idHash[s].src==t&&delete n._idHash[s];return e.removeSrc(t),delete n._preloadHash[t],n.activePlugin.removeSound(t),!0},n.removeSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,r=t.length;r>i;i++)n[i]=createjs.Sound.removeSound(t[i].src,e);return n},n.removeAllSounds=function(){n._idHash={},n._preloadHash={},e.removeAll(),n.activePlugin&&n.activePlugin.removeAllSounds()},n.loadComplete=function(t){if(!n.isReady())return!1;var e=n._parsePath(t);return t=e?n._getSrcById(e.src).src:n._getSrcById(t).src,void 0==n._preloadHash[t]?!1:1==n._preloadHash[t][0]},n._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var e=t.match(n.FILE_PATTERN);if(null==e)return!1;for(var i=e[4],r=e[5],s=n.capabilities,a=0;!s[r];)if(r=n.alternateExtensions[a++],a>n.alternateExtensions.length)return null;t=t.replace("."+e[5],"."+r);var o={name:i,src:t,extension:r};return o},n._parseSrc=function(t){var e={name:void 0,src:void 0,extension:void 0},i=n.capabilities;for(var r in t)if(t.hasOwnProperty(r)&&i[r]){e.src=t[r],e.extension=r;break}if(!e.src)return!1;var s=e.src.lastIndexOf("/");return e.name=-1!=s?e.src.slice(s+1):e.src,e},n.play=function(t,e,i,r,s,a,o,h,c){var l;l=createjs.PlayPropsConfig.create(e instanceof Object||e instanceof createjs.PlayPropsConfig?e:{interrupt:e,delay:i,offset:r,loop:s,volume:a,pan:o,startTime:h,duration:c});var u=n.createInstance(t,l.startTime,l.duration),d=n._playInstance(u,l);return d||u._playFailed(),u},n.createInstance=function(t,i,r){if(!n.initializeDefaultPlugins())return new createjs.DefaultSoundInstance(t,i,r);var s=n._defaultPlayPropsHash[t];t=n._getSrcById(t);var a=n._parsePath(t.src),o=null;return null!=a&&null!=a.src?(e.create(a.src),null==i&&(i=t.startTime),o=n.activePlugin.create(a.src,i,r||t.duration),s=s||n._defaultPlayPropsHash[a.src],s&&o.applyPlayProps(s)):o=new createjs.DefaultSoundInstance(t,i,r),o.uniqueId=n._lastID++,o},n.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},n.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),n._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,r=e.length;r>i;i++)e[i].setMasterVolume(t)},n.getVolume=function(){return this._masterVolume},n.setMute=function(t){if(null==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,n=0,i=e.length;i>n;n++)e[n].setMasterMute(t);return!0},n.getMute=function(){return this._masterMute},n.setDefaultPlayProps=function(t,e){t=n._getSrcById(t),n._defaultPlayPropsHash[n._parsePath(t.src).src]=createjs.PlayPropsConfig.create(e)},n.getDefaultPlayProps=function(t){return t=n._getSrcById(t),n._defaultPlayPropsHash[n._parsePath(t.src).src]},n._playInstance=function(t,e){var i=n._defaultPlayPropsHash[t.src]||{};if(null==e.interrupt&&(e.interrupt=i.interrupt||n.defaultInterruptBehavior),null==e.delay&&(e.delay=i.delay||0),null==e.offset&&(e.offset=t.getPosition()),null==e.loop&&(e.loop=t.loop),null==e.volume&&(e.volume=t.volume),null==e.pan&&(e.pan=t.pan),0==e.delay){var r=n._beginPlaying(t,e);if(!r)return!1}else{var s=setTimeout(function(){n._beginPlaying(t,e)},e.delay);t.delayTimeoutId=s}return this._instances.push(t),!0},n._beginPlaying=function(t,n){if(!e.add(t,n.interrupt))return!1;var i=t._beginPlaying(n);if(!i){var r=createjs.indexOf(this._instances,t);return r>-1&&this._instances.splice(r,1),!1}return!0},n._getSrcById=function(t){return n._idHash[t]||{src:t}},n._playFinished=function(t){e.remove(t);var n=createjs.indexOf(this._instances,t);n>-1&&this._instances.splice(n,1)},createjs.Sound=t,e.channels={},e.create=function(t,n){var i=e.get(t);return null==i?(e.channels[t]=new e(t,n),!0):!1},e.removeSrc=function(t){var n=e.get(t);return null==n?!1:(n._removeAll(),delete e.channels[t],!0)},e.removeAll=function(){for(var t in e.channels)e.channels[t]._removeAll();e.channels={}},e.add=function(t,n){var i=e.get(t.src);return null==i?!1:i._add(t,n)},e.remove=function(t){var n=e.get(t.src);return null==n?!1:(n._remove(t),!0)},e.maxPerChannel=function(){return i.maxDefault},e.get=function(t){return e.channels[t]};var i=e.prototype;i.constructor=e,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(t){return this._instances[t]},i._add=function(t,e){return this._getSlot(e,t)?(this._instances.push(t),this.length++,!0):!1},i._remove=function(t){var e=createjs.indexOf(this._instances,t);return-1==e?!1:(this._instances.splice(e,1),this.length--,!0)},i._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},i._getSlot=function(e){var n,i;if(e!=t.INTERRUPT_NONE&&(i=this._get(0),null==i))return!0;for(var r=0,s=this.max;s>r;r++){if(n=this._get(r),null==n)return!0;if(n.playState==t.PLAY_FINISHED||n.playState==t.PLAY_INTERRUPTED||n.playState==t.PLAY_FAILED){i=n;break}e!=t.INTERRUPT_NONE&&(e==t.INTERRUPT_EARLY&&n.getPosition()<i.getPosition()||e==t.INTERRUPT_LATE&&n.getPosition()>i.getPosition())&&(i=n)}return null!=i?(i._interrupt(),this._remove(i),!0):!1},i.toString=function(){return"[Sound SoundChannel]"}}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(t,e,n,i){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this._pan=0,Object.defineProperty(this,"pan",{get:this.getPan,set:this.setPan}),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this.getStartTime,set:this.setStartTime}),this._duration=Math.max(0,n||0),Object.defineProperty(this,"duration",{get:this.getDuration,set:this.setDuration}),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this.getPlaybackResource,set:this.setPlaybackResource}),i!==!1&&i!==!0&&this.setPlaybackResource(i),this._position=0,Object.defineProperty(this,"position",{get:this.getPosition,set:this.setPosition}),this._loop=0,Object.defineProperty(this,"loop",{get:this.getLoop,set:this.setLoop}),this._muted=!1,Object.defineProperty(this,"muted",{get:this.getMuted,set:this.setMuted}),this._paused=!1,Object.defineProperty(this,"paused",{get:this.getPaused,set:this.setPaused})},e=createjs.extend(t,createjs.EventDispatcher);e.play=function(t,e,n,i,r,s){var a;return a=createjs.PlayPropsConfig.create(t instanceof Object||t instanceof createjs.PlayPropsConfig?t:{interrupt:t,delay:e,offset:n,loop:i,volume:r,pan:s}),this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(a),void(this._paused&&this.setPaused(!1))):(this._cleanUp(),createjs.Sound._playInstance(this,a),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this.setPosition(t.offset),null!=t.loop&&this.setLoop(t.loop),null!=t.volume&&this.setVolume(t.volume),null!=t.pan&&this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e.getPaused=function(){return this._paused},e.setPaused=function(t){return t!==!0&&t!==!1||this._paused==t||1==t&&this.playState!=createjs.Sound.PLAY_SUCCEEDED?void 0:(this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this)},e.setVolume=function(t){return t==this._volume?this:(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume(),this)},e.getVolume=function(){return this._volume},e.setMuted=function(t){return t===!0||t===!1?(this._muted=t,this._updateVolume(),this):void 0},e.getMuted=function(){return this._muted},e.setPan=function(t){return t==this._pan?this:(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan(),this)},e.getPan=function(){return this._pan},e.getPosition=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e.setPosition=function(t){return this._position=Math.max(0,t),this.playState==createjs.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e.getStartTime=function(){return this._startTime},e.setStartTime=function(t){return t==this._startTime?this:(this._startTime=Math.max(0,t||0),this._updateStartTime(),this)},e.getDuration=function(){return this._duration},e.setDuration=function(t){return t==this._duration?this:(this._duration=Math.max(0,t||0),this._updateDuration(),this)},e.setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._setDurationFromSource(),this},e.getPlaybackResource=function(){return this._playbackResource},e.getLoop=function(){return this._loop},e.setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,createjs.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this.setPosition(t.offset),this.setLoop(t.loop),this.setVolume(t.volume),this.setPan(t.pan),null!=t.startTime&&(this.setStartTime(t.startTime),this.setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(){return this._position=0,0!=this._loop?(this._loop--,this._handleLoop(),void this._sendEvent("loop")):(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,void this._sendEvent("complete"))},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(){},e._addLooping=function(){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},createjs.AbstractSoundInstance=createjs.promote(t,"EventDispatcher"),createjs.DefaultSoundInstance=createjs.AbstractSoundInstance}(),this.createjs=this.createjs||{},function(){"use strict";var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],e=new this._loaderClass(t),e.on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){var n=this._soundInstances[t][e];n.destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,n){this.isPreloadStarted(t)||this.preload(this.register(t));var i=new this._soundInstanceClass(t,e,n,this._audioSources[t]);return this._soundInstances[t].push(i),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var n=0,i=this._soundInstances[e].length;i>n;n++){var r=this._soundInstances[e][n];r.setPlaybackResource(this._audioSources[e])}},e._handlePreloadError=function(){},e._updateVolume=function(){},createjs.AbstractPlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.AbstractLoader_constructor(t,!0,createjs.AbstractLoader.SOUND)}var e=createjs.extend(t,createjs.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new createjs.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(){t.context.decodeAudioData(this._rawResult,createjs.proxy(this._handleAudioDecoded,this),createjs.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},createjs.WebAudioLoader=createjs.promote(t,"AbstractLoader")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,i,r){this.AbstractSoundInstance_constructor(t,e,i,r),this.gainNode=n.context.createGain(),this.panNode=n.context.createPanner(),this.panNode.panningModel=n._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=createjs.proxy(this._handleSoundComplete,this)}var e=createjs.extend(t,createjs.AbstractSoundInstance),n=t;n.context=null,n._scratchBuffer=null,n.destinationNode=null,n._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){t.stop(0),t.disconnect(0);try{t.buffer=n._scratchBuffer}catch(e){}t=null}return t},e._handleSoundReady=function(){this.gainNode.connect(n.destinationNode);var t=.001*this._duration,e=.001*this._position;e>t&&(e=t),this.sourceNode=this._createAndPlayAudioNode(n.context.currentTime-t,e),this._playbackStartTime=this.sourceNode.startTime-e,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-e)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=n.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var r=.001*this._duration;return i.startTime=t+r,i.start(i.startTime,e+.001*this._startTime,r-e),i},e._pause=function(){this._position=1e3*(n.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(n.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},createjs.WebAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this._panningModel=n._panningModel,this.context=n.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),createjs.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=n._capabilities,this._loaderClass=createjs.WebAudioLoader,this._soundInstanceClass=createjs.WebAudioSoundInstance,this._addPropsToClasses()}var e=createjs.extend(t,createjs.AbstractPlugin),n=t;n._capabilities=null,n._panningModel="equalpower",n.context=null,n._scratchBuffer=null,n._unlocked=!1,n.isSupported=function(){var t=createjs.BrowserDetect.isIOS||createjs.BrowserDetect.isAndroid||createjs.BrowserDetect.isBlackberry;return"file:"!=location.protocol||t||this._isFileXHRSupported()?(n._generateCapabilities(),null==n.context?!1:!0):!1},n.playEmptySound=function(){if(null!=n.context){var t=n.context.createBufferSource();t.buffer=n._scratchBuffer,t.connect(n.context.destination),t.start(0,0,0)}},n._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(n){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(n){t=!1}return t},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==n.context)if(window.AudioContext)n.context=new AudioContext;else{if(!window.webkitAudioContext)return null;n.context=new webkitAudioContext}null==n._scratchBuffer&&(n._scratchBuffer=n.context.createBuffer(1,1,22050)),n._compatibilitySetUp(),"ontouchstart"in window&&"running"!=n.context.state&&(n._unlock(),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0)),n._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,r=0,s=e.length;s>r;r++){var a=e[r],o=i[a]||a;n._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1)}},n._compatibilitySetUp=function(){if(n._panningModel="equalpower",!n.context.createGain){n.context.createGain=n.context.createGainNode;var t=n.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,n._panningModel=0}},n._unlock=function(){n._unlocked||(n.playEmptySound(),"running"==n.context.state&&(document.removeEventListener("mousedown",n._unlock,!0),document.removeEventListener("touchend",n._unlock,!0),n._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=n._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},createjs.WebAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"HTMLAudioTagPool cannot be instantiated"}function e(){this._tags=[]}var n=t;n._tags={},n._tagPool=new e,n._tagUsed={},n.get=function(t){var e=n._tags[t];return null==e?(e=n._tags[t]=n._tagPool.get(),e.src=t):n._tagUsed[t]?(e=n._tagPool.get(),e.src=t):n._tagUsed[t]=!0,e},n.set=function(t,e){e==n._tags[t]?n._tagUsed[t]=!1:n._tagPool.set(e)},n.remove=function(t){var e=n._tags[t];return null==e?!1:(n._tagPool.set(e),delete n._tags[t],delete n._tagUsed[t],!0)},n.getDuration=function(t){var e=n._tags[t];return null!=e&&e.duration?1e3*e.duration:0},createjs.HTMLAudioTagPool=t;var i=e.prototype;i.constructor=e,i.get=function(){var t;return t=0==this._tags.length?this._createTag():this._tags.pop(),null==t.parentNode&&document.body.appendChild(t),t},i.set=function(t){var e=createjs.indexOf(this._tags,t);-1==e&&(this._tags.src=null,this._tags.push(t))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i){this.AbstractSoundInstance_constructor(t,e,n,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleTagReady,this),this._stalledHandler=createjs.proxy(this._playFailed,this),this._audioSpriteEndHandler=createjs.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=createjs.proxy(this._handleSoundComplete,this),n?this._audioSpriteStopTime=.001*(e+n):this._duration=createjs.HTMLAudioTagPool.getDuration(this.src)}var e=createjs.extend(t,createjs.AbstractSoundInstance);e.setMasterVolume=function(){this._updateVolume()},e.setMasterMute=function(){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(e){}createjs.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=createjs.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(){if(4!==this._playbackResource.readyState){var t=this._playbackResource;return t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.preload="auto",void t.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(){null!=this._playbackResource&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=createjs.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},createjs.HTMLAudioSoundInstance=createjs.promote(t,"AbstractSoundInstance")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.AbstractPlugin_constructor(),this.defaultNumChannels=2,this._capabilities=n._capabilities,this._loaderClass=createjs.SoundLoader,this._soundInstanceClass=createjs.HTMLAudioSoundInstance}var e=createjs.extend(t,createjs.AbstractPlugin),n=t;n.MAX_INSTANCES=30,n._AUDIO_READY="canplaythrough",n._AUDIO_ENDED="ended",n._AUDIO_SEEKED="seeked",n._AUDIO_STALLED="stalled",n._TIME_UPDATE="timeupdate",n._capabilities=null,n.isSupported=function(){return n._generateCapabilities(),null!=n._capabilities},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;n._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=createjs.Sound.SUPPORTED_EXTENSIONS,i=createjs.Sound.EXTENSION_MAP,r=0,s=e.length;s>r;r++){var a=e[r],o=i[a]||a;n._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}}},e.register=function(t){var e=createjs.HTMLAudioTagPool.get(t.src),n=this.AbstractPlugin_register(t);return n.setTag(e),n},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),createjs.HTMLAudioTagPool.remove(t)},e.create=function(t,e,n){var i=this.AbstractPlugin_create(t,e,n);return i.setPlaybackResource(null),i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,createjs.HTMLAudioPlugin=createjs.promote(t,"AbstractPlugin")}(),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i){n[(e+="_")+"constructor"]=i.constructor;for(var r in i)n.hasOwnProperty(r)&&"function"==typeof i[r]&&(n[e+r]=i[r])}return t},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var r=i[t];return r&&this.removeEventListener(t,e,n),r=i[t],r?r.push(e):i[t]=[e],e},e.on=function(t,e,n,i,r,s){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,r),i&&t.remove()},s)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var r=i[t];if(r)for(var s=0,a=r.length;a>s;s++)if(r[s]==e){1==a?delete i[t]:r.splice(s,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(r){}if(t.bubbles&&this.parent){for(var s=this,a=[s];s.parent;)a.push(s=s.parent);var o,h=a.length;for(o=h-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;h>o&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]";
},e._dispatchEvent=function(t,e){var n,i=1==e?this._captureListeners:this._listeners;if(t&&i){var r=i[t.type];if(!r||!(n=r.length))return;try{t.currentTarget=this}catch(s){}try{t.eventPhase=e}catch(s){}t.removed=!1,r=r.slice();for(var a=0;n>a&&!t.immediatePropagationStopped;a++){var o=r[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.useRAF=!1,t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval};try{Object.defineProperties(t,{interval:{get:t.getInterval,set:t.setInterval},framerate:{get:t.getFPS,set:t.setFPS}})}catch(e){}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=0,t._inited=!1},t.getMeasuredTickTime=function(e){var n=0,i=t._tickTimes;if(!i||i.length<1)return-1;e=Math.min(i.length,e||0|t.getFPS());for(var r=0;e>r;r++)n+=i[r];return n/e},t.getMeasuredFPS=function(e){var n=t._times;return!n||n.length<2?-1:(e=Math.min(n.length-1,e||0|t.getFPS()),1e3/((n[0]-n[e])/e))},t.setPaused=function(e){t.paused=e},t.getPaused=function(){return t.paused},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode||t.useRAF&&t.RAF_SYNCHED;if(e==t.RAF_SYNCHED||e==t.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return t._timerId=n(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,n=t._getTime(),i=n-t._lastTime;if(t._lastTime=n,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=i),t.hasEventListener("tick")){var r=new createjs.Event("tick"),s=t.maxDelta;r.delta=s&&i>s?s:i,r.paused=e,r.time=n,r.runTime=n-t._pausedTime,t.dispatchEvent(r)}for(t._tickTimes.unshift(t._getTime()-n);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(n);t._times.length>100;)t._times.pop()};var n=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return(n&&n.call(performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,n,i){this.ignoreGlobalPause=!1,this.loop=!1,this.duration=0,this.pluginData=i||{},this.target=e,this.position=null,this.passive=!1,this._paused=!1,this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],this._prevPosition=0,this._stepPosition=0,this._prevPos=-1,this._target=e,this._useTicks=!1,this._inited=!1,this._registered=!1,n&&(this._useTicks=n.useTicks,this.ignoreGlobalPause=n.ignoreGlobalPause,this.loop=n.loop,n.onChange&&this.addEventListener("change",n.onChange),n.override&&t.removeTweens(e)),n&&n.paused?this._paused=!0:createjs.Tween._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,t.NONE)}var e=createjs.extend(t,createjs.EventDispatcher);t.NONE=0,t.LOOP=1,t.REVERSE=2,t.IGNORE={},t._tweens=[],t._plugins={},t.get=function(e,n,i,r){return r&&t.removeTweens(e),new t(e,n,i)},t.tick=function(e,n){for(var i=t._tweens.slice(),r=i.length-1;r>=0;r--){var s=i[r];n&&!s.ignoreGlobalPause||s._paused||s.tick(s._useTicks?1:e)}},t.handleEvent=function(t){"tick"==t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var n=t._tweens,i=n.length-1;i>=0;i--){var r=n[i];r._target==e&&(r._paused=!0,n.splice(i,1))}e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweens,n=0,i=e.length;i>n;n++){var r=e[n];r._paused=!0,r.target&&(r.target.tweenjs_count=0)}e.length=0},t.hasActiveTweens=function(e){return e?null!=e.tweenjs_count&&!!e.tweenjs_count:t._tweens&&!!t._tweens.length},t.installPlugin=function(e,n){var i=e.priority;null==i&&(e.priority=i=0);for(var r=0,s=n.length,a=t._plugins;s>r;r++){var o=n[r];if(a[o]){for(var h=a[o],c=0,l=h.length;l>c&&!(i<h[c].priority);c++);a[o].splice(c,0,e)}else a[o]=[e]}},t._register=function(e,n){var i=e._target,r=t._tweens;if(n&&!e._registered)i&&(i.tweenjs_count=i.tweenjs_count?i.tweenjs_count+1:1),r.push(e),!t._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",t),t._inited=!0);else if(!n&&e._registered){i&&i.tweenjs_count--;for(var s=r.length;s--;)if(r[s]==e){r.splice(s,1);break}}e._registered=n},e.wait=function(t,e){if(null==t||0>=t)return this;var n=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:n,e:this._linearEase,p1:n,v:e})},e.to=function(t,e,n){return(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:n,p1:this._cloneProps(this._appendQueueProps(t))})},e.call=function(t,e,n){return this._addAction({f:t,p:e?e:[this],o:n?n:this._target})},e.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e?e:this._target]})},e.play=function(t){return t||(t=this),this.call(t.setPaused,[!1],t)},e.pause=function(t){return t||(t=this),this.call(t.setPaused,[!0],t)},e.setPosition=function(t,e){0>t&&(t=0),null==e&&(e=1);var n=t,i=!1;if(n>=this.duration&&(this.loop?n%=this.duration:(n=this.duration,i=!0)),n==this._prevPos)return i;var r=this._prevPos;if(this.position=this._prevPos=n,this._prevPosition=t,this._target)if(i)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var s=0,a=this._steps.length;a>s&&!(this._steps[s].t>n);s++);var o=this._steps[s-1];this._updateTargetProps(o,(this._stepPosition=n-o.t)/o.d)}return 0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(n,n):1==e&&r>n?(r!=this.duration&&this._runActions(r,this.duration),this._runActions(0,n,!0)):this._runActions(r,n)),i&&this.setPaused(!0),this.dispatchEvent("change"),i},e.tick=function(t){this._paused||this.setPosition(this._prevPosition+t)},e.setPaused=function(e){return this._paused===!!e?this:(this._paused=!!e,t._register(this,!e),this)},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._updateTargetProps=function(e,n){var i,r,s,a,o,h;if(e||1!=n){if(this.passive=!!e.v,this.passive)return;e.e&&(n=e.e(n,0,1,1)),i=e.p0,r=e.p1}else this.passive=!1,i=r=this._curQueueProps;for(var c in this._initQueueProps){null==(a=i[c])&&(i[c]=a=this._initQueueProps[c]),null==(o=r[c])&&(r[c]=o=a),s=a==o||0==n||1==n||"number"!=typeof a?1==n?o:a:a+(o-a)*n;var l=!1;if(h=t._plugins[c])for(var u=0,d=h.length;d>u;u++){var p=h[u].tween(this,c,s,i,r,n,!!e&&i==r,!e);p==t.IGNORE?l=!0:s=p}l||(this._target[c]=s)}},e._runActions=function(t,e,n){var i=t,r=e,s=-1,a=this._actions.length,o=1;for(t>e&&(i=e,r=t,s=a,a=o=-1);(s+=o)!=a;){var h=this._actions[s],c=h.t;(c==r||c>i&&r>c||n&&c==t)&&h.f.apply(h.o,h.p)}},e._appendQueueProps=function(e){var n,i,r,s,a;for(var o in e)if(void 0===this._initQueueProps[o]){if(i=this._target[o],n=t._plugins[o])for(r=0,s=n.length;s>r;r++)i=n[r].init(this,o,i);this._initQueueProps[o]=this._curQueueProps[o]=void 0===i?null:i}else i=this._curQueueProps[o];for(var o in e){if(i=this._curQueueProps[o],n=t._plugins[o])for(a=a||{},r=0,s=n.length;s>r;r++)n[r].step&&n[r].step(this,o,i,e[o],a);this._curQueueProps[o]=e[o]}return a&&this._appendQueueProps(a),this._curQueueProps},e._cloneProps=function(t){var e={};for(var n in t)e[n]=t[n];return e},e._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},e._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},e._set=function(t,e){for(var n in t)e[n]=t[n]},createjs.Tween=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.EventDispatcher_constructor(),this.ignoreGlobalPause=!1,this.duration=0,this.loop=!1,this.position=null,this._paused=!1,this._tweens=[],this._labels=null,this._labelList=null,this._prevPosition=0,this._prevPos=-1,this._useTicks=!1,this._registered=!1,n&&(this._useTicks=n.useTicks,this.loop=n.loop,this.ignoreGlobalPause=n.ignoreGlobalPause,n.onChange&&this.addEventListener("change",n.onChange)),t&&this.addTween.apply(this,t),this.setLabels(e),n&&n.paused?this._paused=!0:createjs.Tween._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,createjs.Tween.NONE)}var e=createjs.extend(t,createjs.EventDispatcher);e.addTween=function(t){var e=arguments.length;if(e>1){for(var n=0;e>n;n++)this.addTween(arguments[n]);return arguments[0]}return 0==e?null:(this.removeTween(t),this._tweens.push(t),t.setPaused(!0),t._paused=!1,t._useTicks=this._useTicks,t.duration>this.duration&&(this.duration=t.duration),this._prevPos>=0&&t.setPosition(this._prevPos,createjs.Tween.NONE),t)},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var n=!0,i=0;e>i;i++)n=n&&this.removeTween(arguments[i]);return n}if(0==e)return!1;for(var r=this._tweens,i=r.length;i--;)if(r[i]==t)return r.splice(i,1),t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.addLabel=function(t,e){this._labels[t]=e;var n=this._labelList;if(n){for(var i=0,r=n.length;r>i&&!(e<n[i].position);i++);n.splice(i,0,{label:t,position:e})}},e.setLabels=function(t){this._labels=t?t:{}},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var n in e)t.push({label:n,position:e[n]});t.sort(function(t,e){return t.position-e.position})}return t},e.getCurrentLabel=function(){var t=this.getLabels(),e=this.position,n=t.length;if(n){for(var i=0;n>i&&!(e<t[i].position);i++);return 0==i?null:t[i-1].label}return null},e.gotoAndPlay=function(t){this.setPaused(!1),this._goto(t)},e.gotoAndStop=function(t){this.setPaused(!0),this._goto(t)},e.setPosition=function(t,e){var n=this._calcPosition(t),i=!this.loop&&t>=this.duration;if(n==this._prevPos)return i;this._prevPosition=t,this.position=this._prevPos=n;for(var r=0,s=this._tweens.length;s>r;r++)if(this._tweens[r].setPosition(n,e),n!=this._prevPos)return!1;return i&&this.setPaused(!0),this.dispatchEvent("change"),i},e.setPaused=function(t){this._paused=!!t,createjs.Tween._register(this,!t)},e.updateDuration=function(){this.duration=0;for(var t=0,e=this._tweens.length;e>t;t++){var n=this._tweens[t];n.duration>this.duration&&(this.duration=n.duration)}},e.tick=function(t){this.setPosition(this._prevPosition+t)},e.resolve=function(t){var e=Number(t);return isNaN(e)&&(e=this._labels[t]),e},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e)},e._calcPosition=function(t){return 0>t?0:t<this.duration?t:this.loop?t%this.duration:this.duration},createjs.Timeline=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ease cannot be instantiated."}t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return.5>e?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var n=2*Math.PI;return function(i){if(0==i||1==i)return i;var r=e/n*Math.asin(1/t);return-(t*Math.pow(2,10*(i-=1))*Math.sin((i-r)*n/e))}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var n=2*Math.PI;return function(i){if(0==i||1==i)return i;var r=e/n*Math.asin(1/t);return t*Math.pow(2,-10*i)*Math.sin((i-r)*n/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var n=2*Math.PI;return function(i){var r=e/n*Math.asin(1/t);return(i*=2)<1?-.5*t*Math.pow(2,10*(i-=1))*Math.sin((i-r)*n/e):t*Math.pow(2,-10*(i-=1))*Math.sin((i-r)*n/e)*.5+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),createjs.Ease=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"MotionGuidePlugin cannot be instantiated."}t.priority=0,t._rotOffS,t._rotOffE,t._rotNormS,t._rotNormE,t.install=function(){return createjs.Tween.installPlugin(t,["guide","x","y","rotation"]),createjs.Tween.IGNORE},t.init=function(t,e,n){var i=t.target;return i.hasOwnProperty("x")||(i.x=0),i.hasOwnProperty("y")||(i.y=0),i.hasOwnProperty("rotation")||(i.rotation=0),"rotation"==e&&(t.__needsRot=!0),"guide"==e?null:n},t.step=function(e,n,i,r,s){if("rotation"==n&&(e.__rotGlobalS=i,e.__rotGlobalE=r,t.testRotData(e,s)),"guide"!=n)return r;var a,o=r;o.hasOwnProperty("path")||(o.path=[]);var h=o.path;if(o.hasOwnProperty("end")||(o.end=1),o.hasOwnProperty("start")||(o.start=i&&i.hasOwnProperty("end")&&i.path===h?i.end:0),o.hasOwnProperty("_segments")&&o._length)return r;var c=h.length,l=10;if(!(c>=6&&(c-2)%4==0))throw"invalid 'path' data, please see documentation for valid paths";o._segments=[],o._length=0;for(var u=2;c>u;u+=4){for(var d,p,f=h[u-2],_=h[u-1],g=h[u+0],m=h[u+1],v=h[u+2],y=h[u+3],S=f,E=_,w=0,x=[],b=1;l>=b;b++){var T=b/l,j=1-T;d=j*j*f+2*j*T*g+T*T*v,p=j*j*_+2*j*T*m+T*T*y,w+=x[x.push(Math.sqrt((a=d-S)*a+(a=p-E)*a))-1],S=d,E=p}o._segments.push(w),o._segments.push(x),o._length+=w}a=o.orient,o.orient=!0;var L={};return t.calc(o,o.start,L),e.__rotPathS=Number(L.rotation.toFixed(5)),t.calc(o,o.end,L),e.__rotPathE=Number(L.rotation.toFixed(5)),o.orient=!1,t.calc(o,o.end,s),o.orient=a,o.orient?(e.__guideData=o,t.testRotData(e,s),r):r},t.testRotData=function(t,e){if(void 0===t.__rotGlobalS||void 0===t.__rotGlobalE){if(t.__needsRot)return;t.__rotGlobalS=t.__rotGlobalE=void 0!==t._curQueueProps.rotation?t._curQueueProps.rotation:e.rotation=t.target.rotation||0}if(void 0!==t.__guideData){var n=t.__guideData,i=t.__rotGlobalE-t.__rotGlobalS,r=t.__rotPathE-t.__rotPathS,s=i-r;if("auto"==n.orient)s>180?s-=360:-180>s&&(s+=360);else if("cw"==n.orient){for(;0>s;)s+=360;0==s&&i>0&&180!=i&&(s+=360)}else if("ccw"==n.orient){for(s=i-(r>180?360-r:r);s>0;)s-=360;0==s&&0>i&&-180!=i&&(s-=360)}n.rotDelta=s,n.rotOffS=t.__rotGlobalS-t.__rotPathS,t.__rotGlobalS=t.__rotGlobalE=t.__guideData=t.__needsRot=void 0}},t.tween=function(e,n,i,r,s,a,o){var h=s.guide;if(void 0==h||h===r.guide)return i;if(h.lastRatio!=a){var c=(h.end-h.start)*(o?h.end:a)+h.start;switch(t.calc(h,c,e.target),h.orient){case"cw":case"ccw":case"auto":e.target.rotation+=h.rotOffS+h.rotDelta*a;break;case"fixed":default:e.target.rotation+=h.rotOffS}h.lastRatio=a}return"rotation"!=n||h.orient&&"false"!=h.orient?e.target[n]:i},t.calc=function(t,e,n){if(void 0==t._segments)throw"Missing critical pre-calculated information, please file a bug";void 0==n&&(n={x:0,y:0,rotation:0});for(var i=t._segments,r=t.path,s=t._length*e,a=i.length-2,o=0;s>i[o]&&a>o;)s-=i[o],o+=2;var h=i[o+1],c=0;for(a=h.length-1;s>h[c]&&a>c;)s-=h[c],c++;var l=c/++a+s/(a*h[c]);o=2*o+2;var u=1-l;return n.x=u*u*r[o-2]+2*u*l*r[o+0]+l*l*r[o+2],n.y=u*u*r[o-1]+2*u*l*r[o+1]+l*l*r[o+3],t.orient&&(n.rotation=57.2957795*Math.atan2((r[o+1]-r[o-1])*u+(r[o+3]-r[o+1])*l,(r[o+0]-r[o-2])*u+(r[o+2]-r[o+0])*l)),n},createjs.MotionGuidePlugin=t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.TweenJS=createjs.TweenJS||{};t.version="0.6.2",t.buildDate="Thu, 26 Nov 2015 20:44:31 GMT"}();var Scroller;!function(){var t=function(){};Scroller=function(e,n){this.__callback=e,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:t,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var i in n)this.options[i]=n[i]};var e=function(t){return Math.pow(t-1,3)+1},n=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},i={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(t,e,n,i){var r=this;t===+t&&(r.__clientWidth=t),e===+e&&(r.__clientHeight=e),n===+n&&(r.__contentWidth=n),i===+i&&(r.__contentHeight=i),r.__computeScrollMax(),r.scrollTo(r.__scrollLeft,r.__scrollTop,!0)},setPosition:function(t,e){var n=this;n.__clientLeft=t||0,n.__clientTop=e||0},setSnapSize:function(t,e){var n=this;n.__snapWidth=t,n.__snapHeight=e},activatePullToRefresh:function(t,e,n,i){var r=this;r.__refreshHeight=t,r.__refreshActivate=e,r.__refreshDeactivate=n,r.__refreshStart=i},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var t=this;t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate(),t.scrollTo(t.__scrollLeft,t.__scrollTop,!0)},getValues:function(){var t=this;return{left:t.__scrollLeft,top:t.__scrollTop,zoom:t.__zoomLevel}},getScrollMax:function(){var t=this;return{left:t.__maxScrollLeft,top:t.__maxScrollTop}},zoomTo:function(t,e,n,i){var r=this;if(!r.options.zooming)throw new Error("Zooming is not pickerEnabled!");r.__isDecelerating&&(core.effect.Animate.stop(r.__isDecelerating),r.__isDecelerating=!1);var s=r.__zoomLevel;null==n&&(n=r.__clientWidth/2),null==i&&(i=r.__clientHeight/2),t=Math.max(Math.min(t,r.options.maxZoom),r.options.minZoom),r.__computeScrollMax(t);var a=(n+r.__scrollLeft)*t/s-n,o=(i+r.__scrollTop)*t/s-i;a>r.__maxScrollLeft?a=r.__maxScrollLeft:0>a&&(a=0),o>r.__maxScrollTop?o=r.__maxScrollTop:0>o&&(o=0),r.__publish(a,o,t,e)},zoomBy:function(t,e,n,i){var r=this;r.zoomTo(r.__zoomLevel*t,e,n,i)},scrollTo:function(t,e,n,i){var r=this;if(r.__isDecelerating&&(core.effect.Animate.stop(r.__isDecelerating),r.__isDecelerating=!1),null!=i&&i!==r.__zoomLevel){if(!r.options.zooming)throw new Error("Zooming is not pickerEnabled!");t*=i,e*=i,r.__computeScrollMax(i)}else i=r.__zoomLevel;r.options.scrollingX?r.options.paging?t=Math.round(t/r.__clientWidth)*r.__clientWidth:r.options.snapping&&(t=Math.round(t/r.__snapWidth)*r.__snapWidth):t=r.__scrollLeft,r.options.scrollingY?r.options.paging?e=Math.round(e/r.__clientHeight)*r.__clientHeight:r.options.snapping&&(e=Math.round(e/r.__snapHeight)*r.__snapHeight):e=r.__scrollTop,t=Math.max(Math.min(r.__maxScrollLeft,t),0),e=Math.max(Math.min(r.__maxScrollTop,e),0),t===r.__scrollLeft&&e===r.__scrollTop&&(n=!1),r.__publish(t,e,i,n)},scrollBy:function(t,e,n){var i=this,r=i.__isAnimating?i.__scheduledLeft:i.__scrollLeft,s=i.__isAnimating?i.__scheduledTop:i.__scrollTop;i.scrollTo(r+(t||0),s+(e||0),n)},doMouseZoom:function(t,e,n,i){var r=this,s=t>0?.97:1.03;return r.zoomTo(r.__zoomLevel*s,!1,n-r.__clientLeft,i-r.__clientTop)},doTouchStart:function(t,e){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var n=this;n.__interruptedAnimation=!0,n.__isDecelerating&&(core.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1,n.__interruptedAnimation=!0),n.__isAnimating&&(core.effect.Animate.stop(n.__isAnimating),n.__isAnimating=!1,n.__interruptedAnimation=!0);var i,r,s=1===t.length;s?(i=t[0].pageX,r=t[0].pageY):(i=Math.abs(t[0].pageX+t[1].pageX)/2,r=Math.abs(t[0].pageY+t[1].pageY)/2),n.__initialTouchLeft=i,n.__initialTouchTop=r,n.__zoomLevelStart=n.__zoomLevel,n.__lastTouchLeft=i,n.__lastTouchTop=r,n.__lastTouchMove=e,n.__lastScale=1,n.__enableScrollX=!s&&n.options.scrollingX,n.__enableScrollY=!s&&n.options.scrollingY,n.__isTracking=!0,n.__didDecelerationComplete=!1,n.__isDragging=!s,n.__isSingleTouch=s,n.__positions=[]},doTouchMove:function(t,e,n){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var i=this;if(i.__isTracking){var r,s;2===t.length?(r=Math.abs(t[0].pageX+t[1].pageX)/2,s=Math.abs(t[0].pageY+t[1].pageY)/2):(r=t[0].pageX,s=t[0].pageY);var a=i.__positions;if(i.__isDragging){var o=r-i.__lastTouchLeft,h=s-i.__lastTouchTop,c=i.__scrollLeft,l=i.__scrollTop,u=i.__zoomLevel;if(null!=n&&i.options.zooming){var d=u;if(u=u/i.__lastScale*n,u=Math.max(Math.min(u,i.options.maxZoom),i.options.minZoom),d!==u){var p=r-i.__clientLeft,f=s-i.__clientTop;c=(p+c)*u/d-p,l=(f+l)*u/d-f,i.__computeScrollMax(u)}}if(i.__enableScrollX){c-=o*this.options.speedMultiplier;var _=i.__maxScrollLeft;(c>_||0>c)&&(i.options.bouncing?c+=o/2*this.options.speedMultiplier:c=c>_?_:0)}if(i.__enableScrollY){l-=h*this.options.speedMultiplier;var g=i.__maxScrollTop;(l>g||0>l)&&(i.options.bouncing?(l+=h/2*this.options.speedMultiplier,i.__enableScrollX||null==i.__refreshHeight||(!i.__refreshActive&&l<=-i.__refreshHeight?(i.__refreshActive=!0,i.__refreshActivate&&i.__refreshActivate()):i.__refreshActive&&l>-i.__refreshHeight&&(i.__refreshActive=!1,i.__refreshDeactivate&&i.__refreshDeactivate()))):l=l>g?g:0)}a.length>60&&a.splice(0,30),a.push(c,l,e),i.__publish(c,l,u)}else{var m=i.options.locking?3:0,v=5,y=Math.abs(r-i.__initialTouchLeft),S=Math.abs(s-i.__initialTouchTop);i.__enableScrollX=i.options.scrollingX&&y>=m,i.__enableScrollY=i.options.scrollingY&&S>=m,a.push(i.__scrollLeft,i.__scrollTop,e),i.__isDragging=(i.__enableScrollX||i.__enableScrollY)&&(y>=v||S>=v),i.__isDragging&&(i.__interruptedAnimation=!1)}i.__lastTouchLeft=r,i.__lastTouchTop=s,i.__lastTouchMove=e,i.__lastScale=n}},doTouchEnd:function(t){if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var e=this;if(e.__isTracking){if(e.__isTracking=!1,e.__isDragging)if(e.__isDragging=!1,e.__isSingleTouch&&e.options.animating&&t-e.__lastTouchMove<=100){for(var n=e.__positions,i=n.length-1,r=i,s=i;s>0&&n[s]>e.__lastTouchMove-100;s-=3)r=s;if(r!==i){var a=n[i]-n[r],o=e.__scrollLeft-n[r-2],h=e.__scrollTop-n[r-1];e.__decelerationVelocityX=o/a*(1e3/60),e.__decelerationVelocityY=h/a*(1e3/60);var c=e.options.paging||e.options.snapping?4:1;(Math.abs(e.__decelerationVelocityX)>c||Math.abs(e.__decelerationVelocityY)>c)&&(e.__refreshActive||e.__startDeceleration(t))}else e.options.scrollingComplete()}else t-e.__lastTouchMove>100&&e.options.scrollingComplete();e.__isDecelerating||(e.__refreshActive&&e.__refreshStart?(e.__publish(e.__scrollLeft,-e.__refreshHeight,e.__zoomLevel,!0),e.__refreshStart&&e.__refreshStart()):((e.__interruptedAnimation||e.__isDragging)&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0,e.__zoomLevel),e.__refreshActive&&(e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate()))),e.__positions.length=0}},__publish:function(t,i,r,s){var a=this,o=a.__isAnimating;if(o&&(core.effect.Animate.stop(o),a.__isAnimating=!1),s&&a.options.animating){a.__scheduledLeft=t,a.__scheduledTop=i,a.__scheduledZoom=r;var h=a.__scrollLeft,c=a.__scrollTop,l=a.__zoomLevel,u=t-h,d=i-c,p=r-l,f=function(t,e,n){n&&(a.__scrollLeft=h+u*t,a.__scrollTop=c+d*t,a.__zoomLevel=l+p*t,a.__callback&&a.__callback(a.__scrollLeft,a.__scrollTop,a.__zoomLevel))},_=function(t){return a.__isAnimating===t},g=function(t,e,n){e===a.__isAnimating&&(a.__isAnimating=!1),(a.__didDecelerationComplete||n)&&a.options.scrollingComplete(),a.options.zooming&&a.__computeScrollMax()};a.__isAnimating=core.effect.Animate.start(f,_,g,a.options.animationDuration,o?e:n)}else a.__scheduledLeft=a.__scrollLeft=t,a.__scheduledTop=a.__scrollTop=i,a.__scheduledZoom=a.__zoomLevel=r,a.__callback&&a.__callback(t,i,r),a.options.zooming&&a.__computeScrollMax()},__computeScrollMax:function(t){var e=this;null==t&&(t=e.__zoomLevel),e.__maxScrollLeft=Math.max(e.__contentWidth*t-e.__clientWidth,0),e.__maxScrollTop=Math.max(e.__contentHeight*t-e.__clientHeight,0)},__startDeceleration:function(){var t=this;if(t.options.paging){var e=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),n=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),i=t.__clientWidth,r=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(e/i)*i,t.__minDecelerationScrollTop=Math.floor(n/r)*r,t.__maxDecelerationScrollLeft=Math.ceil(e/i)*i,t.__maxDecelerationScrollTop=Math.ceil(n/r)*r}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop;var s=function(e,n,i){t.__stepThroughDeceleration(i)},a=t.options.snapping?4:.1,o=function(){var e=Math.abs(t.__decelerationVelocityX)>=a||Math.abs(t.__decelerationVelocityY)>=a;return e||(t.__didDecelerationComplete=!0),e},h=function(){t.__isDecelerating=!1,t.__didDecelerationComplete&&t.options.scrollingComplete(),t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(s,o,h)},__stepThroughDeceleration:function(t){var e=this,n=e.__scrollLeft+e.__decelerationVelocityX,i=e.__scrollTop+e.__decelerationVelocityY;if(!e.options.bouncing){var r=Math.max(Math.min(e.__maxDecelerationScrollLeft,n),e.__minDecelerationScrollLeft);r!==n&&(n=r,e.__decelerationVelocityX=0);var s=Math.max(Math.min(e.__maxDecelerationScrollTop,i),e.__minDecelerationScrollTop);s!==i&&(i=s,e.__decelerationVelocityY=0)}if(t?e.__publish(n,i,e.__zoomLevel):(e.__scrollLeft=n,e.__scrollTop=i),!e.options.paging){var a=.95;e.__decelerationVelocityX*=a,e.__decelerationVelocityY*=a}if(e.options.bouncing){var o=0,h=0,c=e.options.penetrationDeceleration,l=e.options.penetrationAcceleration;n<e.__minDecelerationScrollLeft?o=e.__minDecelerationScrollLeft-n:n>e.__maxDecelerationScrollLeft&&(o=e.__maxDecelerationScrollLeft-n),i<e.__minDecelerationScrollTop?h=e.__minDecelerationScrollTop-i:i>e.__maxDecelerationScrollTop&&(h=e.__maxDecelerationScrollTop-i),0!==o&&(o*e.__decelerationVelocityX<=0?e.__decelerationVelocityX+=o*c:e.__decelerationVelocityX=o*l),0!==h&&(h*e.__decelerationVelocityY<=0?e.__decelerationVelocityY+=h*c:e.__decelerationVelocityY=h*l)}}};for(var r in i)Scroller.prototype[r]=i[r]}(),function(t){var e=Date.now||function(){return+new Date},n=60,i=1e3,r={},s=1;t.core?core.effect||(core.effect={}):t.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame,n=!!e;if(e&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(e.toString())&&(n=!1),n)return function(t,n){e(t,n)};var i=60,r={},s=0,a=1,o=null,h=+new Date;return function(t){var e=a++;return r[e]=t,s++,null===o&&(o=setInterval(function(){var t=+new Date,e=r;r={},s=0;for(var n in e)e.hasOwnProperty(n)&&(e[n](t),h=t);t-h>2500&&(clearInterval(o),o=null)},1e3/i)),e}}(),stop:function(t){var e=null!=r[t];return e&&(r[t]=null),e},isRunning:function(t){return null!=r[t]},start:function(t,a,o,h,c,l){var u=e(),d=u,p=0,f=0,_=s++;if(l||(l=document.body),_%20===0){var g={};for(var m in r)g[m]=!0;r=g}var v=function(s){var g=s!==!0,m=e();if(!r[_]||a&&!a(_))return r[_]=null,void(o&&o(n-f/((m-u)/i),_,!1));if(g)for(var y=Math.round((m-d)/(i/n))-1,S=0;S<Math.min(y,4);S++)v(!0),f++;h&&(p=(m-u)/h,p>1&&(p=1));var E=c?c(p):p;t(E,m,g)!==!1&&1!==p||!g?g&&(d=m,core.effect.Animate.requestAnimationFrame(v,l)):(r[_]=null,o&&o(n-f/((m-u)/i),_,1===p||null==h))};return r[_]=!0,core.effect.Animate.requestAnimationFrame(v,l),_}}}(this);var viewporter;!function(){var t;if(viewporter={forceDetection:!1,disableLegacyAndroid:!0,ACTIVE:function(){return viewporter.disableLegacyAndroid&&/android 2/i.test(navigator.userAgent)?!1:/ipad/i.test(navigator.userAgent)?!1:/webos/i.test(navigator.userAgent)?!0:"ontouchstart"in window?!0:!1},READY:!1,isLandscape:function(){return 90===window.orientation||-90===window.orientation},ready:function(t){window.addEventListener("viewportready",t,!1)},change:function(t){window.addEventListener("viewportchange",t,!1)},refresh:function(){t&&t.prepareVisualViewport()},preventPageScroll:function(){document.body.addEventListener("touchmove",function(t){t.preventDefault()},!1),document.body.addEventListener("touchstart",function(){t.prepareVisualViewport()},!1)}},viewporter.ACTIVE=viewporter.ACTIVE(),viewporter.ACTIVE){var e=function(){var t=this;this.IS_ANDROID=/Android/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);var e=function(){t.prepareVisualViewport();var e=window.orientation;window.addEventListener("orientationchange",function(){window.orientation!==e&&(t.prepareVisualViewport(),e=window.orientation)},!1)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e()},!1):e()};e.prototype={getProfile:function(){if(viewporter.forceDetection)return null;for(var t in viewporter.profiles)if(new RegExp(t).test(navigator.userAgent))return viewporter.profiles[t];return null},postProcess:function(){
viewporter.READY=!0,this.triggerWindowEvent(this._firstUpdateExecuted?"viewportchange":"viewportready"),this._firstUpdateExecuted=!0},prepareVisualViewport:function(){var t=this;if(navigator.standalone)return this.postProcess();document.documentElement.style.minHeight="5000px";var e=window.innerHeight,n=this.getProfile(),i=viewporter.isLandscape()?"landscape":"portrait";window.scrollTo(0,t.IS_ANDROID?1:0);var r=40,s=window.setInterval(function(){function a(){return n?window.innerHeight===n[i]:!1}function o(){return window.innerHeight>e}window.scrollTo(0,t.IS_ANDROID?1:0),r--,((t.IS_ANDROID?a():o())||0>r)&&(document.documentElement.style.minHeight=window.innerHeight+"px",document.getElementById("viewporter").style.position="relative",document.getElementById("viewporter").style.height=window.innerHeight+"px",clearInterval(s),t.postProcess())},10)},triggerWindowEvent:function(t){var e=document.createEvent("Event");e.initEvent(t,!1,!1),window.dispatchEvent(e)}},t=new e}}(),viewporter.profiles={MZ601:{portrait:696,landscape:1176},"GT-I9000|GT-I9100|Nexus S":{portrait:508,landscape:295},"GT-P1000":{portrait:657,landscape:400},"Desire_A8181|DesireHD_A9191":{portrait:533,landscape:320}};var screenLayouts={PreloaderScreen:{progressBack:{id:"progressBack",x:320,y:460,w:309,h:133.7},progressBar:{id:"progressBar",x:320,y:456,w:287,h:52}},TitleScreen:{PlayButton:{id:"PlayButton",x:310,y:490,w:174,h:174},GameTitle:{id:"GameTitle",x:320,y:198,w:485,h:374},CreditsButton:{id:"CreditsButton",x:509,y:60,w:70.6,h:71},PrivateVersionWarrning:{id:"PrivateVersionWarrning",x:20.45,y:582.65,w:671.85,h:41},MuteButton:{id:"MuteButton",x:580,y:60,w:71,h:71},LanguagePanel:{id:"LanguagePanel",x:53,y:61,w:104,h:102},MoreGamesButton:{id:"MoreGamesButton",x:307,y:667,w:70.6,h:71}},MapScreen:{BackPageButton:{id:"BackPageButton",x:32,y:369,w:52,h:70},NextPageButton:{id:"NextPageButton",x:606,y:363,w:52,h:70},Hud:{id:"Hud",x:0,y:0,w:141,h:71},PageName:{id:"PageName",x:320,y:27,w:314.8,h:59.7},PageIndicatorCenter:{id:"PageIndicatorCenter",x:320,y:660,w:42,h:42},ThumbLevel1:{id:"ThumbLevel1",x:184,y:241,w:257,h:226},ThumbLevel2:{id:"ThumbLevel2",x:454,y:241,w:257,h:226},ThumbLevel3:{id:"ThumbLevel3",x:184,y:510,w:257,h:226},ThumbLevel4:{id:"ThumbLevel4",x:450,y:510,w:257,h:226}},CreditsScreen:{BackButton:{id:"BackButton",x:345,y:523,w:70.6,h:71}},GameScreen_dog:{MatchingTarget:{id:"MatchingTarget",x:303,y:278,w:568.2,h:314.05},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_5:{id:"ElementShape_5",x:209,y:138.5,w:135,h:135},ElementShape_1:{id:"ElementShape_1",x:121.5,y:487,w:187,h:187,r:180},ElementShape_3:{id:"ElementShape_3",x:360.5,y:503,w:94,h:188,r:-90},ElementShape_2:{id:"ElementShape_2",x:501.5,y:447.5,w:187,h:187,r:180},ElementShape_7:{id:"ElementShape_7",x:375,y:159,w:197.25,h:197.25,r:-135},ElementShape_4:{id:"ElementShape_4",x:73,y:345,w:94,h:94},ElementShape_6:{id:"ElementShape_6",x:251.65,y:515.65,w:132.9,h:132.9,r:45}},GameScreen_parrot:{MatchingTarget:{id:"MatchingTarget",x:320,y:295,w:418.7,h:535.35},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_7:{id:"ElementShape_7",x:285,y:515,w:197.25,h:197.25,r:135},ElementShape_1:{id:"ElementShape_1",x:115.7,y:303,w:264.5,h:264.5,r:-45},ElementShape_2:{id:"ElementShape_2",x:537,y:515.5,w:187,h:187},ElementShape_4:{id:"ElementShape_4",x:82,y:514,w:132.9,h:132.9,r:-135},ElementShape_3:{id:"ElementShape_3",x:461,y:453.5,w:188,h:94},ElementShape_6:{id:"ElementShape_6",x:512,y:309.5,w:94,h:94,r:90},ElementShape_5:{id:"ElementShape_5",x:230.65,y:148.35,w:191,h:191,r:45}},GameScreen_turtle:{MatchingTarget:{id:"MatchingTarget",x:320,y:190,w:555.5,h:302.25},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_2:{id:"ElementShape_2",x:458,y:449,w:187,h:187,r:180},ElementShape_3:{id:"ElementShape_3",x:256.5,y:496,w:94,h:188,r:90},ElementShape_7:{id:"ElementShape_7",x:59.5,y:268,w:93,h:186,r:180},ElementShape_6:{id:"ElementShape_6",x:565,y:512,w:132.9,h:132.9,r:45},ElementShape_5:{id:"ElementShape_5",x:314.65,y:367.35,w:191,h:191,r:45},ElementShape_4:{id:"ElementShape_4",x:586.2,y:307.55,w:132.9,h:132.9,r:-135},ElementShape_1:{id:"ElementShape_1",x:130,y:385,w:186.5,h:186.5}},GameScreen_cat:{MatchingTarget:{id:"MatchingTarget",x:320,y:289,w:518.2,h:450.55},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:88,y:391,w:264.5,h:264.5,r:-45},ElementShape_5:{id:"ElementShape_5",x:377,y:166.5,w:135,h:135},ElementShape_6:{id:"ElementShape_6",x:73,y:194,w:132.9,h:132.9,r:45},ElementShape_4:{id:"ElementShape_4",x:475,y:337,w:132.9,h:132.9,r:-135},ElementShape_7:{id:"ElementShape_7",x:534,y:224,w:93,h:186},ElementShape_2:{id:"ElementShape_2",x:550,y:538,w:187,h:187},ElementShape_3:{id:"ElementShape_3",x:152.7,y:562.8,w:188,h:94}},GameScreen_house1:{MatchingTarget:{id:"MatchingTarget",x:320,y:238,w:395.25,h:498.7},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:139,y:516,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:563.65,y:229.35,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:239,y:446,w:132.9,h:132.9,r:-45},ElementShape_4:{id:"ElementShape_4",x:346,y:463,w:132.9,h:132.9,r:-135},ElementShape_7:{id:"ElementShape_7",x:105,y:323,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:465,y:520,w:264.5,h:264.5,r:-135},ElementShape_3:{id:"ElementShape_3",x:537.7,y:368.8,w:188,h:94}},GameScreen_house2:{MatchingTarget:{id:"MatchingTarget",x:302,y:230,w:528.75,h:425.15},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:493,y:491,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:340.65,y:423.35,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:70,y:531,w:132.9,h:132.9,r:135},ElementShape_4:{id:"ElementShape_4",x:46,y:279,w:132.9,h:132.9,r:-135},ElementShape_7:{id:"ElementShape_7",x:241,y:546,w:197.25,h:197.25,r:-135},ElementShape_2:{id:"ElementShape_2",x:141,y:414.05,w:264.5,h:264.5,r:45},ElementShape_3:{id:"ElementShape_3",x:570.5,y:275,w:199.4,h:199.4,r:135}},GameScreen_house3:{MatchingTarget:{id:"MatchingTarget",x:341,y:240,w:327.8,h:279.5},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:129,y:176,w:187,h:187,r:-90},ElementShape_5:{id:"ElementShape_5",x:558.65,y:333.35,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:556,y:182,w:94,h:94,r:90},ElementShape_4:{id:"ElementShape_4",x:469,y:453,w:94,h:94,r:-90},ElementShape_7:{id:"ElementShape_7",x:98,y:311,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:130,y:480,w:187,h:187,r:90},ElementShape_3:{id:"ElementShape_3",x:334,y:439,w:188,h:94}},GameScreen_house4:{MatchingTarget:{id:"MatchingTarget",x:320,y:258,w:488.35,h:367.1},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:164,y:507,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:568.65,y:253.35,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:56,y:444,w:94,h:94,r:90},ElementShape_4:{id:"ElementShape_4",x:84,y:201,w:94,h:94,r:180},ElementShape_7:{id:"ElementShape_7",x:548,y:396,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:453,y:517.35,w:264.5,h:264.5,r:-135},ElementShape_3:{id:"ElementShape_3",x:300.75,y:421.25,w:94,h:188,r:-90}},GameScreen_plane:{MatchingTarget:{id:"MatchingTarget",x:320,y:282,w:453,h:394.8},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:360.95,y:478.05,w:187,h:187,r:90},ElementShape_5:{id:"ElementShape_5",x:224.55,y:493.05,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:568,y:369,w:94,h:94},ElementShape_4:{id:"ElementShape_4",x:98,y:536,w:132.9,h:132.9,r:135},ElementShape_7:{id:"ElementShape_7",x:583,y:454,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:137,y:394,w:264.5,h:264.5,r:45},ElementShape_3:{id:"ElementShape_3",x:446.4,y:142.3,w:199.4,h:199.4,r:45}},GameScreen_helicopter:{MatchingTarget:{id:"MatchingTarget",x:320,y:256,w:550.5,h:397.2},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:554,y:380,w:264.5,h:264.5,r:135},ElementShape_5:{id:"ElementShape_5",x:546.55,y:204.05,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:248,y:508,w:132.9,h:132.9,r:-45},ElementShape_4:{id:"ElementShape_4",x:438,y:436,w:132.9,h:132.9,r:135},ElementShape_7:{id:"ElementShape_7",x:407,y:530,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:102,y:447,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:275,y:391.6,w:199.4,h:199.4,r:45}},GameScreen_boat:{MatchingTarget:{id:"MatchingTarget",x:320,y:240,w:496.3,h:396.85},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:487,y:509,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:324.65,y:475.4,w:184.4,h:184.4,r:60.0001220703125},ElementShape_6:{id:"ElementShape_6",x:567,y:384,w:115.1,h:115.15,r:-75.00025939941406},ElementShape_4:{id:"ElementShape_4",x:566,y:172,w:115.1,h:115.15,r:-75.00025939941406},ElementShape_7:{id:"ElementShape_7",x:131,y:157,w:186,h:93,r:-90},ElementShape_2:{id:"ElementShape_2",x:82,y:368,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:140.7,y:499.7,w:188,h:94}},GameScreen_truck:{MatchingTarget:{id:"MatchingTarget",x:320,y:222,w:541.85,h:395.75},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:175,y:535,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:118,y:364,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:490,y:415,w:264.5,h:264.5,r:45},ElementShape_3:{id:"ElementShape_3",x:396.95,y:559.5,w:199.4,h:199.4,r:-135},ElementShape_5:{id:"ElementShape_5",x:329.7,y:455.3,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:257,y:384,w:132.9,h:132.9,r:-45},ElementShape_4:{id:"ElementShape_4",x:575,y:528,w:132.9,h:132.9,r:-135}},GameScreen_digit1:{MatchingTarget:{id:"MatchingTarget",x:338,y:293,w:331.9,h:660.25},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:136,y:294,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:573,y:522,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:117,y:483,w:264.5,h:264.5,r:135},ElementShape_3:{id:"ElementShape_3",x:477.5,y:206.95,w:199.4,h:199.4,r:-45},ElementShape_5:{id:"ElementShape_5",x:483.5,y:399.5,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:582,y:301,w:132.9,h:132.9,r:-135},ElementShape_4:{id:"ElementShape_4",x:71,y:163,w:132.9,h:132.9,r:-135}},GameScreen_digit2:{MatchingTarget:{id:"MatchingTarget",x:320,y:262,w:396.95,h:528.4},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:440,y:554,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:522,y:315,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:68.65,y:492,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:138.95,y:290.55,w:199.4,h:199.4,r:45},ElementShape_5:{id:"ElementShape_5",x:89.55,y:167.95,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:585,y:426,w:94,h:94,r:180},ElementShape_4:{id:"ElementShape_4",x:244,y:539,w:132.9,h:132.9,r:45}},GameScreen_digit3:{MatchingTarget:{id:"MatchingTarget",x:320,y:294,w:332.05,h:458.55},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:512,y:537,w:187,h:187,r:90},ElementShape_7:{id:"ElementShape_7",x:98,y:189,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:76,y:413,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:183.95,y:539.55,w:199.4,h:199.4,r:45},ElementShape_5:{id:"ElementShape_5",x:522.55,y:181.95,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:566,y:329,w:94,h:94,r:180},ElementShape_4:{id:"ElementShape_4",x:385,y:540,w:132.9,h:132.9,r:45}},GameScreen_digit4:{MatchingTarget:{id:"MatchingTarget",x:330,y:276,w:364.2,h:476.35},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:308,y:508,w:187,h:187,r:90},ElementShape_7:{id:"ElementShape_7",x:70,y:258,w:197.25,h:197.25,r:-45},ElementShape_2:{id:"ElementShape_2",x:140,y:416,w:187,h:187,r:-90},ElementShape_3:{id:"ElementShape_3",x:555.7,y:360.3,w:94,h:188,r:-90},ElementShape_5:{id:"ElementShape_5",x:557.7,y:179.25,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:85,y:544,w:94,h:94},ElementShape_4:{id:"ElementShape_4",x:521,y:528,w:94,h:94,r:180}},GameScreen_human1:{MatchingTarget:{id:"MatchingTarget",x:320,y:326,w:357.55,h:553.95},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:138,y:521,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:81.4,y:282.1,w:197.25,h:197.25,r:45},ElementShape_2:{id:"ElementShape_2",x:511,y:453,w:187,h:187,r:180},ElementShape_3:{id:"ElementShape_3",x:552.4,y:203.6,w:94,h:188,r:90},ElementShape_5:{id:"ElementShape_5",x:230,y:137.5,w:135,h:135},ElementShape_6:{id:"ElementShape_6",x:557,y:327,w:94,h:94},ElementShape_4:{id:"ElementShape_4",x:76,y:177,w:94,h:94,r:-90}},GameScreen_human2:{MatchingTarget:{id:"MatchingTarget",x:342,y:326,w:417.25,h:513.4},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:91,y:482,w:260.45,h:260.4,r:125.0001220703125},ElementShape_7:{id:"ElementShape_7",x:585.8,y:251,w:182.9,h:205.7,r:-144.9998779296875},ElementShape_2:{id:"ElementShape_2",x:121,y:223,w:216.65,h:216.6,r:79.99980163574219},ElementShape_3:{id:"ElementShape_3",x:375.05,y:547.65,w:199.4,h:199.4,r:45},ElementShape_5:{id:"ElementShape_5",x:561.35,y:525.2,w:188.05,h:188.05,r:-54.9998779296875},ElementShape_6:{id:"ElementShape_6",x:176.4,y:325.4,w:128.4,h:128.4,r:150.0001220703125},ElementShape_4:{id:"ElementShape_4",x:463,y:235,w:108.9,h:108.9,r:-79.99980163574219}},GameScreen_human3:{MatchingTarget:{id:"MatchingTarget",x:320,y:301,w:430.3,h:672.5},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:143,y:360,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:575.9,y:462.3,w:93,h:186},ElementShape_2:{id:"ElementShape_2",x:448,y:191,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:99.6,y:510.4,w:94,h:188,r:-90},ElementShape_5:{id:"ElementShape_5",x:495,y:348.4,w:135,h:135},ElementShape_6:{id:"ElementShape_6",x:579,y:181,w:130.95,h:130.9,r:54.9998779296875},ElementShape_4:{id:"ElementShape_4",x:189,y:464,w:132.9,h:132.9,r:-45}},GameScreen_human4:{MatchingTarget:{id:"MatchingTarget",x:323,y:294,w:462.7,h:556.85},Hud:{id:"Hud",x:0,y:0,w:331.5,h:630.5},ElementShape_1:{id:"ElementShape_1",x:85,y:373,w:248.5,h:248.55,r:154.9999542236328},ElementShape_7:{id:"ElementShape_7",x:314.5,y:563.5,w:186,h:93,r:-90},ElementShape_2:{id:"ElementShape_2",x:481,y:469,w:248.55,h:248.5,r:64.99995422363281},ElementShape_3:{id:"ElementShape_3",x:557.6,y:280.5,w:94,h:188,r:-90},ElementShape_5:{id:"ElementShape_5",x:161.8,y:544.4,w:173,h:173,r:19.9998779296875},ElementShape_6:{id:"ElementShape_6",x:71,y:211,w:128.4,h:128.4,r:29.9998779296875},ElementShape_4:{id:"ElementShape_4",x:514,y:379,w:94,h:94}},GameHudLayout:{BackButton:{id:"BackButton",x:580,y:60,w:71,h:71},NextButton:{id:"NextButton",x:320,y:620,w:71,h:71}},HudLayout:{BackButton:{id:"BackButton",x:580,y:60,w:71,h:71},MuteButton:{id:"MuteButton",x:510,y:60,w:71,h:71}},Layout_boat:{ElementShape_1:{id:"ElementShape_1",x:136,y:26,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:-80,y:13,w:184.4,h:184.4,r:60.0001220703125},ElementShape_6:{id:"ElementShape_6",x:-40,y:-57,w:115.1,h:115.15,r:-75.00025939941406},ElementShape_4:{id:"ElementShape_4",x:-157,y:10,w:115.1,h:115.15,r:-75.00025939941406},ElementShape_7:{id:"ElementShape_7",x:-43,y:109,w:186,h:93,r:-90},ElementShape_2:{id:"ElementShape_2",x:50,y:-59,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:49,y:118,w:188,h:94}},Layout_cat:{ElementShape_1:{id:"ElementShape_1",x:2,y:24,w:264.5,h:264.5,r:-45},ElementShape_5:{id:"ElementShape_5",x:-111,y:-107,w:135,h:135},ElementShape_6:{id:"ElementShape_6",x:-70,y:-172,w:132.9,h:132.9,r:45},ElementShape_4:{id:"ElementShape_4",x:-153,y:-176,w:132.9,h:132.9,r:-135},ElementShape_7:{id:"ElementShape_7",x:-81,y:-14,w:93,h:186},ElementShape_2:{id:"ElementShape_2",x:26,y:150,w:187,h:187},ElementShape_3:{id:"ElementShape_3",x:180,y:162,w:188,h:94}},Layout_digit1:{ElementShape_1:{id:"ElementShape_1",x:2,y:185,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:26,y:-191,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:20,y:33,w:264.5,h:264.5,r:135},ElementShape_3:{id:"ElementShape_3",x:-33,y:-66,w:199.4,h:199.4,r:-45},ElementShape_5:{id:"ElementShape_5",x:-66,y:-164,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:25,y:-101,w:132.9,h:132.9,r:-135},ElementShape_4:{id:"ElementShape_4",x:-41,y:98,w:132.9,h:132.9,r:-135}},Layout_digit2:{ElementShape_1:{id:"ElementShape_1",x:-63,y:144,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:-25,y:-149,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:115,y:-72,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:102,y:157,w:199.4,h:199.4,r:45},ElementShape_5:{id:"ElementShape_5",x:2,y:58,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:38,y:-177,w:94,h:94,r:180},ElementShape_4:{id:"ElementShape_4",x:44,y:-7,w:132.9,h:132.9,r:45}},Layout_digit3:{ElementShape_1:{id:"ElementShape_1",x:-75,y:132,w:187,h:187,r:90},ElementShape_7:{id:"ElementShape_7",x:79,y:-93,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:97,y:62,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:20,y:-166,w:199.4,h:199.4,r:45},ElementShape_5:{id:"ElementShape_5",x:-80,y:-131,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:20,y:127,w:94,h:94,r:180},ElementShape_4:{id:"ElementShape_4",x:26,y:-2,w:132.9,h:132.9,r:45}},Layout_digit4:{ElementShape_1:{id:"ElementShape_1",x:-91,y:6,w:187,h:187,r:90},ElementShape_7:{id:"ElementShape_7",x:74,y:158,w:197.25,h:197.25,r:-45},ElementShape_2:{id:"ElementShape_2",x:104,y:71,w:187,h:187,r:-90},ElementShape_3:{id:"ElementShape_3",x:-105.3,y:-118.7,w:94,h:188,r:-90},ElementShape_5:{id:"ElementShape_5",x:116,y:-37,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:100,y:-113,w:94,h:94},ElementShape_4:{id:"ElementShape_4",x:-89,y:-185,w:94,h:94,r:180}},Layout_dog:{ElementShape_5:{id:"ElementShape_5",x:218,y:7,w:135,h:135},ElementShape_1:{id:"ElementShape_1",x:92,y:0,w:187,h:187,r:180},ElementShape_3:{id:"ElementShape_3",x:-203,y:-83,w:94,h:188,r:-90},ElementShape_2:{id:"ElementShape_2",x:-94,y:0,w:187,h:187,r:180},ElementShape_7:{id:"ElementShape_7",x:-8,y:31,w:197.25,h:197.25,r:-135},ElementShape_4:{id:"ElementShape_4",x:155,y:-88,w:94,h:94},ElementShape_6:{id:"ElementShape_6",x:228,y:-89,w:132.9,h:132.9,r:45}},Layout_helicopter:{ElementShape_1:{id:"ElementShape_1",x:18,y:14,w:264.5,h:264.5,r:135},ElementShape_5:{id:"ElementShape_5",x:-234,y:-17,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:-131,y:39,w:132.9,h:132.9,r:-45},ElementShape_4:{id:"ElementShape_4",x:-69,y:56,w:132.9,h:132.9,r:135},ElementShape_7:{id:"ElementShape_7",x:156,y:-153,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:110,y:15,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:-34,y:-151,w:199.4,h:199.4,r:45}},Layout_house1:{ElementShape_1:{id:"ElementShape_1",x:38,y:-30,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:-49,y:-123.3,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:-67,y:40.7,w:132.9,h:132.9,r:-45},ElementShape_4:{id:"ElementShape_4",x:-110,y:78.7,w:132.9,h:132.9,r:-135},ElementShape_7:{id:"ElementShape_7",x:88,y:55,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:-2,y:101,w:264.5,h:264.5,r:-135},ElementShape_3:{id:"ElementShape_3",x:-95,y:-31,w:188,h:94}},Layout_house2:{ElementShape_1:{id:"ElementShape_1",x:-64.85,y:67.9,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:69.6,y:-64.35,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:66.9,y:-136.65,w:132.9,h:132.9,r:135},ElementShape_4:{id:"ElementShape_4",x:-107.05,y:-20,w:132.9,h:132.9,r:-135},ElementShape_7:{id:"ElementShape_7",x:159,y:74.05,w:197.25,h:197.25,r:-135},ElementShape_2:{id:"ElementShape_2",x:66.05,y:29.15,w:264.5,h:264.5,r:45},ElementShape_3:{id:"ElementShape_3",x:-164,y:16,w:199.4,h:199.4,r:135}},Layout_house3:{ElementShape_1:{id:"ElementShape_1",x:73,y:2,w:187,h:187,r:-90},ElementShape_5:{id:"ElementShape_5",x:-99,y:-10,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:-118,y:65,w:94,h:94,r:90},ElementShape_4:{id:"ElementShape_4",x:-80,y:97,w:94,h:94,r:-90},ElementShape_7:{id:"ElementShape_7",x:40,y:-95,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:7,y:67,w:187,h:187,r:90},ElementShape_3:{id:"ElementShape_3",x:-53,y:-105,w:188,h:94}},Layout_house4:{ElementShape_1:{id:"ElementShape_1",x:118,y:-124,w:264.5,h:264.5,r:-135},ElementShape_5:{id:"ElementShape_5",x:-144,y:62,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:7,y:45,w:94,h:94,r:90},ElementShape_4:{id:"ElementShape_4",x:133,y:-50,w:94,h:94,r:180},ElementShape_7:{id:"ElementShape_7",x:70,y:72,w:186,h:93,r:90},ElementShape_2:{id:"ElementShape_2",x:-59,y:-31,w:264.5,h:264.5,r:-135},ElementShape_3:{id:"ElementShape_3",x:116,y:15,w:94,h:188,r:-90}},Layout_human1:{ElementShape_1:{id:"ElementShape_1",x:47,y:-57,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:40.4,y:-216.9,w:197.25,h:197.25,r:45},ElementShape_2:{id:"ElementShape_2",x:-24,y:49,w:187,h:187,r:180},ElementShape_3:{id:"ElementShape_3",x:-131,y:81,w:94,h:188,r:90},ElementShape_5:{id:"ElementShape_5",x:50,y:108,w:135,h:135},ElementShape_6:{id:"ElementShape_6",x:44,y:203,w:94,h:94},ElementShape_4:{id:"ElementShape_4",x:83,y:-173,w:94,h:94,r:-90}},Layout_human2:{ElementShape_1:{id:"ElementShape_1",x:-2,y:-41,w:260.45,h:260.4,r:125.0001220703125},ElementShape_7:{id:"ElementShape_7",x:-77,y:93,w:182.9,h:205.7,r:-144.9998779296875},ElementShape_2:{id:"ElementShape_2",x:25,y:109,w:216.65,h:216.6,r:79.99980163574219},ElementShape_3:{id:"ElementShape_3",x:91,y:-190,w:199.4,h:199.4,r:45},ElementShape_5:{id:"ElementShape_5",x:-50,y:-189,w:188.05,h:188.05,r:-54.9998779296875},ElementShape_6:{id:"ElementShape_6",x:177,y:104,w:128.4,h:128.4,r:150.0001220703125},ElementShape_4:{id:"ElementShape_4",x:-110,y:189,w:108.9,h:108.9,r:-79.99980163574219}},Layout_human3:{ElementShape_1:{id:"ElementShape_1",x:91,y:221,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:-36.1,y:-46.7,w:93,h:186},ElementShape_2:{id:"ElementShape_2",x:5,y:136,w:264.5,h:264.5,r:-45},ElementShape_3:{id:"ElementShape_3",x:46,y:46,w:94,h:188,r:-90},ElementShape_5:{id:"ElementShape_5",x:0,y:-204.6,w:135,h:135},ElementShape_6:{id:"ElementShape_6",x:-167,y:-76,w:130.95,h:130.9,r:54.9998779296875},ElementShape_4:{id:"ElementShape_4",x:-63,y:-115,w:132.9,h:132.9,r:-45}},Layout_human4:{ElementShape_1:{id:"ElementShape_1",x:104,y:-56,w:248.5,h:248.55,r:154.9999542236328},ElementShape_7:{id:"ElementShape_7",x:-68,y:-48,w:186,h:93,r:-90},ElementShape_2:{id:"ElementShape_2",x:52,y:-165,w:248.55,h:248.5,r:64.99995422363281},ElementShape_3:{id:"ElementShape_3",x:-71,y:53,w:94,h:188,r:-90},ElementShape_5:{id:"ElementShape_5",x:-105,y:-147,w:173,h:173,r:19.9998779296875},ElementShape_6:{id:"ElementShape_6",x:-88,y:161,w:128.4,h:128.4,r:29.9998779296875},ElementShape_4:{id:"ElementShape_4",x:8,y:196,w:94,h:94}},Layout_parrot:{ElementShape_7:{id:"ElementShape_7",x:121,y:-190,w:197.25,h:197.25,r:135},ElementShape_1:{id:"ElementShape_1",x:94,y:-79,w:264.5,h:264.5,r:-45},ElementShape_2:{id:"ElementShape_2",x:-13,y:-8,w:187,h:187},ElementShape_4:{id:"ElementShape_4",x:186,y:-166,w:132.9,h:132.9,r:-135},ElementShape_3:{id:"ElementShape_3",x:-97,y:98,w:188,h:94},ElementShape_6:{id:"ElementShape_6",x:-163,y:177,w:94,h:94,r:90},ElementShape_5:{id:"ElementShape_5",x:44,y:100,w:191,h:191,r:45}},Layout_plane:{ElementShape_1:{id:"ElementShape_1",x:-165,y:-71,w:187,h:187,r:90},ElementShape_5:{id:"ElementShape_5",x:160,y:-9,w:135,h:135,r:90},ElementShape_6:{id:"ElementShape_6",x:-28.1,y:-97.55,w:94,h:94},ElementShape_4:{id:"ElementShape_4",x:92,y:33,w:132.9,h:132.9,r:135},ElementShape_7:{id:"ElementShape_7",x:120,y:96,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:28,y:-28,w:264.5,h:264.5,r:45},ElementShape_3:{id:"ElementShape_3",x:-69,y:22,w:199.4,h:199.4,r:45}},Layout_truck:{ElementShape_1:{id:"ElementShape_1",x:98.35,y:17.45,w:264.5,h:264.5,r:-135},ElementShape_7:{id:"ElementShape_7",x:189,y:-28,w:197.25,h:197.25,r:135},ElementShape_2:{id:"ElementShape_2",x:-101,y:45,w:264.5,h:264.5,r:45},ElementShape_3:{id:"ElementShape_3",x:128,y:-99,w:199.4,h:199.4,r:-135},ElementShape_5:{id:"ElementShape_5",x:-152,y:-48,w:191,h:191,r:45},ElementShape_6:{id:"ElementShape_6",x:166,y:88,w:132.9,h:132.9,r:-45},ElementShape_4:{id:"ElementShape_4",x:54,y:-68,w:132.9,h:132.9,r:-135}},Layout_turtle:{ElementShape_2:{id:"ElementShape_2",x:17,y:-22,w:187,h:187,r:180},ElementShape_3:{id:"ElementShape_3",x:-89,y:11,w:94,h:188,r:90},ElementShape_7:{id:"ElementShape_7",x:178.95,y:10.5,w:93,h:186,r:180},ElementShape_6:{id:"ElementShape_6",x:184.05,y:106.3,w:132.9,h:132.9,r:45},ElementShape_5:{id:"ElementShape_5",x:-185.45,y:-36.1,w:191,h:191,r:45},ElementShape_4:{id:"ElementShape_4",x:-85,y:102,w:132.9,h:132.9,r:-135},ElementShape_1:{id:"ElementShape_1",x:81.55,y:44.45,w:186.5,h:186.5}},ThumbIconButtonLayout:{LearnButton:{id:"LearnButton",x:69.7,y:65.05,w:71,h:71}}},spritesheets;(spritesheets||(spritesheets={}))["preloader-spritesheet"]={frames:[[1,1,310,135,0,154,35],[1,141,288,53,0,143,26]],animations:{ProgressBack:{speed:"1",frames:[0]},ProgressBar:{speed:"1",frames:[1]}},images:["preloader-spritesheet.png"]};var spritesheets;(spritesheets||(spritesheets={})).spritesheet={frames:[[999,265,16,16,0,4,4],[999,222,17,17,0,4,4],[784,448,71,71,0,35,35],[961,1,52,70,0,27,32],[104,406,71,71,0,35,35],[708,385,71,71,0,35,35],[180,406,71,71,0,35,35],[256,406,71,71,0,34.8,35],[631,385,72,72,0,35.3,35.5],[961,76,52,70,0,24,32],[961,151,43,43,0,21.75,17.75],[544,477,29,30,0,14.75,10.25],[464,199,174,174,0,87,87],[1,1,258,226,0,128,113],[662,193,187,187,0,125.65,126.65],[662,1,188,187,0,126,127],[141,307,188,94,0,94,46],[532,378,94,94,0,31,66],[1,232,135,135,0,67,68],[433,378,94,94,0,31,66],[334,307,94,186,0,56.5,93.5],[264,1,195,195,0,131,131],[464,1,193,193,0,130,130],[264,201,194,101,0,97,50],[1,372,98,98,0,33,67],[854,201,140,139,0,70,70],[854,345,99,98,0,34,67],[855,1,101,195,0,60,98],[999,244,16,16,0,4,4],[643,214,10,10,0,4.5,4.5],[897,448,32,32,0,16,16],[971,456,32,32,0,16,16],[217,232,32,32,0,16,16],[708,461,32,32,0,16,16],[217,269,32,32,0,16,16],[934,456,32,32,0,16,16],[745,461,32,32,0,16,16],[784,385,32,32,0,16,16],[631,462,32,32,0,16,16],[178,270,32,32,0,16,16],[643,199,11,10,0,5,4.5],[668,462,32,32,0,16,16],[958,345,32,32,0,16,16],[507,477,32,32,0,16,16],[1,475,32,32,0,16,16],[38,475,32,32,0,16,16],[433,477,32,32,0,16,16],[470,477,32,32,0,16,16],[999,199,18,18,0,8.75,8.05],[141,232,33,33,0,16,16],[179,232,33,33,0,16,16],[860,448,32,32,0,16,16],[958,382,32,32,0,16,16],[141,270,32,32,0,16,16],[958,419,32,32,0,16,16]],animations:{BlackRect:{speed:"1",frames:[0]},WhiteRect:{speed:"1",frames:[1]},BackButton:{speed:"1",frames:[2]},BackPageButton:{speed:"1",frames:[3]},CreditsButton:{speed:"1",frames:[4]},LearnButton:{speed:"1",frames:[5]},MuteButtonOff:{speed:"1",frames:[6]},MuteButtonOn:{speed:"1",frames:[7]},NextButton:{speed:"1",frames:[8]},NextPageButton:{speed:"1",frames:[9]},PageIndicatorActive:{speed:"1",frames:[10]},PageIndicatorPassive:{speed:"1",frames:[11]},PlayButton:{speed:"1",frames:[12]},MapCardBack:{speed:"1",frames:[13]},ElementShape_1:{speed:"1",frames:[14]},ElementShape_2:{speed:"1",frames:[15]},ElementShape_3:{speed:"1",frames:[16]},ElementShape_4:{speed:"1",frames:[17]},ElementShape_5:{speed:"1",frames:[18]},ElementShape_6:{speed:"1",frames:[19]},ElementShape_7:{speed:"1",frames:[20]},Element_1:{speed:"1",frames:[21]},Element_2:{speed:"1",frames:[22]},Element_3:{speed:"1",frames:[23]},Element_4:{speed:"1",frames:[24]},Element_5:{speed:"1",frames:[25]},Element_6:{speed:"1",frames:[26]},Element_7:{speed:"1",frames:[27]},TransitionRect:{speed:"1",frames:[28]},Confetti1:{speed:"1",frames:[29]},Confetti10:{speed:"1",frames:[30]},Confetti11:{speed:"1",frames:[31]},Confetti12:{speed:"1",frames:[32]},Confetti13:{speed:"1",frames:[33]},Confetti14:{speed:"1",frames:[34]},Confetti15:{speed:"1",frames:[35]},Confetti16:{speed:"1",frames:[36]},Confetti17:{speed:"1",frames:[37]},Confetti18:{speed:"1",frames:[38]},Confetti19:{speed:"1",frames:[39]},Confetti2:{speed:"1",frames:[40]},Confetti20:{speed:"1",frames:[41]},Confetti21:{speed:"1",frames:[42]},Confetti22:{speed:"1",frames:[43]},Confetti23:{speed:"1",frames:[44]},Confetti24:{speed:"1",frames:[45]},Confetti25:{speed:"1",frames:[46]},Confetti26:{speed:"1",frames:[47]},Confetti3:{speed:"1",frames:[48]},Confetti4:{speed:"1",frames:[49]},Confetti5:{speed:"1",frames:[50]},Confetti6:{speed:"1",frames:[51]},Confetti7:{speed:"1",frames:[52]},Confetti8:{speed:"1",frames:[53]},Confetti9:{speed:"1",frames:[54]}},images:["spritesheet.png"]};var LOCALIZED_MESSAGES={en:{"page1.page.title":"Animals","page2.page.title":"Houses","page3.page.title":"Toys","page4.page.title":"People","page5.page.title":"Digits","dog.label":"Dog","cat.label":"Cat","parrot.label":"Parrot","turtle.label":"Turtle","horse.label":"Horse","rabbit.label":"Rabbit","sheep.label":"Sheep"}},colorTools;!function(t){function e(t){if("number"==typeof t)return 0|t;if("string"==typeof t&&"#"===t[0]){var e=t.slice(1);return parseInt(e,16)}return null}function n(t){var n=e(t),i={r:0,g:0,b:0};return i.r=n>>16,i.g=(65280&n)>>8,i.b=255&n,i}function i(e,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var r=t.getRGB(e);return i?new createjs.ColorFilter(1,1,1,1,r.r,r.g,r.b,0):new createjs.ColorFilter(0,0,0,n,r.r,r.g,r.b,0)}function r(t,n){var i=new createjs.Container,r=resources.spritesheet;_.forEach(t,function(t){var e=t,n=new createjs.Sprite(r,e.id);n.name=e.id,n.rotation=e.r,n.x=e.x,n.y=e.y,n.scaleX=n.scaleY=1.01,i.addChild(n)});var a=i.getBounds();return i.cache(a.x,a.y,a.width,a.height),s(i,e(n)),i}function s(t,e){for(var n=t.cacheCanvas,i=n.getContext("2d"),r=t.getBounds(),s=i.getImageData(0,0,r.width,r.height),a=s.data.length,o=s.data,h=e>>16,c=(65280&e)>>8,l=255&e,u=0;a>u;u+=4)0!=o[u+3]?(o[u+0]=h,o[u+1]=c,o[u+2]=l,controls.badAndroidDevice&&(o[u+3]=255)):(o[u+0]=0,o[u+1]=0,o[u+2]=0,o[u+3]=0);i.putImageData(s,0,0)}t.parseColor=e,t.getRGB=n,t.getColorFilter=i,t.colorizeCompositeObject=r}(colorTools||(colorTools={}));var colorizer;!function(t){function e(t,e){for(var i=new n(t.spritesheet,t.margin,e),r=t.defaultColor,s=t.colorFilterLayouts,a=0;a<s.length;a++){var o=s[a],h=colorTools.colorizeCompositeObject(o.layout,o.color||r),c=h.getBounds();if(t.targetWidth&&t.targetHeight){var l=Math.min(t.targetWidth/c.width,t.targetHeight/c.height);h.scaleX=h.scaleY=l}var u=new createjs.Container;u.addChild(h),i.addSprite(u,o.name)}i.build()}var n=function(){function t(t,e,n){this.srcSpritesheet=t,this.margin=e,this.result=n,this.builder=null,this.builder=new createjs.SpriteSheetBuilder}return t.prototype.addSprite=function(t,e){this.builder.addAnimation(e,[this.builder.addFrame(t)])},t.prototype.build=function(){var t=this;this.builder.on("complete",function(){t.result(t.builder.spriteSheet)},null,!0),this.builder.buildAsync()},t}();t.SpriteSheetColorizer=n,t.createSpriteSheetMini=e}(colorizer||(colorizer={}));var storage;!function(t){function e(t){s=t}function n(t,e){try{var n=JSON.stringify(e);window.famobi.localStorage.setItem(r(t),""+n)}catch(i){}}function i(t){try{var e=window.famobi.localStorage.getItem(r(t));return JSON.parse(e)}catch(n){return null}}function r(t){return s+"."+t}var s="";t.initialize=e,t.save=n,t.load=i}(storage||(storage={}));var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},sound;!function(t){function e(e,i,r,s,a){void 0===r&&(r=!0),void 0===s&&(s=!1),void 0===a&&(a=!1),l=e,u=i,resources.portalConfig.singleSoundExtension||(createjs.Sound.alternateExtensions=["m4a"]),createjs.Sound.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin]);var o=createjs.Sound.activePlugin,h=o instanceof createjs.WebAudioPlugin,d=createjs.BrowserDetect,p=d.BrowserDetect||d.isAndroid,f=navigator.userAgent.indexOf("Android")>-1&&!(navigator.userAgent.indexOf("Chrome")>-1);
f&&(t.soundFXSupported=!1,t.musicSupported=!1),t.soundFXSupported=!a&&(h||!p),t.musicSupported=!s,t.settings.loadSettings(),r&&Visibility.change(c),createjs.Sound.on("fileload",n)}function n(t){d[t.id]=!0,d[t.src]=!0}function i(e){t.musicSupported&&_.play(e)}function r(){t.musicSupported&&_.stop()}function s(e,n,i,r,s,a){return void 0===s&&(s=1),t.settings.getSoundFX()&&u&&u[e]?createjs.Sound.play(e,createjs.Sound.INTERRUPT_ANY,n,i,r,s*t.baseSoundFXVolume,a):void 0}function a(t){return u[t]}function o(t){void 0===t&&(t="default"),m.mute(t),createjs.Sound.setMute(!0)}function h(t){void 0===t&&(t="default"),m.unmute(t),m.isMuted()||createjs.Sound.setMute(!1)}function c(t,e){"hidden"==e?o("visibility"):h("visibility")}var l;t.baseSoundFXVolume=1,t.baseMusicVolume=1;var u;t.initialize=e;var d={};t.playMusic=i,t.stopMusic=r,t.playSound=s,t.checkSoundExists=a,t.mute=o,t.unmute=h;var p=function(e){function n(){e.apply(this,arguments),this.soundFX=!0,this.music=!0}return __extends(n,e),n.prototype.setSoundFX=function(t){!t!=!this.soundFX&&(this.soundFX=t,this.dispatchEvent("change"),this.saveSettings())},n.prototype.getSoundFX=function(){return this.soundFX},n.prototype.setMusic=function(t){!t!=!this.music&&(this.music=t,_.enable(t),this.dispatchEvent("change"),this.saveSettings())},n.prototype.getMusic=function(){return this.music},n.prototype.saveSettings=function(){resources.portalConfig.hideMuteButton||(window.famobi.localStorage.setItem(l+".SoundFXSetting",t.settings.getSoundFX()?"1":"0"),window.famobi.localStorage.setItem(l+".MusicSetting",t.settings.getMusic()?"1":"0"))},n.prototype.loadSettings=function(){var t="1",e="1";resources.portalConfig.hideMuteButton||(t=window.famobi.localStorage.getItem(l+".SoundFXSetting"),e=window.famobi.localStorage.getItem(l+".MusicSetting")),this.soundFX="0"!==t,this.music="0"!==e,_.enable(this.music),this.dispatchEvent("change")},n}(createjs.EventDispatcher);t.SoundSettings=p,t.settings=new p;var f=function(){function e(){this.musicId=null,this.musicEnabled=!0,this.musicInstance=null}return e.prototype.play=function(t){this.musicId!==t&&(this.stop(),this.musicId=t,this.musicEnabled&&this.startCurrentInstance())},e.prototype.stop=function(){this.musicInstance&&(this.musicInstance.stop(),this.musicInstance=null),this.musicId=null},e.prototype.enable=function(t){this.musicEnabled!=t&&(t?this.startCurrentInstance():this.stopCurrentInstance(),this.musicEnabled=t)},e.prototype.startCurrentInstance=function(){this.musicId&&(this.musicInstance=createjs.Sound.play(this.musicId,createjs.Sound.INTERRUPT_ANY,0,0,-1,t.baseMusicVolume))},e.prototype.stopCurrentInstance=function(){this.musicInstance&&(this.musicInstance.stop(),this.musicInstance=null)},e}(),_=new f,g=function(){function t(){this.count=0,this.inputSet={}}return t.prototype.mute=function(t){this.inputSet[t]||(this.inputSet[t]=!0,this.count++)},t.prototype.unmute=function(t){this.inputSet[t]&&(this.inputSet[t]=!1,this.count--)},t.prototype.isMuted=function(){return this.count>0},t}(),m=new g}(sound||(sound={}));var bmfont;!function(t){var e=function(){function t(t,e){this.images=[],this.symbols={},this.lineHeight=0,this.base=0,this.spaceSize=15,this.loadImages(t),this.parseFont(e)}return t.prototype.loadImages=function(t){if("array"==typeof t)for(var e=0,n=t.length;n>e;++e)this.loadImage(t[e]);else this.loadImage(t)},t.prototype.loadImage=function(t){var e;"string"==typeof t?(e=document.createElement("img"),e.src=t):e=t,this.images.push(e)},t.prototype.parseFont=function(t){this.parseFontHeader(t),this.parseFontSymbols(t),this.calculateSpaceSize()},t.prototype.parseFontHeader=function(t){var e=t.childNodes[0].getElementsByTagName("common")[0];this.lineHeight=+e.getAttribute("lineHeight"),this.base=+e.getAttribute("base")},t.prototype.parseFontSymbols=function(t){for(var e=t.childNodes[0].getElementsByTagName("chars")[0].getElementsByTagName("char"),n=0;n<e.length;n++){var r=e[n],s=r.getAttribute("id"),a=String.fromCharCode(s),o=i.makeFromBMFontXML(r);this.symbols[a]=o}},t.prototype.calculateSpaceSize=function(){var t=this.symbols[" "];t&&(this.spaceSize=t.xadvance)},t}();t.BitmapFont=e;var n=function(t){function e(e,n){t.call(this),this.text=e,this.bitmapFont=n,this.calculatedBounds=new createjs.Rectangle,this._lastCalculatedText=null,e&&this.drawText(null)}return __extends(e,t),e.prototype.draw=function(t){return this.drawText(t),!0},e.prototype.getBounds=function(){var e=t.prototype.getBounds.call(this);return e?e:(this._lastCalculatedText!=this.text&&this.drawText(null),this.calculatedBounds)},e.prototype.drawText=function(t){for(var e=0,n=this.bitmapFont.base,i=0,r=0,s=this.text.length;s>r;++r){var a=this.text.charAt(r),o=this.bitmapFont.symbols[a];o?(t&&o.width>0&&this.drawSymbolAt(t,e,n,o,r),e+=o.xadvance):"\n"==a?(e=0,n+=this.bitmapFont.lineHeight):e+=this.bitmapFont.spaceSize,e>i&&(i=e)}this.calculatedBounds.x=0,this.calculatedBounds.y=0,this.calculatedBounds.width=i,this.calculatedBounds.height=n+this.bitmapFont.lineHeight,this._lastCalculatedText=this.text},e.prototype.drawSymbolAt=function(t,e,n,i){var r=i.page,s=this.bitmapFont.images[r],a=i.width,o=i.height;t.drawImage(s,i.x,i.y,a,o,e+i.xoffset,n+i.yoffset,a,o)},e}(createjs.DisplayObject);t.BitmapText=n;var i=function(){function t(){}return t.makeFromBMFontXML=function(e){var n=new t;return n.x=+e.getAttribute("x"),n.y=+e.getAttribute("y"),n.width=+e.getAttribute("width"),n.height=+e.getAttribute("height"),n.xoffset=+e.getAttribute("xoffset"),n.yoffset=+e.getAttribute("yoffset"),n.xadvance=+e.getAttribute("xadvance"),n.page=+e.getAttribute("page"),n},t}();t.BMSymbol=i}(bmfont||(bmfont={}));var url;!function(t){var e=function(){function t(t){if(t)for(var e=t.split(/[&\?]/),n=0,i=e.length;i>n;++n){var r=e[n];if(r&&""!=r){var s=r.split("=");this[s[0]]=s[1]?s[1]:!0}}}return t}();t.URLParameters=e}(url||(url={}));var lazyget;!function(t){var e;!function(t){var e=function(){function t(t){void 0===t&&(t=!0),this.useXHR=t,this.queueMap={}}return t.prototype.load=function(t,e,n){var i=this.queueMap[t];i||(i=this.pushNewQueue(t));var r=n.manifest||n;if(r.length){for(var s=0,a=r.length;a>s;++s){var o=r[s];o.saveResultsTo=e}i.loadManifest(n,this.firstQueue===i)}},t.prototype.waitFor=function(t,e,n){var i=this.queueMap[t];if(!i||i.loaded)return void e();var r=n||this.defaultPreloaderScreen;r&&(r.start(),i.addEventListener("progress",function(t){r.updateProgress(t.progress)})),i.on("complete",function(){r?r.requestTermination(e):e()},this,!0)},t.prototype.pushNewQueue=function(t){var e=new n(this.useXHR);return e.installPlugin(createjs.Sound),e.name=t,this.queueMap[t]=e,this.lastQueue?(this.lastQueue.next=e,this.lastQueue=e):(this.lastQueue=this.firstQueue=e,this.subscribeToNewHead()),e},t.prototype.popFirstQueue=function(){var t=this.firstQueue;t&&(this.firstQueue=t.next,this.queueMap[t.name]=null,this.firstQueue?this.subscribeToNewHead():this.lastQueue=null,t.removeAllEventListeners("progress"))},t.prototype.subscribeToNewHead=function(){this.firstQueue.loaded?this.onFirstQueueLoaded():(this.firstQueue.on("complete",this.onFirstQueueLoaded,this,!0),this.firstQueue.on("fileload",this.onFileLoad,this))},t.prototype.onFileLoad=function(t){var e=t.item;e.saveResultsTo&&(e.saveResultsTo[e.id]=t.result)},t.prototype.onFirstQueueLoaded=function(){var t=this.firstQueue;t&&this.popFirstQueue()},t}();t.Preloader=e;var n=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e}(createjs.LoadQueue)}(e=t.preloadjs||(t.preloadjs={}));var n;!function(t){function e(t,e){var n=t.images;if(n)for(var i=0,r=n.length;r>i;i++){var s=n[i];if(!(s instanceof HTMLImageElement)){var a=s.split(".")[0],o=e[s]||e[a];o&&(n[i]=o)}}return new createjs.SpriteSheet(t)}t.createSpriteSheet=e;var n=function(){function t(t,e){this.minLoadTimeMillis=t,this.preloaderScreen=e,this.currentValue=0,this.lastReportedValue=0,this.terminationRequestedFor=null,createjs.Ticker.on("tick",this.onTimer,this)}return t.prototype.start=function(){this.preloaderScreen.start(),this.terminationRequestedFor=null,this.currentValue=0,this.lastReportedValue=0},t.prototype.updateProgress=function(t){t>this.lastReportedValue&&(this.lastReportedValue=t)},t.prototype.requestTermination=function(t){this.lastReportedValue=1,this.terminationRequestedFor=t},t.prototype.onTimer=function(t){this.currentValue+=t.delta/this.minLoadTimeMillis,this.currentValue>this.lastReportedValue&&(this.currentValue=this.lastReportedValue),this.preloaderScreen.updateProgress(this.currentValue),1===this.currentValue&&this.terminationRequestedFor&&(t.remove(),this.preloaderScreen.requestTermination(this.terminationRequestedFor))},t}();t.SmoothPreloaderScreen=n;var i=function(t){function e(e,n,i,r){if(t.call(this),this.internalStage=e,this.config=n,this.backgroundShape=null,this.progressBarContainer=new createjs.Container,this.progressBar=null,this.initialWidth=0,this.progressBitmapAdded=!1,this.previousWidth=-1,this.previousHeight=-1,this.config.hasOwnProperty("backgroundColor")){var s=new createjs.Shape;this.addChild(s),s.graphics.beginFill(this.config.backgroundColor).drawRect(-1,-1,2,2),this.backgroundShape=s,this.addChild(this.backgroundShape),this.backgroundShape.scaleX=i,this.backgroundShape.scaleY=r}var a=this.config.spritesheet,o=new createjs.Sprite(a,"ProgressBack");this.addChild(o);var h=a.getAnimation("ProgressBar"),c=a.getFrame(h.frames[0]),l=new createjs.Bitmap(c.image);l.sourceRect=c.rect.clone(),l.regX=c.regX,l.regY=c.regY,l.visible=!1,this.addChild(l),this.progressBar=l,this.initialWidth=l.sourceRect.width;var u=this.config.layout;u&&(o.x=u.progressBack.x,o.y=u.progressBack.y,l.x=u.progressBar.x,l.y=u.progressBar.y)}return __extends(e,t),e.prototype.start=function(){this.internalStage.addChild(this),this.updateProgress(0)},e.prototype.updateProgress=function(t){0>t&&(t=0),!this.progressBar.visible&&t>0?this.progressBar.visible=!0:t>1&&(t=1),this.progressBar&&(this.progressBar.sourceRect.width=this.initialWidth*t)},e.prototype.requestTermination=function(t){var e=this;setTimeout(function(){e.stage.removeChild(e),t()},this.config.endDelay||0)},e}(createjs.Container);t.ProgressBarPreloader=i;var r=function(t){function e(e){t.call(this),this.internalStage=e,controls.createSolidRect(this,utils.getPreloaderBgColor());var n=new createjs.Text("Loading...","bold 32px arial, helvetica, sans-serif","#FFFFFF");n.x=controls.gameWidth/2,n.y=controls.gameHeight/2+50,n.textAlign="center",this.addChild(n)}return __extends(e,t),e.prototype.start=function(){this.internalStage.addChild(this),this.updateProgress(0)},e.prototype.updateProgress=function(){},e.prototype.requestTermination=function(t){var e=this.parent;e.removeChild(this),t()},e}(createjs.Container);t.TextPreloaderScreen=r}(n=t.easeljs||(t.easeljs={}))}(lazyget||(lazyget={}));var resources;!function(t){t.supportedLanguages=["en","es","it","pt","fr"]}(resources||(resources={}));var levels;!function(t){function e(){return LEVELS_CONFIG}t.getLevelsConfig=e;var n=function(){function t(){}return t.getMapIconName=function(t){return"Thumb_"+t.levelId},t.getGameScreenLayout=function(t){var e=resources.layouts["GameScreen_"+t.levelId];return e||(e=resources.layouts.GameScreen),e},t.getCustomSpriteSheetName=function(t){return t.customPuzzleElements?"spritesheet_"+t.levelId:null},t.getPuzzleElementPrefix=function(t){return t.customPuzzleElements?"Element_"+t.levelId+"_":"Element_"},t.getPuzzleElementLayoutPrefix=function(){return"ElementShape_"},t.getPuzzleLayout=function(t){var e="Layout_"+t.levelId;return resources.layouts[e]},t}();t.LevelUtils=n;var i=function(){function t(){}return t.getLevelLabelKey=function(t){return t.levelId+".label"},t.getLevelDescriptionKey=function(t){return t.levelId+".description"},t.getPageTitleKey=function(t){return t.setId+".title"},t}();t.MessageKeys=i}(levels||(levels={}));var resources;!function(t){function e(){var e=t.portalConfig.singleSoundExtension;e||(e="ogg");var n={path:"assets/sound/",manifest:[{id:"musicMenu",src:"music_menu."+e},{id:"musicGame",src:"music_game."+e},{id:"buttonPressed",src:"click."+e},{id:"mouseOver",src:"mouse_over."+e},{id:"levelComplete",src:"level_complete."+e},{id:"showPuzzle",src:"show_puzzle."+e},{id:"matchSuccessfull",src:"match_success."+e},{id:"mismatch",src:"mismatch."+e}]};return n}function n(n,r,s,a,o){h(),messages.initialize(window.LOCALIZED_MESSAGES,t.portalConfig.language||"en"),t.preloader.load("preloader",t.all,w),t.preloader.waitFor("preloader",function(){t.portalConfig.portal&&(t.portalConfig.portal.logo&&x.manifest.push({id:"sponsor_logo",src:t.portalConfig.portal.logo}),t.portalConfig.portal.splash&&x.manifest.push({id:"splash",src:t.portalConfig.portal.splash.img}),t.portalConfig.portal.sticker&&x.manifest.push({id:"sponsor_sticker",src:t.portalConfig.portal.sticker})),t.preloader.load("main",t.all,x),t.preloader.load("main",t.all,b);var h=e();t.preloader.load("main",t.sounds,h),t.getGameConfig().storageDataIds,E=new lazyget.easeljs.SmoothPreloaderScreen(250,new lazyget.easeljs.ProgressBarPreloader(n,{backgroundColor:utils.getPreloaderBgColor(),spritesheet:lazyget.easeljs.createSpriteSheet(spritesheets["preloader-spritesheet"],t.all),layout:screenLayouts.PreloaderScreen},a,o)),t.preloader.defaultPreloaderScreen=E,t.portalConfig.loadAllResourcesAtOnce&&i(),t.layouts=screenLayouts,t.preloader.waitFor("main",function(){t.preloader.defaultPreloaderScreen=new lazyget.easeljs.TextPreloaderScreen(n),t.portalConfig.loadAllResourcesAtOnce||i(),t.spritesheet=lazyget.easeljs.createSpriteSheet(spritesheets.spritesheet,t.all);var e=[];_.each(r,function(t){e.push({name:levels.LevelUtils.getMapIconName(t),layout:levels.LevelUtils.getPuzzleLayout(t),color:t.color})});var a=t.spritesheet,o={defaultColor:1096137,colorFilterLayouts:e,targetWidth:200,targetHeight:220};o.spritesheet=a,o.margin=2,colorizer.createSpriteSheetMini(o,function(e){t.mapCardsSpritesheet=e,s()})})})}function i(){var t=levels.getLevelsConfig();_.each(t,function(t){r(t)})}function r(t){var e=levels.LevelUtils.getCustomSpriteSheetName(t);e&&s(e)}function s(e,n){try{var i=a(e),r=e;t.portalConfig.loadAllResourcesAtOnce&&(r="main"),t.preloader.load(r,t.all,i)}catch(s){}}function a(t,e){var n=t+".png",i={path:e?e:S,manifest:[{id:n,src:n}]};return i}function o(){var e=t.get("title");return e}function h(){var e=t.getGameConfig().storageDataIds;t.savedGame={},_.each(e,function(e){t.savedGame[e]=storage.load(e)})}function c(e,n){t.savedGame[e]=n,storage.save(e,n)}function l(e){return t.all[e]}function u(e,n){n||(n=t.selectedLocale);var i=t.localizedResources[n],r=i[e];return r}function d(){return GLOBAL_GAME_CONFIG}function p(){return LOCALIZED_MESSAGES}function f(t){return GAME_LEVELS[t]}function g(){return GAME_LEVELS.length}function m(t){return messages.getMessage(t)}function v(e){return new createjs.Sprite(t.spritesheet,e)}function y(){return d().global.gameId}var S="assets/img/spritesheets/";t.preloader=new lazyget.preloadjs.Preloader,t.gameSpritesheets=[];var E=null,w={path:"assets/img/",manifest:[{id:"preloader-spritesheet",src:"spritesheets/preloader-spritesheet.png"}]},x={path:"assets/img/",manifest:[{id:"menuback",src:"menuback.jpg"},{id:"gameback",src:"gameback.jpg"}]},b={path:S,manifest:[{id:"spritesheet.png",src:"spritesheet.png"}]};t.all={},t.localizedResources={},t.sounds={},t.spritesheet=null,t.gameSpritesheet=null,t.mapCardsSpritesheet=null,t.urlParameters=new url.URLParameters(window.location.search),t.load=n,t.loadLevelSpriteSheets=i,t.loadLevelSpriteSheet=r,t.getGameTitle=o,t.updateStorageItem=c,t.get=l,t.getLocalized=u,t.getGameConfig=d,t.getLocalizedMessages=p,t.getGameLevel=f,t.getGameLevelCount=g,t.getMessage=m,t.createBitmapAnimation=v,t.getGameId=y}(resources||(resources={}));var controls;!function(t){function e(e,n,i){t.gameWidth=e,t.gameHeight=n,t.canvasWidth=t.gameWidth,t.canvasHeight=t.gameHeight,t.canvasScale=1,t.gameVerticalMargin=0,t.gameHorisontalMargin=0,t.badAndroidDevice=i}function n(t,e){void 0===e&&(e=!1),t.addEventListener("rollover",function(){e&&sound.playSound("mouseOver"),createjs.Tween.removeTweens(t),createjs.Tween.get(t).to({scaleX:1.1,scaleY:1.1},400,createjs.Ease.getBackOut(3))}),t.addEventListener("rollout",function(){createjs.Tween.removeTweens(t),createjs.Tween.get(t).to({scaleX:1,scaleY:1},400,createjs.Ease.quadIn)})}function i(t,e,n,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var s=new L(e,function(){n()},i,r);return t.addChild(s),s}function r(t){if(resources.portalConfig.portal&&resources.portalConfig.portal.moreGamesURL){var e=resources.portalConfig.portal.moreGamesURL,n=null;if(resources.portalConfig.portal.moreGamesButtonImage){var r=new Image;r.onload=function(){var t=r.height,e=r.width;s.regX=e/2,s.regY=t/2},r.src=resources.portalConfig.portal.moreGamesButtonImage;var s=new createjs.Bitmap(r);s.cursor="pointer",s.on("click",o(e)),s.name="MoreGamesButton",n=s,t.addChild(n)}else n=i(t,"MoreGamesButton",o(e));return n.scaleX=n.scaleY=resources.portalConfig.portal.moreGamesButtonScale||1,n}return null}function s(t){var e=resources.portalConfig.portal;if(!e||!resources.portalConfig.portal.logo)return null;var n=resources.get("sponsor_logo");if(!n)return null;var i=new createjs.Container,r=new createjs.Bitmap(n);return r.x=-n.width/2,r.y=-n.height/2,r.hitArea=new createjs.Shape((new createjs.Graphics).beginFill("#f00").drawRect(0,0,n.width,n.height)),r.cursor="pointer",i.addChild(r),i.name="SponsorLogo",e.logoURL&&i.addEventListener("click",o(e.logoURL)),t.addChild(i),i}function a(t){var e=resources.get("sponsor_sticker"),n=new createjs.Container,i=new createjs.Bitmap(e);return i.x=-e.width/2,i.y=-e.height/2,n.addChild(i),n.name="SponsorSticker",t.addChild(n),n}function o(t){return t?"function"==typeof t?t:function(){window.famobi.moreGamesLink()}:function(){}}function h(t,e,n){n||(n=resources.spritesheet);var i=new createjs.Sprite(n);return i.gotoAndStop(e),t&&t.addChild(i),i.name=e,i}function c(e){var n=new createjs.Container;return n.regX=n.x=t.canvasWidth/2-t.gameHorisontalMargin,n.regY=n.y=t.canvasHeight/2-t.gameVerticalMargin,e.addChild(n),n}function l(t,e){for(var n=0,i=t.numChildren;i>n;++n){var r=t.getChildAt(n);if(r.name){var s=e[r.name];s&&(r.x=Math.floor(s.x),r.y=Math.floor(s.y))}}}function u(e){var n=new createjs.Sprite(resources.spritesheet,e);return n.scaleX=t.canvasWidth/4,n.scaleY=t.canvasHeight/4,n.x=-t.gameHorisontalMargin,n.y=-t.gameVerticalMargin,n}function d(t,e){void 0===e&&(e=1);var n=function(){var n=createjs.Ticker.getTime(),i=Math.cos(n/600)+.8;0>i&&(i=0);var r=1+.02*(Math.sin(n/100)+1)*i;t.scaleX=t.scaleY=r*e};t.addEventListener("tick",n)}function p(t,e,n){void 0===n&&(n=0);var i=function(){var n=createjs.Ticker.getTime(),i=Math.cos(n/200),r=i;t.rotation=r*e};t.addEventListener("tick",i)}function f(t,e,n,i,r){var s=t.getChildByName(e);if(s){s.alpha=0;var a=s.y;i&&(s.y=i);var o=s.scaleY;if(s.scaleY=.5*o,s.scaleX=.5*o,createjs.Tween.get(s).wait(n).to({alpha:1},300),createjs.Tween.get(s).wait(n).to({y:a},1500,createjs.Ease.elasticOut),createjs.Tween.get(s).wait(n).to({scaleX:o,scaleY:o},1500,createjs.Ease.elasticOut),r){var h=t.getChildByName(r);h.alpha=0,createjs.Tween.get(h,{override:!0}).wait(n+500).to({alpha:1},500)}}}function _(e){var n=resources.portalConfig.portal;if(n&&n.splash){var i=new createjs.Shape,r=i.graphics;r.beginFill("#230037"),r.drawRect(-t.gameHorisontalMargin,-t.gameVerticalMargin,t.canvasScale,t.canvasHeight),r.endFill(),e.addChild(i);var s=new createjs.Bitmap(resources.get("splash"));e.addChild(s),s.alpha=0,createjs.Tween.get(s).to({alpha:1},300).wait(n.splash.timeMillis).to({alpha:0},500).call(function(){return e.removeChild(s)}),createjs.Tween.get(s).wait(300).call(function(){return e.removeChild(i)})}}function g(e,n){var i=new createjs.Shape,r=i.graphics;return r.beginFill(n),r.drawRect(-t.gameHorisontalMargin,-t.gameVerticalMargin,t.canvasWidth,t.canvasHeight),e.addChild(i),i}function m(t,e,n,i){void 0===i&&(i="");var r=new createjs.Text(i,n.style,n.color);return r.name=e,t.addChild(r),r}function v(t,e,n,i){void 0===i&&(i=0);var r=new A(i,n);return r.name=e,t&&t.addChild(r),r}function y(t,e,n,i){void 0===i&&(i="");var r=new createjs.BitmapText(i,resources.spritesheet);return r.name=e,r.letterSpacing=-4,r.spaceWidth=9,r.mouseEnabled=!1,t.addChild(r),r}function S(t,e){if(e){var n=t.parent;if(!n)return void e.addChild(t);n.removeChild(t);var i=n.localToGlobal(t.x,t.y),r=e.globalToLocal(i.x,i.y);t.x=r.x,t.y=r.y,e.addChild(t)}}function E(t,e){var n=new M(e);return t.addChild(n),n}function w(t,e,n){this.visible=!0;var i=(t.x,t.y);t.y=i-e,createjs.Tween.get(t).wait(n).to({y:i},2300,createjs.Ease.elasticOut)}function x(t){var e=t.getBounds();t.regX=e.width/2,t.regY=e.height/2}function b(t,e,n){void 0===n&&(n=0),createjs.Tween.get(this,{useTicks:!0}).wait(5).call(function(){T(t.children,e,n)})}function T(t,e,n){void 0===n&&(n=0),createjs.Tween.get(this,{useTicks:!0}).wait(5).call(function(){for(var i=t.length,r=0;i>r;r++){var s=t[r],a=s.y;s.y=a+(100*Math.random()-200);var o=e+r*n;createjs.Tween.get(s).wait(o).to({alpha:1,y:a},900,createjs.Ease.backOut)}})}function j(e,n,i,r){e&&(t.canvasWidth=n,t.canvasHeight=i,t.canvasScale=r,t.gameVerticalMargin=t.canvasWidth-t.gameHeight,t.gameHorisontalMargin=(t.canvasWidth-t.gameWidth)/2)}t.badAndroidDevice=!1,t.initialize=e,t.addMouseOverAnimation=n;var L=function(t){function e(e,n,i,r){var s=this;void 0===i&&(i=null),void 0===r&&(r=!1),t.call(this),this.buttonName=e,this.onClickHandler=n,this.silentButton=r,this.icon=new createjs.Sprite(i?i:resources.spritesheet),this.icon.gotoAndStop(e),this.addChild(this.icon),this.mouseEnabled=!0,this.name=e,this.cursor="pointer",this.on("mousedown",function(){return s.handleMouseDown()}),this.on("click",function(){return s.handleMouseClick()}),this.on("pressup",function(){return s.handleMouseUp()}),this.addEventListener("rollover",function(){s.handleMouseOver()}),this.addEventListener("rollout",function(){s.handleMouseOut()})}return __extends(e,t),e.prototype.handleMouseDown=function(){createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({scaleX:1.1,scaleY:1.1},300,createjs.Ease.quadIn)},e.prototype.handleMouseOver=function(){this.silentButton||sound.playSound("mouseOver"),createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({scaleX:1.1,scaleY:1.1},400,createjs.Ease.getBackOut(3))},e.prototype.handleMouseOut=function(){createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({scaleX:1,scaleY:1},400,createjs.Ease.quadIn)},e.prototype.handleMouseUp=function(){createjs.Tween.removeTweens(this),this.scaleX=this.scaleY=1},e.prototype.handleMouseClick=function(){this.silentButton||sound.playSound("buttonPressed"),this.onClickHandler&&this.onClickHandler()},e.prototype.setAnimation=function(t){this.icon.gotoAndStop(t),this.buttonName=t},e}(createjs.Container);t.IconButton=L;var P=function(){function t(t){this.iconButton=t,this.lockOverlayIcon=new createjs.Sprite(resources.spritesheet),this.lockOverlayIcon.gotoAndStop(t.buttonName);var e=(new createjs.ColorMatrix).adjustSaturation(-255);this.lockOverlayIcon.filters=[new createjs.ColorMatrixFilter(e)];var n=this.lockOverlayIcon.getBounds();this.lockOverlayIcon.cache(n.x,n.y,n.width,n.height),this.iconButton.addChild(this.lockOverlayIcon)}return t.prototype.lock=function(t){this.lockOverlayIcon.visible=t,this.iconButton.icon.visible=!t},t}();t.IconButtonLocker=P;var C=function(t){function e(e,n,i){var r=this;t.call(this),this.buttonNameOn=e,this.buttonNameOff=n,this.onClick=i,this.innerContent=new createjs.Sprite(resources.spritesheet),this.addChild(this.innerContent),this.cursor="pointer",this.setChecked(!1),i&&this.addOnClickHandler(),this.addEventListener("mousedown",function(){return r.handleMouseDown()}),this.addEventListener("pressup",function(){return r.handleMouseUp()}),this.mouseChildren=!1}return __extends(e,t),e.prototype.addOnClickHandler=function(){var t=this;this.addEventListener("click",function(){t.onClick(),t.removeAllEventListeners("click"),setTimeout(function(){return t.addOnClickHandler()},100)})},e.prototype.setChecked=function(t){this.innerContent.gotoAndStop(t?this.buttonNameOn:this.buttonNameOff)},e.prototype.handleMouseDown=function(){createjs.Tween.removeTweens(this.innerContent),createjs.Tween.get(this.innerContent).to({scaleX:1.1,scaleY:1.1},300,createjs.Ease.quadIn)},e.prototype.handleMouseUp=function(){createjs.Tween.removeTweens(this.innerContent),this.innerContent.scaleX=this.innerContent.scaleY=1},e}(createjs.Container);t.CheckIconButton=C,t.createIconButton=i,t.createMoreGamesButton=r,t.createSponsorLogo=s,t.createSponsorSticker=a,t.getClickActionFunction=o,t.createStaticImage=h,t.createFullScreenContainer=c,t.readLayout=l,t.getFullScreenWipeImage=u,t.addDefaultButtonAnimation=d,t.rotationAnimation=p,t.bounceButton=f,t.showSplashScreen=_,t.createSolidRect=g,t.createText=m,t.createNumberTextField=v,t.createBitmapText=y;var A=function(t){function e(e,n){t.call(this,""+Math.floor(e),n.style,n.color),this.previousNumberValue=e,this.numberValue=e}return __extends(e,t),e.prototype.draw=function(e,n){return this.numberValue!=this.previousNumberValue&&(this.text=""+Math.floor(this.numberValue),this.previousNumberValue=this.numberValue),t.prototype.draw.call(this,e,n)},e}(createjs.Text);t.NumberTextField=A,t.moveSpriteWithPosition=S,t.createGameShopButton=E;var M=function(e){function n(n){var i=this;e.call(this),this.starText=null,this.starCount=0,this.innerButton=null,this.shopStarCounter=null,this.animated=!1,this.name="MapGameShopButton",this.innerButton=t.createIconButton(this,"MapGameShopButton",n),this.shopStarCounter=t.createStaticImage(this,"ShopStarCounter"),this.shopStarCounter.x=0,this.shopStarCounter.y=45,this.shopStarCounter.scaleX=this.shopStarCounter.scaleY=.7,this.starText=t.createText(this,"StarCount",resources.getGameConfig().powerups.style.gameShopButtonStarCount),this.starText.x=0,this.starText.y=28,this.addEventListener("tick",function(){return i.animate()})}return __extends(n,e),n.prototype.animate=function(){if(!this.animated)return this.shopStarCounter.scaleX=this.shopStarCounter.scaleY=.7,this.innerButton.scaleX=this.innerButton.scaleY=1,void(this.innerButton.rotation=0);var t=createjs.Ticker.getTime(),e=Math.cos(t/600)+1,n=1+.03*(Math.sin(t/50)+1)*e,i=10*Math.sin(t/100);this.innerButton.scaleX=this.innerButton.scaleY=n,this.innerButton.rotation=i},n.prototype.setStarCount=function(t){this.starCount=t,this.refresh()},n.prototype.refresh=function(){this.starText.text=""+this.starCount},n}(createjs.Container);t.GameShopButton=M,t.jumpIn=w,t.center=x;var I=function(){function t(t,e,n,i,r){this.displayObject=t,this.frequencyRatio=e,this.phaseShifting=n,this.amplitudaX=i,this.amplitudaY=r,this.alpha=0,this.time=0,this.alpha=10*(3.14/180),this.initialPositionX=this.displayObject.x,this.initialPositionY=this.displayObject.y,this.calcCurrentPosition(0,!0)}return t.prototype.calcCurrentPosition=function(t,e){var n=this.amplitudaX*Math.sin(this.alpha*t+this.phaseShifting),i=this.amplitudaY*Math.sin(this.alpha*this.frequencyRatio*t);e&&(this.initialPositionX-=n,this.initialPositionY-=i),this.displayObject.x=this.initialPositionX+n,this.displayObject.y=this.initialPositionY+i},t.prototype.updatePosition=function(){this.time+=.1,this.calcCurrentPosition(this.time,!1)},t}();t.LissajousCurvePath=I,t.makeKidsVisibleWithVerticalBounce=b,t.makeObjectsVisibleWithVerticalBounce=T;var O=function(t){function e(e,n){var i=this;t.call(this),this.buttonName=e,this.onClick=n,this.innerContent=new createjs.Sprite(resources.spritesheet),this.innerContent.gotoAndStop(e),this.mouseChildren=!1,this.name=e,this.cursor="pointer",this.setChecked(!1),this.addChild(this.innerContent),n&&this.addOnClickHandler(),this.addEventListener("mousedown",function(){return i.handleMouseDown()}),this.addEventListener("pressup",function(){return i.handleMouseUp()})}return __extends(e,t),e.prototype.addOnClickHandler=function(){var t=this;this.addEventListener("click",function(){t.onClick(),t.removeAllEventListeners("click"),setTimeout(function(){return t.addOnClickHandler()},100)})},e.prototype.setChecked=function(t){t?(createjs.Tween.removeTweens(this.innerContent),createjs.Tween.get(this.innerContent).to({scaleX:1.2,scaleY:1.2},300,createjs.Ease.quadIn)):(createjs.Tween.removeTweens(this.innerContent),this.innerContent.scaleX=this.innerContent.scaleY=1)},e.prototype.handleMouseDown=function(){},e.prototype.handleMouseUp=function(){},e}(createjs.Container);t.LanguageCheckIconButton=O,t.recomputeGameContainerOffset=j}(controls||(controls={}));var rscale;!function(t){function e(t,e,i){var r=e.width/t.width,s=e.height/t.height;if(i==n.cover)var a=r>s?r:s;else var a=s>r?r:s;var o=a*t.width,h=a*t.height,c=(e.width-o)/2,l=(e.height-h)/2,u=c+e.x,d=l+e.y;return{fromRectangle:{x:t.x,y:t.y,width:t.width,height:t.height},toRectangle:{x:e.x,y:e.y,width:e.width,height:e.height},transformedFromRectangle:{x:u,y:d,width:o,height:h},offsetX:u-t.x,offsetY:d-t.y,scaleX:a,scaleY:a}}!function(t){t[t.fit=0]="fit",t[t.cover=1]="cover"}(t.ScaleMode||(t.ScaleMode={}));var n=t.ScaleMode;!function(t){t[t.left=0]="left",t[t.middle=1]="middle",t[t.right=2]="right"}(t.HorizontalAlignment||(t.HorizontalAlignment={})),t.HorizontalAlignment,!function(t){t[t.top=0]="top",t[t.center=1]="center",t[t.bottom=2]="bottom"}(t.VerticalAlignment||(t.VerticalAlignment={})),t.VerticalAlignment,t.createTransformation=e}(rscale||(rscale={}));var wraphtml;!function(t){var e=function(){function t(t,e,n,i,r,s,a){var o=this;void 0===s&&(s=!0),this.stage=t,this.gameWidth=e,this.gameHeight=n,this.maxWidth=i,this.maxHeight=r,this.autoSize=s,this.onResize=a,this.resizeHandler=function(){o.resize(window.innerWidth,window.innerHeight)},this.autoSize&&(this.enableAutoSize(!0),this.resizeHandler())}return t.prototype.enableAutoSize=function(t){t?viewporter&&viewporter.ACTIVE?(window.addEventListener("viewportready",this.resizeHandler,!1),window.addEventListener("viewportchange",this.resizeHandler,!1),window.addEventListener("resize",this.resizeHandler,!1)):setInterval(this.resizeHandler,200):window.removeEventListener("resize",this.resizeHandler)},t.prototype.resize=function(t,e){if(this.previousWidth!==t||this.previousHeight!==e){this.previousWidth=t,this.previousHeight=e;var n=this.stage.canvas,i=rscale.createTransformation({x:0,y:0,width:t,height:e},{x:0,y:0,width:this.gameWidth,height:this.gameHeight},rscale.ScaleMode.cover).transformedFromRectangle,r={x:0,y:0,width:i.width<this.maxWidth?i.width:this.maxWidth,height:i.height<this.maxHeight?i.height:this.maxHeight};n.width=r.width,n.height=r.height;var s=rscale.createTransformation(r,{x:0,y:0,width:t,height:e},rscale.ScaleMode.fit),a=s.transformedFromRectangle,o=n.parentElement,h=a.width+"px",c=a.height+"px";o.style.width=h,o.style.height=c,n.style.width=h,n.style.height=c,o.style.left=a.x+"px",o.style.top=e-a.height+"px";var l=rscale.createTransformation({x:0,y:0,width:this.gameWidth,height:this.gameHeight},r,rscale.ScaleMode.fit).transformedFromRectangle;this.stage.x=l.x,this.stage.y=r.height-l.height,this.currentCanvasWidth=r.width,this.currentCanvasHeight=r.height,this.currentCanvasScale=s.scaleX,this.onResize&&this.onResize(this.stage.x,this.stage.y,this.currentCanvasWidth,this.currentCanvasHeight,this.currentCanvasScale),setTimeout(function(){window.scrollTo(0,0)},10)}},t}();t.Stage=e}(wraphtml||(wraphtml={}));var soundControls;!function(t){function e(t,e){var n=new r;return n.name=e,t.addChild(n),n}function n(t,e){var n=new s;return n.name=e,t.addChild(n),n}function i(t,e){var n=new a;return n.name=e,t.addChild(n),n}t.soundFXOnButtonName="SoundFXButtonOn",t.soundFXOffButtonName="SoundFXButtonOff",t.musicOnButtonName="MusicButtonOn",t.musicOffButtonName="MusicButtonOff",t.muteOnButtonName="MuteButtonOn",t.muteOffButtonName="MuteButtonOff";var r=function(e){function n(){var n=this;e.call(this,t.soundFXOnButtonName,t.soundFXOffButtonName,function(){return n.toggleSound()}),sound.settings.addEventListener("change",function(){
return n.refreshSoundSettings()}),this.refreshSoundSettings(),controls.addDefaultButtonAnimation(this)}return __extends(n,e),n.prototype.toggleSound=function(){sound.settings.setSoundFX(!sound.settings.getSoundFX())},n.prototype.refreshSoundSettings=function(){this.setChecked(sound.settings.getSoundFX()),this.visible=sound.soundFXSupported},n}(controls.CheckIconButton),s=function(e){function n(){var n=this;e.call(this,t.musicOnButtonName,t.musicOffButtonName,function(){return n.toggleSound()}),sound.settings.addEventListener("change",function(){return n.refreshSoundSettings()}),this.refreshSoundSettings(),controls.addMouseOverAnimation(this,!0)}return __extends(n,e),n.prototype.toggleSound=function(){sound.settings.setMusic(!sound.settings.getMusic())},n.prototype.refreshSoundSettings=function(){this.setChecked(sound.settings.getMusic()),this.visible=sound.musicSupported},n}(controls.CheckIconButton),a=function(e){function n(){var n=this;e.call(this,t.muteOnButtonName,t.muteOffButtonName,function(){return n.toggleSound()}),sound.settings.addEventListener("change",function(){return n.refreshSoundSettings()}),this.refreshSoundSettings(),controls.addMouseOverAnimation(this,!0)}return __extends(n,e),n.prototype.toggleSound=function(){sound.settings.setSoundFX(!sound.settings.getSoundFX()),sound.settings.setMusic(!sound.settings.getMusic())},n.prototype.refreshSoundSettings=function(){this.setChecked(sound.settings.getSoundFX()),this.setChecked(sound.settings.getMusic()),this.visible=sound.soundFXSupported||sound.musicSupported},n}(controls.CheckIconButton);t.createSoundFXButton=e,t.createMusicButton=n,t.createMuteButton=i}(soundControls||(soundControls={}));var createjs;!function(t){function e(e){t.Ticker.on("tick",e,void 0,!0)}function n(t){t&&t.parent&&t.parent.removeChild(t)}function i(t){var e=t.parent;return e}function r(t){var e=i(t);e&&(e.removeChild(t),e.addChild(t))}t.onNextTick=e;var s=function(){function t(t){this.target=t,this.events={}}return t.prototype.addEventListener=function(t,e){this.target.addEventListener(t,e),this.events[t]=e},t.prototype.removeAllEventListeners=function(){for(var t in this.events){var e=this.events[t];this.target.removeEventListener(t,e)}},t}();t.EventProxy=s,t.removeDisplayObject=n,t.getParentContainer=i,t.moveToTop=r}(createjs||(createjs={}));var pause;!function(t){function e(){return null!=a}function n(t,e){s=t,o=e}function i(){a||(a=new h,s.addChild(a),o.pauseGame())}function r(){a&&(s.removeChild(a),a=null,o.resumeGame())}var s,a,o;t.isPaused=e,t.initialize=n,t.pauseGame=i,t.continueGame=r;var h=function(t){function e(){var e=this;t.call(this);var n=controls.getFullScreenWipeImage("BlackRect");this.addChild(n),n.alpha=.8;var i=(resources.get("full_screen_panel"),new createjs.Bitmap(resources.get("full_screen_panel")));i.name="PanelBackground",this.addChild(i),controls.createStaticImage(this,"PauseTitle"),controls.createSponsorLogo(this);var s=controls.createIconButton(this,"PlayButton",r);controls.addDefaultButtonAnimation(s),controls.createIconButton(this,"RestartButton",function(){r(),o.restartGame()}),controls.createIconButton(this,"QuitButton",function(){r(),o.quitGame()}),resources.portalConfig.hideMuteButton||soundControls.createMuteButton(this,"MuteButton"),controls.readLayout(this,resources.layouts.GamePauseScreen),createjs.onNextTick(function(){controls.bounceButton(e,"ResumeButton",0,500),controls.bounceButton(e,"QuitButton",100,700),controls.bounceButton(e,"RestartButton",200,700),controls.bounceButton(e,"MuteButton",400,0),controls.bounceButton(e,"MusicButton",500,0)})}return __extends(e,t),e}(createjs.Container)}(pause||(pause={}));var transitionfx;!function(t){function e(t,e,n){var i=s(n),h=i.out,c=i["in"];o=t.autoClear,createjs.onNextTick(function(){r(t,h,function(){e(),a&&(t.removeChild(a),t.addChild(a)),createjs.onNextTick(function(){r(t,c,function(){t.autoClear=o})})})})}function n(t,e,n){a=controls.getFullScreenWipeImage("TransitionRect"),a.addEventListener("mousedown",_.noop),a.alpha=.01,t.addChild(a),createjs.onNextTick(function(){utils.setTransitionBgColor(),createjs.Tween.get(a).to({alpha:1},e.duration,createjs.Ease.quadOut).call(n)})}function i(t,e,n){a&&createjs.Tween.get(a).to({alpha:0},e.duration,createjs.Ease.quadIn).call(function(){a&&a.parent&&a.parent.removeChild(a),a=null,n()})}function r(e,n,i){if(!n)return void i();var r=t[n.type];return r?void r(e,n,i):void i()}function s(t){var e=resources.getGameConfig().transitions,n=e[t]||e.standard;return n}t.start=e;var a=null;t.fadeOut=n,t.fadeIn=i;var o}(transitionfx||(transitionfx={}));var uiComponents;!function(t){var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.draw=function(t){var e=this.children,n=e.length;if(0!=n){t.save();for(var i=(this._matrix,this.alpha),r=this.stage,s=r?r.x+this.x:0,a=r?r.y+this.y:0,o=0;n>o;++o){var h=e[o];if(h.isVisible()){var c=h._matrix.identity().appendTransform(h.x+s,h.y+a,h.scaleX,h.scaleY,h.rotation,h.skewX,h.skewY,h.regX,h.regY);t.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),t.globalAlpha=i*h.alpha,h.draw(t)}}return t.restore(),!0}},e}(createjs.Container);t.FastContainer=e;var n=function(t){function e(e){t.call(this);var n=resources.spritesheet.getAnimation(e),i=resources.spritesheet.getFrame(n.frames[0]),r=e+"Back",s=resources.spritesheet.getAnimation(r);if(s){var a=new createjs.Sprite(resources.spritesheet);a.gotoAndStop(r),this.addChild(a)}var o=new createjs.Bitmap(i.image);o.sourceRect=i.rect.clone(),o.regX=i.regX,o.regY=i.regY,this.addChild(o),this.progressImage=o,this.originalWidth=i.rect.width}return __extends(e,t),e.prototype.setProgress=function(t){0>t&&(t=0),t>1&&(t=1),this.progress=t;var e=Math.floor(this.originalWidth*t);e>0?(this.progressImage.sourceRect.width=e,this.progressImage.visible=!0):this.progressImage.visible=!1},e}(createjs.Container);t.ProgressBarBitmap=n;var i=function(){function e(){}return e.init=function(t,e,n){return n},e.step=function(){},e.install=function(){createjs.Tween.installPlugin(t.BezierPlugin,["bezier"])},e.tween=function(t,e,n,i,r,s,a){if(a)return createjs.Tween.IGNORE;var o=t.target,h=i;h.x||(h.x=o.x,h.y=o.y);var c=s,l=r[e],u=1-c,d=u*u,p=c*c;return o.x=d*h.x+2*u*c*l.controlX+p*l.x,o.y=d*h.y+2*u*c*l.controlY+p*l.y,createjs.Tween.IGNORE},e}();t.BezierPlugin=i;var r=function(){function t(e,n){void 0===e&&(e=t.STATIC_ALIGNMENT),void 0===n&&(n=t.VALIGN_BOTTOM),this.gameContainerAlign=e,this.gameContainerValign=n,this.displayObjects=[],this.initialObjectSettings=[]}return t.prototype.registerObject=function(e,n){this.displayObjects.push(e);var i=new createjs.Point(e.x,e.y),r={position:i,align:n&&n.align||t.STATIC_ALIGNMENT,valign:n&&n.valign||t.STATIC_ALIGNMENT,horizontalMargin:n&&n.horizontalMargin||0,verticalMargin:n&&n.verticalMargin||0};this.initialObjectSettings.push(r)},t.prototype.clear=function(){this.displayObjects.length=0,this.initialObjectSettings.length=0},t.prototype.resize=function(e,n,i,r){for(var s=controls.gameWidth,a=controls.gameHeight,o=i,h=r,c=0;c<this.displayObjects.length;++c){var l=this.initialObjectSettings[c],u=l.position,d=this.displayObjects[c];if(d.resize&&d.resize(e,n,i,r),t.ALIGN_LEFT&l.align)d.x=Math.floor(u.x-e);else if(t.ALIGN_RIGHT&l.align){var p=s-u.x;d.x=Math.floor(o-p-e)}if(t.VALIGN_TOP&l.valign){var f=u.y;d.y=Math.floor(f-n)}else if(t.VALIGN_BOTTOM&l.valign){var _=a-u.y;d.y=Math.floor(h-_-n)}else d.y=Math.floor((h-a)/2+u.y-n)}},t.prototype.updateInitialPositions=function(){for(var t=0;t<this.displayObjects.length;++t){var e=this.initialObjectSettings[t],n=this.displayObjects[t];e.position=new createjs.Point(n.x,n.y)}},t.ALIGN_LEFT=1,t.ALIGN_RIGHT=16,t.VALIGN_TOP=1,t.VALIGN_BOTTOM=16,t.STATIC_ALIGNMENT=256,t}();t.StretchUIObjects=r;var s=function(){function t(){}return t.createTextField=function(t,e,n){var i=new createjs.Text("",t.style,t.color),r=t.shadow;return r&&(i.shadow=new createjs.Shadow(r.color,r.offsetX,r.offsetY,r.blur)),i.x=e||controls.gameWidth/2,i.lineWidth=n||250,i.textAlign=t.align?t.align:"center",i},t.setUpTextMessage=function(t,e,n,i,r){void 0===r&&(r=!0),t.x=e,t.y=n;var s=resources.getMessage(i);r&&(s=s.toUpperCase()),t.text=s;var a=t.getMeasuredWidth()+6,o=t.getMeasuredHeight()+8;"left"===t.textAlign?t.cache(0,0,a,o,2):"right"===t.textAlign?t.cache(-a,0,a,o,2):t.cache(-a/2,0,a,o,2)},t}();t.TextUtils=s;var a=function(t){function e(e,n,i,r){void 0===n&&(n=!1),t.call(this),this.forbidScaling=n,this.imageWidth=0,this.imageHeight=0,this.bitmap=null;var s=resources.get(e),a=new createjs.Bitmap(s),o=s.width,h=s.height;a.regX=o/2,a.regY=h/2,this.y=controls.gameHeight/2,this.x=controls.gameWidth/2,this.imageWidth=o,this.imageHeight=h,this.bitmap=a,this.resize(0,0,i,r),this.addChild(a)}return __extends(e,t),e.createBackgroundBitmap=function(t,n,i,s,a,o){void 0===s&&(s=!1),void 0===a&&(a=null),void 0===o&&(o=!1);var h=new e(n,s,controls.canvasWidth,controls.canvasHeight);return t.addChild(h),a==r.VALIGN_BOTTOM&&(h.bitmap.regY=h.imageHeight,h.y=controls.gameHeight),i.registerObject(h,{valign:a||r.STATIC_ALIGNMENT}),h.mouseEnabled=o,h},e.prototype.resize=function(t,e,n,i){if(this.forbidScaling)controls.gameHeight>this.imageHeight;else if(n>this.imageWidth||i>this.imageHeight){var r=Math.max(n/this.imageWidth,i/this.imageHeight);this.bitmap.scaleX=this.bitmap.scaleY=r}},e}(createjs.Container);t.BackgroundBitmap=a;var o=function(e){function n(n){void 0===n&&(n=r.VALIGN_BOTTOM),e.call(this),this.stretchUIButtons=new t.StretchUIObjects}return __extends(n,e),n.prototype.clear=function(){this.stretchUIButtons.clear()},n.prototype.resize=function(t,e,n,i){this.stretchUIButtons.resize(t,e,n,i)},n}(createjs.Container);t.StretchContainer=o}(uiComponents||(uiComponents={}));var ui;!function(t){var e=function(t){function e(e){var n=this;t.call(this),this.layout=e;var i=controls.createIconButton(this,"BackButton",function(){window.famobi.showAd(function(){return n.onQuit()})});this.stretchUIButtons.registerObject(i,{align:uiComponents.StretchUIObjects.ALIGN_RIGHT,valign:uiComponents.StretchUIObjects.VALIGN_TOP}),this.addButtons(),controls.readLayout(this,this.layout),this.stretchUIButtons.updateInitialPositions()}return __extends(e,t),e.prototype.addButtons=function(){},e.prototype.onQuit=function(){},e.prototype.startBounceInAnimation=function(t,e,n,i){this.resize(t,e,n,i),_.each(this.children,function(){})},e.prototype.clear=function(){_.each(this.children,function(t){t.removeAllEventListeners()}),this.removeAllChildren()},e}(uiComponents.StretchContainer);t.BaseHud=e;var n=function(t){function e(){t.call(this,resources.layouts.HudLayout)}return __extends(e,t),e.prototype.addButtons=function(){if(!resources.portalConfig.hideMuteButton){var t=soundControls.createMuteButton(this,"MuteButton");this.stretchUIButtons.registerObject(t,{align:uiComponents.StretchUIObjects.ALIGN_RIGHT,valign:uiComponents.StretchUIObjects.VALIGN_TOP})}},e}(e);t.Hud=n;var i=function(t){function e(){t.call(this,resources.layouts.GameHudLayout)}return __extends(e,t),e.prototype.onLearn=function(){},e.prototype.onNext=function(){},e.prototype.addButtons=function(){var t=this,e=controls.createIconButton(this,"NextButton",function(){window.famobi.showAd(function(){return t.onNext()})});e.visible=!1,this.nextButton=e},e.prototype.showNextButton=function(){this.nextButton.visible||(this.nextButton.alpha=0,this.nextButton.visible=!0,controls.addDefaultButtonAnimation(this.nextButton),controls.bounceButton(this,this.nextButton.name,0))},e.prototype.hideNextButton=function(){var t=this;this.nextButton.visible&&(this.nextButton.visible=!1,createjs.Tween.get(this.nextButton).to({alpha:0},200,createjs.Ease.elasticOut).call(function(){return t.nextButton.visible=!1}))},e}(e);t.GameHud=i}(ui||(ui={}));var scroller;!function(t){var e=function(){function t(t,e,n,i,r,s,a){this.content=t,this.contentWidth=e,this.contentHeight=n,this.clientWidth=i,this.clientHeight=r,this.onScrollingComplete=s,this.onScrollingInProgress=a,this.scrollingInProgress=!1}return t.prototype.startScroll=function(t,e){var n=this;if(!this.scroller){var i=this.content.stage;if(this.stageEventProxy=new createjs.EventProxy(i),!i)throw new Error("Scroller content object has to be added to the stage before use!");this.stage=i,this.scroller=new Scroller(function(t,e,i){return n.onScrollTo(t,e,i)},{scrollingY:!1,scrollingX:!0,zooming:!1,bouncing:!0,paging:!0,scrollingComplete:function(){if(n.scroller){var t=n.scroller.getValues();n.scrollingInProgress=!1,n.onScrollingComplete(t.left,t.top)}}}),this.mouseDown=!1,this.scroller.setDimensions(this.clientWidth,this.clientHeight,this.contentWidth,this.contentHeight),this.stageEventProxy.addEventListener("stagemousedown",function(t){return n.handleMouseDown(t)}),this.stageEventProxy.addEventListener("stagemouseup",function(t){return n.handleMouseUp(t)}),this.stageEventProxy.addEventListener("stagemousemove",function(t){return n.handleMouseMove(t)}),this.scroller.scrollTo(t,e)}},t.prototype.scrollTo=function(t,e,n){this.scroller&&this.scroller.scrollTo(t,e,n)},t.prototype.endScroll=function(){this.scroller&&(this.stageEventProxy.removeAllEventListeners(),this.scroller=null,this.stage=null,this.stageEventProxy=null)},t.prototype.onScrollTo=function(t,e){this.content.x=-t,this.content.y=-e,this.onScrollingInProgress(t,e)},t.prototype.handleMouseDown=function(t){this.mouseDown||(t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault(),this.scroller.doTouchStart([{pageX:t.stageX,pageY:t.stageY}],t.nativeEvent.timeStamp),this.mouseDown=!0)},t.prototype.handleMouseUp=function(t){if(this.mouseDown){var e=t.nativeEvent.timeStamp;t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault(),this.scroller.doTouchEnd(e),this.mouseDown=!1}},t.prototype.handleMouseMove=function(t){this.mouseDown&&(t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault(),this.scroller.doTouchMove([{pageX:t.stageX,pageY:t.stageY}],t.nativeEvent.timeStamp))},t}();t.DisplayObjectPageScroller=e;var n=function(t){function e(e,n){var i=this;t.call(this),this.content=e,this.settings=n,this.addChild(e),this.scroller=null,this.contentWidth=n.contentWidth,this.contentHeight=n.contentHeight,this.clientWidth=n.clientWidth,this.clientHeight=n.clientHeight,this.updateHitArea(),this.scroller.setDimensions(this.clientWidth,this.clientHeight,this.contentWidth,this.contentHeight),this.addEventListener("mousedown",function(t){return i.handleMouseDown(t)}),this.addEventListener("pressmove",function(t){return i.handleMouseMove(t)}),this.addEventListener("pressup",function(t){return i.handleMouseUp(t)}),this.mouseChildren=!0}return __extends(e,t),e.prototype.setClientDimensions=function(t,e){this.clientWidth=t,this.clientHeight=e,this.updateHitArea(),this.scroller.setDimensions(this.clientWidth,this.clientHeight,this.contentWidth,this.contentHeight)},e.prototype.setContentDimensions=function(t,e){this.contentWidth=t,this.contentHeight=e,this.scroller.setDimensions(this.clientWidth,this.clientHeight,this.contentWidth,this.contentHeight)},e.prototype.updateHitArea=function(){},e.prototype.onScrollTo=function(t,e){this.content.x=-t,this.content.y=-e},e.prototype.handleMouseDown=function(t){if(!this.mouseDown){var e=this.globalToLocal(t.rawX,t.rawY);t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault(),this.scroller.doTouchStart([{pageX:e.x,pageY:e.y}],t.nativeEvent.timeStamp),this.mouseDown=!0,this.isActiveScrolling=!1,this.moveTouchPoint=e}},e.prototype.handleMouseUp=function(t){if(this.mouseDown){t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault();var e=t.nativeEvent.timeStamp;this.scroller.doTouchEnd(e),this.mouseDown=!1,this.isActiveScrolling=!1}},e.prototype.handleMouseMove=function(t){if(this.mouseDown){t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault();var e=this.globalToLocal(t.rawX,t.rawY);this.scroller.doTouchMove([{pageX:e.x,pageY:e.y}],t.nativeEvent.timeStamp)}},e}(createjs.Container);t.ScrollableContainer=n}(scroller||(scroller={}));var ui;!function(t){var e=function(){function t(){this.pages=null}return t.prototype.setItemsPerPage=function(t){this.itemsPerPage=t,this.pages={}},t.prototype.setMapSpritesheet=function(t){this.mapSpritesheet=t},t.prototype.addThumbButton=function(t,e){var r=t.setId,s=(t.levelId,levels.LevelUtils.getMapIconName(t));if(!this.itemsPerPage)throw new Error("itemsPerPage has to be initialized");if(!this.mapSpritesheet)throw new Error("mapSpritesheet has to be initialized");if(!this.pages[r]){var a=new Array(this.itemsPerPage);_.fill(a,null),this.pages[r]=a}var o=this.pages[r],h=_.findLastIndex(o,function(t){return null!=t})+1,c=n.thumbLayoutPrefix+r+"_"+(h+1),l=new i(this.mapSpritesheet,s,e,"MapCardBack",t);l.name=c,o[h]=l},t.prototype.build=function(t,e,i){if(!this.pages)throw new Error("ThumbnailsMap with empty pages can't be created");return new n(this.itemsPerPage,this.pages,t,e,i)},t}();t.ThumbnailsMapBuilder=e;var n=function(e){function n(i,r,s,a,o){var h=this;e.call(this),this.itemsPerPageCount=i,this.onLevelButtonClick=s,this.onLearnButtonClick=a,this.onQuit=o,this.pageIndicatorContainer=new createjs.Container,this.firstPageIndicatorX=0,this.firstPageIndicatorY=0,this.pageIndicatorDistance=0,this.hud=new t.Hud,this.currentPage=0,this.layout=null,uiComponents.BackgroundBitmap.createBackgroundBitmap(this,"gameback",this.stretchUIButtons,!1,uiComponents.StretchUIObjects.VALIGN_BOTTOM),this.layout=resources.layouts.MapScreen,this.setupPageRecangle(this.itemsPerPageCount),this.pageCount=_.size(r);var c=new createjs.Container;this.addChild(c),this.map=new createjs.Container,c.addChild(this.map),this.stretchUIButtons.registerObject(c);var l=new createjs.Shape;l.graphics.clear().beginFill("#FFFFFF").drawRect(this.pageX+n.pageHorizontalMargin-30,0,this.pageWidth-2*n.pageHorizontalMargin+60,this.pageHeight+this.pageY),this.map.mask=l,this.scrollableContent=new createjs.Container,this.map.addChild(this.scrollableContent),c.addChild(this.pageIndicatorContainer),this.nextPageButton=controls.createIconButton(this.pageIndicatorContainer,"NextPageButton",function(){return h.onNextPage()}),this.backPageButton=controls.createIconButton(this.pageIndicatorContainer,"BackPageButton",function(){return h.onBackPage()}),this.currentPageIndicator=controls.createStaticImage(this.pageIndicatorContainer,"PageIndicatorActive"),this.currentPageIndicator.visible=!1,this.currentPageIndicator.mouseEnabled=!1;var u=30,d=20;this.pageIndicatorDistance=u+d;var p=this.layout.PageIndicatorCenter;this.firstPageIndicatorX=p.x-this.pageIndicatorDistance*(this.pageCount-1)/2,this.firstPageIndicatorY=p.y,_.times(this.pageCount,function(t){h.createPassivePageIndicator(t)}),createjs.moveToTop(this.currentPageIndicator),this.scrollToPageIndicator=controls.createStaticImage(this.pageIndicatorContainer,"PageIndicatorActive"),this.scrollToPageIndicator.visible=!1,this.scrollToPageIndicator.mouseEnabled=!1,this.setupScrollableContent(r),this.addChild(this.hud),this.hud.name="Hud",this.hud.onQuit=function(){h.quitLevelMap()},controls.readLayout(c,this.layout),controls.readLayout(this.pageIndicatorContainer,this.layout)}return __extends(n,e),n.prototype.unlockButton=function(t){for(var e=0,r=this.scrollableContent.numChildren;r>e;++e){var s=this.scrollableContent.getChildAt(e);if(s instanceof i){var a=s;a.buttonName===n.LEVEL_BUTTON_PREFIX+t&&a.unlock()}}},n.prototype.resize=function(t,n,i,r){e.prototype.resize.call(this,t,n,i,r),this.hud.resize(t,n,i,r)},n.prototype.createPassivePageIndicator=function(t){var e=controls.createStaticImage(this.pageIndicatorContainer,"PageIndicatorPassive");e.visible=!0,e.x=this.getIndicatorX(t),e.y=this.firstPageIndicatorY},n.prototype.getIndicatorX=function(t){return this.firstPageIndicatorX+this.pageIndicatorDistance*t},n.prototype.onBackPage=function(){this.currentPage>0&&this.scrollTo(this.currentPage-1)},n.prototype.onNextPage=function(){this.currentPage<this.pageCount-1&&this.scrollTo(this.currentPage+1)},n.prototype.createPageSetTitle=function(t,e){var n=resources.getGameConfig().style,i=this.getPageLeft(t),r=e+".page.title",s=this.layout.PageName,a=uiComponents.TextUtils.createTextField(n.pageTitleText,this.pageX+i+this.pageWidth/2,800);a.y=s.y-6,uiComponents.TextUtils.setUpTextMessage(a,a.x,a.y,r),this.scrollableContent.addChild(a)},n.prototype.setupPageRectangle=function(t){var e=this.layout[n.thumbLayoutPrefix+1],i=this.layout[n.thumbLayoutPrefix+t];this.pageX=e.x-e.w/2-n.pageHorizontalMargin,this.pageY=e.y-e.h/2,this.pageWidth=i.x+i.w/2+n.pageHorizontalMargin-this.pageX,this.pageHeight=i.y+i.h/2-this.pageY},n.prototype.setupPageRecangle=function(t){var e=this.layout[n.thumbLayoutPrefix+1],i=this.layout[n.thumbLayoutPrefix+t];this.pageX=e.x-e.w/2-n.pageHorizontalMargin,this.pageY=e.y-e.h/2,this.pageWidth=i.x+i.w/2+n.pageHorizontalMargin-this.pageX,this.pageHeight=i.y+i.h/2-this.pageY},n.prototype.quitLevelMap=function(){this.scroller.endScroll(),this.onQuit()},n.prototype.setupPageContent=function(t,e,i){for(var r=this.pageWidth*t,s=(this.pageHeight*t,this.scrollableContent),a=0;a<i.length;++a){var o=i[a];if(!o)break;var h=n.thumbLayoutPrefix+(a+1),c=this.layout[h];o.x=c.x+r,o.y=c.y,this.setButtonOnClick(o),s.addChild(o)}},n.prototype.setButtonOnClick=function(t){var e=this;t.onClickHandler=function(t){e.scroller.endScroll(),e.onLevelButtonClick(t)},t.onLearnClickHandler=function(t){e.scroller.endScroll(),e.onLearnButtonClick(t)}},n.prototype.setupScrollableContent=function(t){var e=this;this.scrollableContent,this.layout,this.pageCount=_.size(t),this.setCurrentPage(0);var n=-1;_.forEach(t,function(t,i){n++,e.setupPageContent(n,i,t)}),this.scroller=new scroller.DisplayObjectPageScroller(this.scrollableContent,this.pageWidth*this.pageCount,this.pageHeight,this.pageWidth,this.pageHeight,function(t,n){e.onScrollingComplete(t,n)},function(t,n){e.onScrollingInProgress(t,n)})},n.prototype.changePageContentVisibility=function(t){for(var e=this.scrollableContent,e=this.scrollableContent,n=0,r=e.numChildren;r>n;++n){var s=e.getChildAt(n);if(!(s instanceof i))break;var a=s.getBounds();s.visible=s.x>t-a.width/2-50&&s.x<t+this.pageWidth+100?!0:!1}},n.prototype.setCurrentPage=function(t){this.currentPage=t,this.pageCount<2?(this.nextPageButton.visible=!1,this.backPageButton.visible=!1):0==this.currentPage?(this.nextPageButton.visible=!0,this.backPageButton.visible=!1):this.currentPage==this.pageCount-1?(this.backPageButton.visible=!0,this.nextPageButton.visible=!1):(this.backPageButton.visible=!0,this.nextPageButton.visible=!0)},n.prototype.onScrollingComplete=function(t,e){var i=Math.floor((t+n.pageHorizontalMargin)/this.pageWidth);this.changePageContentVisibility(t,e),this.setCurrentPage(i);var r=this.currentPageIndicator,s=this.scrollToPageIndicator;r.alpha=0,r.visible=!1,s.x=this.getIndicatorX(this.currentPage),s.y=this.firstPageIndicatorY,s.alpha=1,s.visible=!0,this.currentPageIndicator=s,this.scrollToPageIndicator=r},n.prototype.getPageLeft=function(t){return this.pageWidth*t},n.prototype.onScrollingInProgress=function(t,e){this.changePageContentVisibility(t,e);var n=this.getPageLeft(this.currentPage),i=null,r=0;t>n?(i=this.currentPage+1,r=t-n):n>t&&(i=this.currentPage-1,r=n-t),(i>this.pageCount-1||0>i)&&(i=this.currentPage,r=0);var s=this.pageWidth,a=r/s;this.scrollToPageIndicator.x=this.getIndicatorX(i),this.scrollToPageIndicator.y=this.firstPageIndicatorY,this.scrollToPageIndicator.visible=!0,this.scrollToPageIndicator.alpha=a,this.currentPageIndicator.alpha=1-a},n.prototype.show=function(){this.resize(this.stage.x,this.stage.y,controls.canvasWidth,controls.canvasHeight),this.hud.startBounceInAnimation(this.stage.x,this.stage.y,controls.canvasWidth,controls.canvasHeight),this.startScroll(this.currentPage,!0),this.currentPageIndicator.alpha=0,this.currentPageIndicator.x=this.getIndicatorX(this.currentPage),this.currentPageIndicator.y=this.firstPageIndicatorY,this.currentPageIndicator.visible=!0,createjs.Tween.get(this.currentPageIndicator).to({alpha:1},300,createjs.Ease.backIn);var t=this.x;this.x-=100,createjs.Tween.get(this).to({x:t},1e3,createjs.Ease.elasticOut)},n.prototype.startScroll=function(t){var e=this.pageX+this.pageWidth*t,n=this.pageY+this.pageHeight*t;this.scroller.startScroll(e,n)},n.prototype.scrollTo=function(t){var e=this.pageX+this.pageWidth*t,n=this.pageY+this.pageHeight*t;this.scroller.scrollTo(e,n,!0)},n.LEVEL_BUTTON_PREFIX="LevelButton_",n.pageHorizontalMargin=100,n.thumbLayoutPrefix="ThumbLevel",n}(uiComponents.StretchContainer);t.ThumbnailsMap=n;var i=function(t){function e(n,i,r,s,a){var o=this;t.call(this),this.buttonName=i,this.unlocked=r,this.buttonBackName=s,this.levelDef=a,this.backIcon=new createjs.Sprite(resources.spritesheet),this.backIcon.gotoAndStop(s),this.backIcon.scaleX=this.backIcon.scaleY=e.BACK_BASE_SCALE,this.addChild(this.backIcon),this.levelIcon=new createjs.Sprite(n),this.levelIcon.gotoAndStop(r?i:i+e.LOCKED_SUFFIX),this.levelIcon.mouseEnabled=!1,this.addChild(this.levelIcon),this.name=i,this.cursor="pointer",this.backIcon.addEventListener("mousedown",function(t){return o.handleMouseDown(t)}),this.backIcon.addEventListener("click",function(t){return o.handleMouseClick(t)}),this.backIcon.addEventListener("pressup",function(t){return o.handleMouseUp(t)}),controls.addMouseOverAnimation(this,!0)}return __extends(e,t),e.prototype.onClickHandler=function(){},e.prototype.onLearnClickHandler=function(){},e.prototype.unlock=function(){this.unlocked=!0,this.levelIcon.gotoAndStop(this.buttonName),this.infoButton.visible=this.unlocked},e.prototype.handleMouseDown=function(){createjs.Tween.removeTweens(this.backIcon),createjs.Tween.removeTweens(this.levelIcon),createjs.Tween.get(this.backIcon).to({scaleX:1.1*e.BACK_BASE_SCALE,scaleY:1.1*e.BACK_BASE_SCALE},300,createjs.Ease.quadIn),createjs.Tween.get(this.levelIcon).to({scaleX:1.1,scaleY:1.1},300,createjs.Ease.quadIn)},e.prototype.handleMouseUp=function(){createjs.Tween.removeTweens(this.backIcon),this.backIcon.scaleX=this.backIcon.scaleY=e.BACK_BASE_SCALE,createjs.Tween.removeTweens(this.levelIcon),this.levelIcon.scaleX=this.levelIcon.scaleY=1},e.prototype.handleMouseClick=function(t){sound.playSound("buttonPressed");var e=this.stage;e&&(t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault(),this.onClickHandler&&this.onClickHandler(this.levelDef))},e.LOCKED_SUFFIX="_Locked",e.BACK_BASE_SCALE=1,e}(createjs.Container);t.ThumbIconButton=i}(ui||(ui={}));var game;!function(t){var e=function(e){function n(n){var i=this;e.call(this),this.gameSpriteSheet=null,this.screenDef=null,this.gameObjectsLayer=null,this.animationTimeout=0,this.hud=null,this.messages=new t.MessageCanvas;var r=this.getGameContainer();uiComponents.BackgroundBitmap.createBackgroundBitmap(r,"gameback",this.stretchUIButtons,!1),this.gameObjectsLayer=this.createGameObjectsLayer(),this.stretchUIButtons.registerObject(this.gameObjectsLayer),this.gameObjectsLayer.mouseChildren=!1,this.gameObjectsLayer.mouseEnabled=!1,r.addChild(this.gameObjectsLayer),r.addEventListener("tick",function(t){return i.handleTick(t)}),this.messages.mouseChildren=!1,this.messages.mouseEnabled=!1,r.addChild(this.messages),this.hud=this.createHud(),this.hud.name="Hud",this.hud.onQuit=function(){i.stopGame(),n()},r.addChild(this.hud)}return __extends(n,e),n.prototype.createHud=function(){return new ui.Hud},n.prototype.getGameContainer=function(){return this},n.prototype.createGameObjectsLayer=function(){return new createjs.Container},n.prototype.resize=function(t,e,n,i){this.stretchUIButtons.resize(t,e,n,i),this.hud.resize(t,e,n,i)},n.prototype.stopGame=function(){this.removeAllEventListeners(),this.clearField()},n.prototype.startGame=function(t,e){var n=this;this.markLevelUnlocked=e,this.level=t,t.type&&(this.animationSettings=resources.getGameConfig().animation[this.level.type]),this.animationSettings=this.animationSettings||resources.getGameConfig().animation;var i=this.getCustomSpriteSheetName();if(i)resources.preloader.waitFor(i,function(){if(!resources.gameSpritesheets[i]){var t=spritesheets[i],e=lazyget.easeljs.createSpriteSheet(t,resources.all);resources.gameSpritesheets[i]=e}var r=n.getGameContainer().stage.x,s=n.getGameContainer().stage.y,a=controls.canvasWidth,o=controls.canvasHeight;n.onLoadingComplete(resources.gameSpritesheets[i],r,s,a,o)});else{var r=this.getGameContainer().stage.x,s=this.getGameContainer().stage.y,a=controls.canvasWidth,o=controls.canvasHeight;this.onLoadingComplete(this.createGameSpritesheet(),r,s,a,o)}},n.prototype.getCustomSpriteSheetName=function(){return levels.LevelUtils.getCustomSpriteSheetName(this.level)},n.prototype.createGameSpritesheet=function(){return resources.gameSpritesheet},n.prototype.onLoadingComplete=function(t,e,n,i,r){this.gameSpriteSheet=t,this.screenDef=levels.LevelUtils.getGameScreenLayout(this.level),this.initLevel(),this.stretchUIButtons.updateInitialPositions(),this.resize(e,n,i,r),this.hud.startBounceInAnimation(e,n,i,r),this.initGameEventListeners()},n.prototype.initGameEventListeners=function(){var t=this.getGameContainer().stage;this.stageEventProxy=new createjs.EventProxy(t)},n.prototype.removeAllEventListeners=function(){this.stageEventProxy&&(this.stageEventProxy.removeAllEventListeners(),this.stageEventProxy=null)},n.prototype.initLevel=function(){},n.prototype.resetTimeouts=function(){this.animationTimeout=this.animationSettings?this.animationSettings[t.GameState[this.state]]||0:0},n.prototype.markLevelAsCompletedInStorage=function(){this.markLevelUnlocked()},n.prototype.clearField=function(){var t=this.getGameContainer();t&&(this.gameObjectsLayer.removeAllChildren(),this.messages.clear()),this.resetTimeouts()},n.prototype.winLevel=function(){},n.prototype.animate=function(){},n.prototype.handleTick=function(t){var e=t.delta;this.animate(e)},n}(uiComponents.StretchContainer);t.BaseMiniGame=e;var n=function(e){function n(n,i,r,s){void 0===s&&(s=!1),e.call(this,function(){n()}),this.onNextHandler=i,this.onLearnHandler=r,this.autoGameWonTransition=s,this.state=t.GameState.Off}return __extends(n,e),n.prototype.createHud=function(){var t=this,e=new ui.GameHud;return e.onNext=function(){return t.onNextHandler()},e.onLearn=function(){return t.onLearnHandler()},e},n.prototype.checkNextPuzzleStepAvailable=function(){return!1},n.prototype.clearField=function(){this.state=t.GameState.Off},n.prototype.beginStatePuzzleStepMatchSucceded=function(){this.state=t.GameState.PuzzleStepMatchAnimation,this.resetTimeouts(),this.startPuzzleStepSuccessfulMatchAnimation()},n.prototype.startPuzzleStepSuccessfulMatchAnimation=function(){},n.prototype.startPuzzleStepCompleteAnimation=function(){},n.prototype.startPrepareNextPuzzleStepAnimation=function(){},n.prototype.startNextPuzzleStep=function(){this.state=t.GameState.Off},n.prototype.startPuzzleCompleteAnimation=function(){this.removeAllEventListeners()},n.prototype.startPuzzleCompleteFinalAnimation=function(){},n.prototype.winLevel=function(){var n=this;this.state=t.GameState.LevelWon,e.prototype.winLevel.call(this),setTimeout(function(){n.autoGameWonTransition?n.onNextHandler():n.hud.showNextButton()},this.animationSettings[t.GameState.LevelWon]||0)},n.prototype.animate=function(e){if(this.animationTimeout-=e,!(this.animationTimeout>0))switch(this.state){case t.GameState.Initializing:this.finalizeInitialization();break;case t.GameState.PuzzleStepMatchAnimation:this.beginPuzzleStepCompleteAnimation();break;case t.GameState.PuzzleStepCompleteAnimation:this.beginPrepareNextPuzzleStepAnimation();break;case t.GameState.PrepareNextPuzzleStepAnimation:this.checkNextPuzzleStepAvailable()?this.startNextPuzzleStep():this.beginStatePuzzleComplete();break;case t.GameState.PuzzleCompleteAnimation:this.beginStatePuzzleCompleteFinal();break;case t.GameState.PuzzleCompleteAnimationFinal:this.winLevel();break;case t.GameState.LevelWon:}},n.prototype.finalizeInitialization=function(){this.state=t.GameState.Off,this.resetTimeouts()},n.prototype.beginPuzzleStepCompleteAnimation=function(){this.state=t.GameState.PuzzleStepCompleteAnimation,this.startPuzzleStepCompleteAnimation();
},n.prototype.beginPrepareNextPuzzleStepAnimation=function(){this.state=t.GameState.PrepareNextPuzzleStepAnimation,this.startPrepareNextPuzzleStepAnimation()},n.prototype.beginStatePuzzleCompleteFinal=function(){this.state=t.GameState.PuzzleCompleteAnimationFinal,this.resetTimeouts(),this.startPuzzleCompleteFinalAnimation()},n.prototype.beginStatePuzzleComplete=function(){this.state=t.GameState.PuzzleCompleteAnimation,this.markLevelAsCompletedInStorage(),this.resetTimeouts(),this.startPuzzleCompleteAnimation()},n}(e);t.BaseMiniGameWithNextButton=n}(game||(game={}));var ui;!function(t){var e=function(e){function n(n){var i=this;e.call(this),this.screenDef=resources.layouts.LevelInfoScreen,this.hud=new t.Hud,this.level=n,this.locale=resources.selectedLocale;var r=controls.createFullScreenContainer(this);this.screenContainer=r;var s=new createjs.Container;s.regX=s.x=4*-r.x,s.regY=s.y=4*-r.y,r.addChild(s);var a=controls.createStaticImage(s,levels.LevelUtils.getMapIconName(n));a.name="Sample",this.hud.onQuit=function(){return i.onQuit()},s.addChild(this.hud),this.addTitle(s,levels.MessageKeys.getLevelLabelKey(n)),this.addLevelDescription(s,levels.MessageKeys.getLevelDescriptionKey(n)),controls.readLayout(s,this.screenDef)}return __extends(n,e),n.showLevelInfo=function(t,e){n.levelInfoDialog?(n.levelInfoDialog.level!==e||n.levelInfoDialog.locale!==resources.selectedLocale)&&(n.hideLevelInfoDialog(),n.levelInfoDialog=new n(e),n.levelInfoDialog.onQuit=function(){n.hideLevelInfoDialog()}):(n.levelInfoDialog=new n(e),n.levelInfoDialog.onQuit=function(){n.hideLevelInfoDialog()}),t.addChild(n.levelInfoDialog),n.levelInfoDialog.show()},n.isGamePaused=function(){return n.levelInfoDialog&&n.levelInfoDialog.parent?!0:!1},n.hideLevelInfoDialog=function(){if(n.isGamePaused()){var t=n.levelInfoDialog.parent;t.removeChild(this.levelInfoDialog)}},n.prototype.show=function(){var t=this.screenContainer;t.scaleX=t.scaleY=.7,createjs.Tween.get(t).to({scaleX:1,scaleY:1},1e3,createjs.Ease.getElasticOut(1,.5))},n.prototype.onQuit=function(){},n.prototype.addTitle=function(t,e){var n=new createjs.Text("","bold 56px Verdana, arial","#ff9d0e");n.shadow=new createjs.Shadow("#003333",2,2,5),n.x=100,n.lineWidth=420,n.textAlign="center",this.levelTitle=n,n.text=resources.getMessage(e);var i=n.getMeasuredWidth()+5,r=n.getMeasuredHeight()+5;n.cache(-i/2,0,i,r,2),n.name="LevelTitle",t.addChild(n)},n.prototype.addLevelDescription=function(t,e){var n=resources.getMessage(e),i=new createjs.Text(n,"24px bold verdana, helvetica, sans-serif","#300030");i.x=300,i.lineWidth=480,i.textAlign="justify",i.textBaseline="hanging",i.name="LevelDescription",t.addChild(i);var r=i.lineWidth,s=300;i.cache(0,0,r,s)},n.levelInfoDialog=null,n}(createjs.Container);t.LevelInfoDialog=e}(ui||(ui={}));var game;!function(t){var e=function(t){function e(){t.call(this);var e=new createjs.Sprite(resources.spritesheet);e.gotoAndStop("LevelCompleteMessage"),e.x=controls.gameWidth/2,e.y=controls.gameHeight/2+10,this.levelCompleteMessage=e;var n=resources.getGameConfig().style;this.cardMessage=uiComponents.TextUtils.createTextField(n.matchingCardMessage,controls.gameWidth/2,250),this.puzzleTitle=uiComponents.TextUtils.createTextField(n.pageTitleText,controls.gameWidth/2,350)}return __extends(e,t),e.prototype.showLevelCompleteMessage=function(){},e.prototype.clear=function(){this.removeAllChildren()},e.prototype.showTextMessage=function(t,e){var n=this;void 0===e&&(e=0),createjs.onNextTick(function(){t.scaleX=n.cardMessage.scaleY=e>0?0:1,t.alpha=e>0?.1:1,n.addChild(t),e>0&&createjs.Tween.get(t,{override:!0}).to({scaleX:1,scaleY:1,alpha:1},e,createjs.Ease.getElasticOut(1,.3))})},e.prototype.showCardNameMessage=function(t,e,n){var i=this.cardMessage;uiComponents.TextUtils.setUpTextMessage(i,t,e,n),this.showTextMessage(i,2e3)},e.prototype.removeCardMessage=function(t,e){var n=this;this.cardMessage&&createjs.Tween.get(this.cardMessage).wait(t).to({alpha:0},e,createjs.Ease.quadOut).call(function(){createjs.removeDisplayObject(n.cardMessage)})},e.prototype.showPuzzleTitle=function(t,e,n,i){if(this.puzzleTitle){var r=this.puzzleTitle;uiComponents.TextUtils.setUpTextMessage(r,t,e,n,!0),this.showTextMessage(r,i)}},e.prototype.removePuzzleTitle=function(t,e,n){var i=this;createjs.Tween.get(this.puzzleTitle).wait(t).to({alpha:0,scaleX:e,scaleY:e},n,createjs.Ease.quadOut).call(function(){return createjs.removeDisplayObject(i.puzzleTitle)})},e}(createjs.Container);t.MessageCanvas=e}(game||(game={}));var game;!function(t){var e=function(t){function e(e,n,i,r,s){void 0===s&&(s=0),t.call(this,e),this.gameSpriteSheet=e,this.bMoving=!1,this.gotoAndStop(n),this.name=n,this.setInitialPosition(i,r,s),this.mouseEnabled=!1,this.alpha=.01}return __extends(e,t),e.prototype.animateMouseDown=function(){this.processEventsDisabled&&(createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({scaleX:1.1,scaleY:1.1},400,createjs.Ease.getBackOut(3)))},e.prototype.clear=function(){this.removeAllEventListeners("rollout"),this.removeAllEventListeners("rollover")},e.prototype.animateMouseUp=function(){this.processEventsDisabled&&(createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({scaleX:1,scaleY:1},400,createjs.Ease.quadIn))},e.prototype.isMoving=function(){return this.bMoving},e.prototype.arrangeTop=function(){var t=this.parent;t&&(t.removeChild(this),t.addChild(this))},e.prototype.isReadyToProcessEvents=function(){return!this.processEventsDisabled},e.prototype.stopHandlingEvents=function(){this.processEventsDisabled=!0},e.prototype.setInitialPosition=function(t,e,n){void 0===n&&(n=0),this.x=t,this.y=e,this.rotation=n,this.initialDeltaX=0,this.initialDeltaY=0,this.initialX=this.x,this.initialY=this.y},e.prototype.setInitialDraggingDelta=function(t,e){var n=this.stage;this.initialDeltaX=this.x-(t-n.x),this.initialDeltaY=this.y-(e-n.y)},e.prototype.restoreInitialPosition=function(){createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({x:this.initialX,y:this.initialY},350,createjs.Ease.backOut)},e.prototype.startDragging=function(t,e){this.arrangeTop(),this.setInitialDraggingDelta(t,e),this.animateMouseDown()},e.prototype.moveTo=function(t,e){var n=this.stage,i=t-n.x,r=e-n.y;this.x=i+this.initialDeltaX,this.y=r+this.initialDeltaY},e}(createjs.Sprite);t.DraggableGameShapeIcon=e,function(t){t[t.Initializing=0]="Initializing",t[t.Off=1]="Off",t[t.PuzzleStepMatchAnimation=2]="PuzzleStepMatchAnimation",t[t.PuzzleStepCompleteAnimation=3]="PuzzleStepCompleteAnimation",t[t.PrepareNextPuzzleStepAnimation=4]="PrepareNextPuzzleStepAnimation",t[t.PuzzleCompleteAnimation=5]="PuzzleCompleteAnimation",t[t.PuzzleCompleteAnimationFinal=6]="PuzzleCompleteAnimationFinal",t[t.LevelWon=7]="LevelWon"}(t.GameState||(t.GameState={})),t.GameState}(game||(game={}));var langui;!function(t){var e=function(t){function e(e,n,i,r,s,a,o){var h=this;void 0===o&&(o=null),t.call(this),this.spritesheet=e,this.panelTexture=n,this.languageIcons=i,this.icon=r,this.downIcon=s,this.onChangeLanguage=a,this.currentLanguageIndex=0,this.mouseChildren=!0,this.button=new createjs.Sprite(e,this.icon),this.button.mouseEnabled=!0,this.setButtonState(!1),this.addChild(this.button),null!=o&&(this.currentLanguageIndex=_.findIndex(i,"lang",o)),this.language=new createjs.Sprite(e,this.languageIcons[this.currentLanguageIndex].icon),this.language.name="CurrentLanguageButton",this.setLanguage(this.currentLanguageIndex),this.addChild(this.language),this.panel=new createjs.Container,this.initializePanel(),this.setPanelState(!1),this.addChild(this.panel),this.button.on("mousedown",function(){return h.handleMouseDown()}),this.button.on("pressup",function(){return h.handleMouseUp()})}return __extends(e,t),e.prototype.setButtonState=function(t){var e=t?this.downIcon:this.icon;this.button.gotoAndStop(e)},e.prototype.setLanguage=function(t){this.language.gotoAndStop(this.languageIcons[t].icon),this.language.scaleX=this.language.scaleY=1.1},e.prototype.initializePanel=function(){var t=this;this.panel.mouseChildren=!0;var e=new createjs.Sprite(this.spritesheet,this.panelTexture);this.panel.addChild(e);for(var n=0,i=0;i<this.languageIcons.length;++i){var r=this.languageIcons[i],s=new createjs.Sprite(this.spritesheet,r.icon);s.mouseEnabled=!0,s.y=n,function(e){s.on("click",function(){return t.handleMouseUpOnLanguageIcon(e)})}(i),this.panel.addChild(s);var a=s.getBounds();n+=a.height+2}},e.prototype.setPanelState=function(t){var e=this;this.panel.visible=t,_.defer(function(){return e.button.visible=!t})},e.prototype.handleMouseDown=function(){this.setButtonState(!0)},e.prototype.handleMouseUp=function(){this.setButtonState(!1),this.setPanelState(!0)},e.prototype.handleMouseUpOnLanguageIcon=function(t){this.setPanelState(!1);var e=this.currentLanguageIndex!==t;e&&(this.setLanguage(t),this.onChangeLanguage(this.languageIcons[t].lang),this.currentLanguageIndex=t)},e.prototype.handleMouseClick=function(){},e}(createjs.Container);t.LanguageSelectButton=e}(langui||(langui={}));var ui;!function(t){var e=function(t){function e(e){var n=this;if(void 0===e&&(e=!0),t.call(this),this.menuAnimationEnabled=e,this.layout=resources.layouts.TitleScreen,uiComponents.BackgroundBitmap.createBackgroundBitmap(this,"menuback",this.stretchUIButtons,!0,uiComponents.StretchUIObjects.VALIGN_BOTTOM),!resources.portalConfig.hideMuteButton){var i=soundControls.createMuteButton(this,"MuteButton");this.stretchUIButtons.registerObject(i,{align:uiComponents.StretchUIObjects.ALIGN_RIGHT,valign:uiComponents.StretchUIObjects.VALIGN_TOP})}if(resources.portalConfig.portal){if(resources.portalConfig.portal.moreGamesURL){var r=controls.createMoreGamesButton(this);this.stretchUIButtons.registerObject(r,{valign:uiComponents.StretchUIObjects.VALIGN_BOTTOM})}if(resources.portalConfig.portal.logo){var s=controls.createSponsorLogo(this);this.stretchUIButtons.registerObject(s,{align:uiComponents.StretchUIObjects.ALIGN_LEFT,valign:uiComponents.StretchUIObjects.VALIGN_BOTTOM})}if(resources.portalConfig.portal.sticker){var a=controls.createSponsorSticker(this);this.stretchUIButtons.registerObject(a,{align:uiComponents.StretchUIObjects.ALIGN_LEFT,valign:uiComponents.StretchUIObjects.VALIGN_BOTTOM})}}var o=controls.createIconButton(this,"PlayButton",function(){return n.onStartGame()});if(controls.addDefaultButtonAnimation(o),this.stretchUIButtons.registerObject(o,{valign:uiComponents.StretchUIObjects.VALIGN_BOTTOM}),!resources.portalConfig.hideLangButton){var h=resources.supportedLanguages,c=resources.selectedLocale,l=[];_.each(h,function(t){l.push({lang:t,icon:t+"FlagSymbol"})});var u=new langui.LanguageSelectButton(resources.spritesheet,"LanguagePanelOpen",l,"LanguagePanelClosed","LanguagePanelClosed",function(t){return n.onChangeLocale(t)},c);u.name="LanguagePanel",this.addChild(u),this.stretchUIButtons.registerObject(u,{align:uiComponents.StretchUIObjects.ALIGN_RIGHT,valign:uiComponents.StretchUIObjects.VALIGN_TOP})}controls.readLayout(this,this.layout),this.stretchUIButtons.updateInitialPositions()}return __extends(e,t),e.prototype.onChangeLocale=function(){},e.prototype.show=function(){this.stretchUIButtons.resize(this.stage.x,this.stage.y,controls.canvasWidth,controls.canvasHeight)},e.prototype.resize=function(t,e,n,i){this.stretchUIButtons.resize(t,e,n,i)},e.prototype.onStartGame=function(){},e.prototype.onShowCredits=function(){},e}(uiComponents.StretchContainer);t.MainMenu=e}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=this;t.call(this),uiComponents.BackgroundBitmap.createBackgroundBitmap(this,"menuback",this.stretchUIButtons,!1,uiComponents.StretchUIObjects.VALIGN_BOTTOM),this.creditsTitleStyle=resources.getGameConfig().style.creditsTitleText,this.creditsEntryStyle=resources.getGameConfig().style.creditsEntryText;var n=controls.createFullScreenContainer(this);this.screenContainer=n,controls.createIconButton(n,"BackButton",function(){return e.onQuit()}),this.defaultTextX=controls.gameWidth/2,this.defaultLineWidth=controls.gameWidth,this.textY=40,this.addTitle("(c) Jellimatic.com, 2015","http://jellimatic.com"),this.textY+=30,this.addTitle("Game Design/Code:","http://jellimatic.com"),this.addEntry("Sergey Batishchev","http://jellimatic.com"),this.addEntry("Tatiana Batishcheva","http://jellimatic.com"),this.addTitle("Art:",""),this.addEntry("Vadim Davletov",""),this.addTitle("Sound Fx & Music:",""),controls.readLayout(n,resources.layouts.CreditsScreen)}return __extends(e,t),e.prototype.resize=function(t,e,n,i){this.stretchUIButtons.resize(t,e,n,i)},e.prototype.show=function(){var t=this;createjs.onNextTick(function(){var e=t.wipeImage;e.alpha=0,createjs.Tween.get(e).to({alpha:.5},1e3,createjs.Ease.quartOut);var n=t.screenContainer;n.scaleX=n.scaleY=.7,createjs.Tween.get(n).to({scaleX:1,scaleY:1},1e3,createjs.Ease.getElasticOut(1,.5))})},e.prototype.onQuit=function(){},e.prototype.addTitle=function(t,e){this.textY+=10;var n=10,i=new createjs.Text(t,this.creditsTitleStyle.style,this.creditsTitleStyle.color);i.x=this.defaultTextX,i.y=this.textY,i.textAlign="center",i.hitArea=new createjs.Shape((new createjs.Graphics).beginFill("#000000").drawRect(-n,-n,i.getMeasuredWidth()+2*n,i.getMeasuredHeight()+2*n)),this.screenContainer.addChild(i);var r=i.getMeasuredWidth(),s=100;i.cache(-r/2,-s/2,r,s),this.textY+=45,this.addURLHandler(i,e)},e.prototype.addEntry=function(t,e){var n=10,i=new createjs.Text(t,this.creditsEntryStyle.style,this.creditsEntryStyle.color);i.x=this.defaultTextX,i.y=this.textY,i.lineWidth=this.defaultLineWidth,i.textAlign="center",i.hitArea=new createjs.Shape((new createjs.Graphics).beginFill("#000000").drawRect(-n,-n,i.getMeasuredWidth()+2*n,i.getMeasuredHeight()+2*n)),this.screenContainer.addChild(i);var r=i.lineWidth,s=100;i.cache(-r/2,-s/2,r,s),this.textY+=45,this.addURLHandler(i,e)},e.prototype.addURLHandler=function(t,e){""!=e&&t.addEventListener("click",function(){window.famobi.moreGamesLink()})},e}(uiComponents.StretchContainer);t.Credits=e}(ui||(ui={}));var tangram;!function(t){!function(t){t[t.NOT_MATCHED=0]="NOT_MATCHED",t[t.MATCHED_TO_OWN_PLACE=1]="MATCHED_TO_OWN_PLACE",t[t.MATCHED_TO_EQUAL_PLACE=2]="MATCHED_TO_EQUAL_PLACE"}(t.GameShapeState||(t.GameShapeState={}));var e=t.GameShapeState,n=function(t){function n(n,i,r,s,a,o,h,c){t.call(this,n,i+r,s,a,c),this.gameSpriteSheet=n,this.cardIndex=r,this.targetCenterX=o,this.targetCenterY=h,this.equalPart=null,this.state=e.NOT_MATCHED,this.alpha=.01}return __extends(n,t),n.prototype.setEqualPart=function(t){this.equalPart=t},n}(game.DraggableGameShapeIcon);t.GameShapeIcon=n}(tangram||(tangram={}));var game;!function(t){var e=function(){function t(t,e){this.canvas=e,this.draggingDetected=!1,this.minimalRadiusSq=t*t,this.x=0,this.y=0,this.startX=0,this.startY=0,this.dx=0,this.dy=0,this.draggingDetected=!1}return t.prototype.move=function(t,e){this.x=t,this.y=e,this.draggingDetected=this.isSufficientMove(t,e),this.dx=t-this.startX,this.dy=e-this.startY},t.prototype.isSufficientMove=function(t,e){var n=t-this.startX,i=e-this.startY,r=n*n+i*i;return r<this.minimalRadiusSq?!1:!0},t.prototype.isStickyMouseOver=function(t,e,n){var i=t-this.startX,r=e-this.startY,s=i*i+r*r;return n=n?n*n:this.minimalRadiusSq,n>=s},t.prototype.startTouch=function(t,e){this.x=t,this.y=e,this.startX=t,this.startY=e,this.draggingDetected=!1},t}();t.DraggingDetector=e;var n=function(){function t(t,n,i,r,s){var a=this;this.canvas=t,this.getShapeByPixels=n,this.onDragStartedHandler=i,this.onDraggingHandler=r,this.onDropHandler=s,this.touchDetected=!1,this.touchDetectedOnMove=!1,this.selectedShape=null,this.stickyEntry=!1,this.draggingDetector=new e(5,this.canvas),this.touchDetected=!1;var o=this.canvas,h=o.stage;this.stageEventProxy=new createjs.EventProxy(h),this.stageEventProxy.addEventListener("stagemousedown",function(t){return a.onMouseDown(t)}),this.stageEventProxy.addEventListener("stagemousemove",function(t){return a.onMouseMove(t)}),this.stageEventProxy.addEventListener("stagemouseup",function(t){return a.onMouseUp(t)})}return t.prototype.removeAllEventListeners=function(){this.stageEventProxy&&(this.stageEventProxy.removeAllEventListeners(),this.stageEventProxy=null),this.selectedShape=null},t.prototype.onMouseDown=function(t){if(this.canvas.stage){t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault();var e=t.stageX,n=t.stageY;return this.touchDetected?!1:(this.touchDetected=!0,this.stickyEntry?void(this.touchDetected=!0):(this.stickyEntry=!1,this.selectedShape=null,this.touchDetectedOnMove=!1,this.detectSelectedShape(e,n),this.onDragStartedHandler(),!0))}},t.prototype.onMouseMove=function(t){if(this.canvas.stage){t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault();var e=t.stageX,n=t.stageY,i=this.selectedShape;if(!this.stickyEntry&&this.touchDetected){if(i&&this.isStickyMouseOver(t))return void(this.stickyEntry=!0);i||(this.detectSelectedShape(e,n),this.selectedShape&&(this.onDragStartedHandler(),this.touchDetectedOnMove=!0))}if(this.touchDetected||this.stickyEntry&&!this.touchDetected){var r=this.draggingDetector;r.move(e,n),r.draggingDetected&&i&&this.onDraggingHandler()}}},t.prototype.onMouseUp=function(t){if(this.canvas.stage&&this.touchDetected){t.nativeEvent.preventDefault&&t.nativeEvent.preventDefault();var e=t.stageX,n=t.stageY;if(this.touchDetected=!1,this.stickyEntry){if(this.isStickyMouseOver(t,0,0,30))return void(this.stickyEntry=!0)}else if(this.isStickyMouseOver(t))return void(this.stickyEntry=!0);this.stickyEntry=!1;var i=this.selectedShape;if(i){var r=this.draggingDetector;r.move(e,n),r.draggingDetected&&this.onDropHandler(),this.selectedShape=null}}},t.prototype.isStickyMouseOver=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0);var r=t.stageX-e,s=t.stageY-n;return"mouseup"!=t.nativeEvent.type&&"mousemove"!=t.nativeEvent.type||!this.selectedShape?!1:this.draggingDetector.isStickyMouseOver(r,s,i)},t.prototype.detectSelectedShape=function(t,e){var n=this.getShapeByPixels(t,e);n&&!n.isMoving()&&(this.selectedShape=n,this.draggingDetector.startTouch(t,e),n.setInitialDraggingDelta(t,e))},t.prototype.getX=function(){return this.draggingDetector.x},t.prototype.getY=function(){return this.draggingDetector.y},t}();t.DragNDropController=n}(game||(game={}));var particles;!function(t){var e=function(t){function e(e,n,i){t.call(this),this.particleClass=e,this.poolSize=n,this.onUpdate=i,this.count=0;for(var r=0;n>r;r++){var s=new e;this.addChild(s),this.addAsUnused(s)}this.empty=new e}return __extends(e,t),e.prototype.spawn=function(){if(!this.unused)return this.empty;this.count++;var t=this.unused;return this.unused=t._nextParticle,t.visible=!0,t},e.prototype.kill=function(t){this.addAsUnused(t),this.count--},e.prototype.addAsUnused=function(t){t.visible=!1,t._nextParticle=this.unused,this.unused=t},e.prototype.animate=function(t){if(this.onUpdate&&0!=this.count)for(var e=this.numChildren,n=0;e>n;++n){var i=this.getChildAt(n);i.visible&&this.onUpdate(i,t)}},e}(createjs.Container);t.System=e}(particles||(particles={}));var confetti;!function(t){var e=function(t){function e(){t.call(this,resources.spritesheet),this.ttl=0,this.rotationSpeed=0,this.dx=0,this.dy=0,this.mass=1}return __extends(e,t),e}(createjs.Sprite),n=function(t){function n(){t.call(this,e,15,this.onUpdateConfetti.bind(this))}return __extends(n,t),n.prototype.spawnConfetti=function(t,e){for(var n=.3,i=0;15>i;i++){var r=this.spawn(),s=40*Math.random(),a=Math.random()*Math.PI*2,o=Math.floor(2*Math.random())+1;r.gotoAndStop("Confetti"+o),r.x=t+s*Math.cos(a),r.y=e+s*Math.sin(a),a+=.5*Math.random()-1;var h=1e3+2e3*Math.random();r.dx=Math.cos(a)*h,r.dy=Math.sin(a)*h,r.ttl=n,n+=.05,r.alpha=1,r.scaleX=r.scaleY=1,r.rotationSpeed=200+100*Math.random(),r.mass=1+Math.random(),Math.random()<.5&&(r.rotationSpeed=-r.rotationSpeed)}},n.prototype.onUpdateConfetti=function(t,e){var e=1/60;t.rotation+=e*t.rotationSpeed,t.rotationSpeed-=.1*t.rotationSpeed*e;var n=0,i=0,r=t.dx*t.dx+t.dy*t.dy;if(r>=1e-4){var s=Math.sqrt(r),a=t.dx/s,o=t.dy/s,h=.02*-r;n=a*h,i=o*h}if(t.x+=t.dx*e,t.y+=t.dy*e,t.dx+=n*e,t.dy+=(i+400*t.mass)*e,t.ttl-=e,t.ttl<=0)return void this.kill(t);var c=1-t.ttl/.3;c>0&&(t.scaleX=t.scaleY=1+c*c*1.5,t.alpha=1-c)},n}(particles.System);t.Particles=n;var i=function(t){function n(n){t.call(this,e,n,this.onUpdateConfetti.bind(this)),this.delayTillSpawn=0}return __extends(n,t),n.prototype.animate=function(e){this.delayTillSpawn<0&&(this.delayTillSpawn=.3*Math.random(),this.spawnConfetti()),this.delayTillSpawn-=e,t.prototype.animate.call(this,e)},n.prototype.spawnConfetti=function(){var t=this.spawn(),e=Math.floor(23*Math.random())+3+1;t.gotoAndStop("Confetti"+e),t.x=640*Math.random(),t.y=200*Math.random()-50,t.dy=0,t.dx=0,t.regX=30*Math.random()-15,t.regY=30*Math.random()-15,t.ttl=1.5+1*Math.random(),t.alpha=0,t.scaleX=t.scaleY=1,t.rotationSpeed=200+100*Math.random(),t.mass=1+Math.random(),Math.random()<.5&&(t.rotationSpeed=-t.rotationSpeed)},n.prototype.onUpdateConfetti=function(t,e){var e=1/60;t.rotation+=e*t.rotationSpeed;var n=0,i=0,r=t.dx*t.dx+t.dy*t.dy;if(r>=1e-4){var s=Math.sqrt(r),a=t.dx/s,o=t.dy/s,h=.02*-r;n=a*h,i=o*h}if(t.x+=t.dx*e,t.y+=t.dy*e,t.dx+=n*e,t.dy+=(i+700*t.mass)*e,t.ttl-=e,t.ttl<=0)return void this.kill(t);var c=1-t.ttl/.3;c>0?t.alpha=1-c:(t.alpha+=3*e,t.alpha>1&&(t.alpha=1))},n}(particles.System);t.Victory=i}(confetti||(confetti={}));var tangram;!function(t){t.TARGET_PART_TOUCH_SQUARE_HALF_WIDTH=30;var e=function(e){function i(t,i,r){e.call(this,function(){return t()},function(){return i()},r),this.gameShapeList=[],this.gameObjects=new createjs.Container,this.gameTargetArea=new n,this.particles=null,this.victoryParticles=null,this.matchedShape=null}return __extends(i,e),i.prototype.stopGame=function(){e.prototype.stopGame.call(this),this.gameController&&this.gameController.removeAllEventListeners()},i.prototype.initLevel=function(){var e=this.level,n=this.gameObjectsLayer;this.gameTargetArea.mouseChildren=!1,this.gameTargetArea.mouseEnabled=!0,n.addChild(this.gameTargetArea),this.gameObjects.mouseChildren=!1,n.addChild(this.gameObjects);var i=this.screenDef,r=i.MatchingTarget,s=r.x,a=r.y;this.initTargetObject(s,a);var o="ElementShape_",h=levels.LevelUtils.getPuzzleElementLayoutPrefix(e),c=levels.LevelUtils.getPuzzleElementPrefix(e),l=levels.LevelUtils.getPuzzleLayout(e),u=[{part1:1,part2:2},{part1:4,part2:6}];e.equalParts=e.equalParts||u;for(var d=_.countBy(l,function(t){return t.id.substring(0,h.length)}),p=d[h],f=Array(p),g=0;p>g;++g)f[g]=g+1;for(var g=0;p>g;++g){var m=g+1,v=i[o+(g+1)],y=l[h+m],S=s+y.x,E=a+y.y,w=new t.GameShapeIcon(resources.spritesheet,c,m,v.x,v.y,S,E,y.r||0);this.gameObjects.addChild(w),this.gameShapeList.push(w)}sound.playSound("showPuzzle"),controls.makeKidsVisibleWithVerticalBounce(this.gameObjects,300,100),controls.badAndroidDevice||(this.particles=new confetti.Particles,this.getGameContainer().addChild(this.particles),this.stretchUIButtons.registerObject(this.particles)),this.victoryParticles=new confetti.Victory(controls.badAndroidDevice?15:26),this.victoryParticles.visible=!1,this.getGameContainer().addChild(this.victoryParticles),this.stretchUIButtons.registerObject(this.victoryParticles)},i.prototype.initGameEventListeners=function(){var t=this;this.gameController=new game.DragNDropController(this.getGameContainer(),function(e,n){return t.getShapeByPixels(e,n)},function(){t.onDragStartedHandler()},function(){t.onDraggingHandler()},function(){t.onDropHandler()}),this.level.equalParts&&this.level.equalParts.length>0&&this.initEqualParts(this.level.equalParts)},i.prototype.initEqualParts=function(t){var e=this;_.each(t,function(t){var n=e.getGameShapeById(t.part1),i=e.getGameShapeById(t.part2),r=Math.abs(n.rotation-i.rotation);1>r&&(n.setEqualPart(i),i.setEqualPart(n))})},i.prototype.onDragStartedHandler=function(){document.body.style.cursor="pointer";var t=this.gameController.selectedShape;t&&t.startDragging(this.gameController.getX(),this.gameController.getY())},i.prototype.onDraggingHandler=function(){document.body.style.cursor="pointer";var t=this.gameController.selectedShape;t&&t.moveTo(this.gameController.getX(),this.gameController.getY())},i.prototype.onDropHandler=function(){document.body.style.cursor="auto";var e=this.gameController.selectedShape;if(e){if(e==this.gameTargetArea)return void e.restoreInitialPosition();var n=e;return i.isInTargetArea(n.x,n.y,n.targetCenterX,n.targetCenterY)?(this.matchedShape=n,n.state=t.GameShapeState.MATCHED_TO_OWN_PLACE,void this.beginStatePuzzleStepMatchSucceded()):n.equalPart&&n.equalPart.state!=t.GameShapeState.MATCHED_TO_OWN_PLACE&&i.isInTargetArea(n.x,n.y,n.equalPart.targetCenterX,n.equalPart.targetCenterY)?(this.matchedShape=n,n.state=t.GameShapeState.MATCHED_TO_EQUAL_PLACE,void this.beginStatePuzzleStepMatchSucceded()):void sound.playSound("mismatch")}},i.prototype.getGameShapeById=function(t){for(var e=0;e<this.gameShapeList.length;++e){var n=this.gameShapeList[e];if(n.cardIndex==t)return n}return null},i.prototype.clearField=function(){e.prototype.clearField.call(this),this.clearCanvas(),this.gameShapeList.length=0},i.prototype.animate=function(t){this.updateTargetPosition(),this.particles&&this.particles.animate(t/1e3),this.victoryParticles&&this.victoryParticles.visible&&this.victoryParticles.animate(t/1e3),e.prototype.animate.call(this,t)},i.prototype.startPuzzleStepSuccessfulMatchAnimation=function(){var e=this.matchedShape;e.stopHandlingEvents();var n=this.gameShapeList.indexOf(e);switch(this.gameShapeList.splice(n,1),e.state){case t.GameShapeState.MATCHED_TO_OWN_PLACE:this.animateSuccessfulMatching(e,e.targetCenterX,e.targetCenterY);break;case t.GameShapeState.MATCHED_TO_EQUAL_PLACE:this.animateSuccessfulMatching(e,e.equalPart.targetCenterX,e.equalPart.targetCenterY)}sound.playSound("matchSuccessfull")},i.prototype.startPrepareNextPuzzleStepAnimation=function(){this.matchedShape=null},i.prototype.checkNextPuzzleStepAvailable=function(){return this.gameShapeList.length>0},i.prototype.startNextPuzzleStep=function(){this.state=game.GameState.Off},i.prototype.startPuzzleCompleteAnimation=function(){var t=this;this.removeAllEventListeners(),createjs.onNextTick(function(){window.famobi.levelUp(),sound.playSound("levelComplete"),t.victoryParticles&&(t.victoryParticles.visible=!0),t.messages.showLevelCompleteMessage(),t.startMovingTarget()})},i.prototype.getShapeByPixels=function(t,e){var n=this.gameObjects,i=n._getObjectsUnderPoint(t,e,null,!1,!0);if(i){for(var r=0,s=this.gameShapeList.length;s>r;++r){var a=this.gameShapeList[r];if(a==i&&a.isReadyToProcessEvents())return a}return null}return null;var n,i},i.prototype.initTargetObject=function(t,e){this.gameTargetArea.initTargetObject(this.level,t,e)},i.prototype.clearCanvas=function(){this.gameTargetArea.removeAllChildren(),this.gameTargetArea.alpha=1,this.gameObjects.removeAllChildren(),this.messages.clear(),this.targetAreaPath=null},i.prototype.animateSuccessfulMatching=function(t,e,n){var i=this;this.gameTargetArea.addCard(t,e,n),this.particles&&_.delay(function(){sound.playSound("fireworks"),i.particles.spawnConfetti(e,n)},300)},i.prototype.startMovingTarget=function(){controls.badAndroidDevice||(this.targetAreaPath=new controls.LissajousCurvePath(this.gameTargetArea,2,.75*Math.PI,20,35))},i.prototype.updateTargetPosition=function(){this.targetAreaPath&&this.targetAreaPath.updatePosition()},i.getNextRandomCard=function(t){var e=Math.floor(Math.random()*t.length),n=t[e];return t.splice(e,1),n},i.cardOrderByIndex=function(e,n){if(!(e instanceof t.GameShapeIcon&&n instanceof t.GameShapeIcon))return 0;var i=e,r=n;return r.cardIndex-i.cardIndex},i.isInTargetArea=function(e,n,i,r){var s=i-e,a=r-n,o=t.TARGET_PART_TOUCH_SQUARE_HALF_WIDTH*t.TARGET_PART_TOUCH_SQUARE_HALF_WIDTH,h=o>=s*s+a*a;return h},i}(game.BaseMiniGameWithNextButton);t.Game=e;var n=function(t){function n(){t.call(this),this.gameTargetAreaElements=new createjs.Container,this.matchingTargetSprite=null,this.bMoving=!1}return __extends(n,t),n.prototype.initTargetObject=function(t,e,n){var i=levels.LevelUtils.getPuzzleLayout(t),r=colorTools.colorizeCompositeObject(i,"#0dbccc");this.addChild(r),r.x=e,r.y=n,r.alpha=.6,this.matchingTargetSprite=r,this.gameTargetAreaElements.mouseChildren=!1,this.gameTargetAreaElements.mouseEnabled=!1,this.addChild(this.gameTargetAreaElements),this.setInitialPosition(0,0)},n.prototype.addCard=function(t,n,i){var r=this;this.gameTargetAreaElements.addChild(t),createjs.Tween.removeTweens(t),createjs.Tween.get(t).to({x:n,y:i},300,createjs.Ease.linear),createjs.Tween.get(t).to({scaleX:1.2,scaleY:1.2},150,createjs.Ease.quadOut).to({scaleX:1,scaleY:1},150,createjs.Ease.quadIn).call(function(){r.x=-10,r.gameTargetAreaElements.sortChildren(e.cardOrderByIndex),createjs.Tween.get(r).to({x:0},600,createjs.Ease.elasticOut)})},n.prototype.animateMouseDown=function(){this.processEventsDisabled&&(createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({scaleX:1.1,scaleY:1.1},400,createjs.Ease.getBackOut(3)))},n.prototype.animateMouseUp=function(){this.processEventsDisabled&&(createjs.Tween.removeTweens(this),createjs.Tween.get(this).to({scaleX:1,scaleY:1},400,createjs.Ease.quadIn))},n.prototype.isMoving=function(){return this.bMoving},n.prototype.arrangeTop=function(){var t=this.parent;t&&(t.removeChild(this),t.addChild(this))},n.prototype.isReadyToProcessEvents=function(){return!this.processEventsDisabled},n.prototype.stopHandlingEvents=function(){this.processEventsDisabled=!0},n.prototype.setInitialPosition=function(t,e,n){void 0===n&&(n=0),this.x=t,this.y=e,this.rotation=n,this.initialDeltaX=0,this.initialDeltaY=0,this.initialX=this.x,this.initialY=this.y},n.prototype.setInitialDraggingDelta=function(t,e){var n=this.stage;this.initialDeltaX=this.x-(t-n.x),this.initialDeltaY=this.y-(e-n.y)},n.prototype.restoreInitialPosition=function(){},n.prototype.startDragging=function(t,e){this.setInitialDraggingDelta(t,e),this.animateMouseDown()},n.prototype.moveTo=function(t,e){var n=this.stage,i=t-n.x+this.initialDeltaX,r=e-n.y+this.initialDeltaY,s=i>0?1:-1,a=r>0?1:-1;this.x=s*Math.min(Math.abs(i),40),this.y=a*Math.min(Math.abs(r),40)},n}(createjs.Container);t.GameTargetArea=n}(tangram||(tangram={}));var utils;!function(t){function e(){return h("preloaderBgColor")||h("defaultBgColor")||"#ffffff"}function n(){var t=h("mainMenuBgColor")||h("defaultBgColor");t&&c(t)}function i(){var t=h("creditsBgColor")||h("defaultBgColor");t&&c(t)}function r(){var t=h("transitionBgColor")||h("defaultBgColor");t&&c(t)}function s(){var t=h("gameBgColor")||h("defaultBgColor");t&&c(t)}function a(){var t=h("mapBgColor")||h("defaultBgColor");t&&c(t)}function o(){return h("creditsBgColor")||h("defaultBgColor")}function h(t){return resources.getGameConfig().global[t]||null}function c(t){var e=document.body;e.style.backgroundColor=t;var n=document.getElementById("canvasHolder");n.style.backgroundColor=t}t.getPreloaderBgColor=e,t.setMenuBgColor=n,t.setCreditsBgColor=i,t.setTransitionBgColor=r,t.setGameBgColor=s,t.setMapBgColor=a,t.getCreditsBgColor=o,t.getBgColorConfig=h,t.setCanvasBgColor=c}(utils||(utils={}));var ui;!function(t){var e=function(){function e(t){this.mainMenu=null,this.miniGame=null,this.infoScreen=null,this.gameMap=null,this.credits=null,this.uiContainer=null,this.uiContainer=t}return e.prototype.createMainMenu=function(e){var n=this;this.mainMenu=new t.MainMenu(e),this.mainMenu.onStartGame=this.transitionTo(function(){return n.showMap()}),this.mainMenu.onShowCredits=this.transitionTo(function(){return n.showCredits()}),this.mainMenu.onChangeLocale=this.transitionTo(function(t){return n.onChangeLocale(t)})},e.prototype.onChangeLocale=function(t){sound.playSound("buttonPressed"),resources.selectedLocale!=t&&(this.clear(),window.app.changeLanguage(t,function(){var t=window.app.uiController;t.showMenu(!1)}))},e.prototype.showMap=function(){var t=this;utils.setMapBgColor(),this.clear(),this.gameMap?(this.uiContainer.addChild(this.gameMap),this.gameMap.show(),sound.playMusic("musicMenu")):this.createGameMap(function(){
t.uiContainer.addChild(t.gameMap),t.gameMap.show(),sound.playMusic("musicMenu")})},e.prototype.createGameMap=function(e){var n=this,i="spritesheet-miniatures";resources.preloader.waitFor(i,function(){if(!resources.mapCardsSpritesheet){var r=spritesheets[i],s=lazyget.easeljs.createSpriteSheet(r,resources.all);resources.mapCardsSpritesheet=s}var a=resources.getGameConfig().map.itemsPerPage,o=new t.ThumbnailsMapBuilder;o.setMapSpritesheet(resources.mapCardsSpritesheet),o.setItemsPerPage(a);var h=levels.getLevelsConfig();_.each(h,function(t){n.createLevelThumbButton(o,t)}),n.gameMap=o.build(function(t){n.onLevelButtonClicked(t)},function(t){n.showInfoDialog(t)},n.transitionTo(function(){return n.showMenu()})),e()})},e.prototype.checkLevelUnlocked=function(){return!0},e.prototype.onLevelButtonClicked=function(t){var e=this;this.transitionTo(function(){return e.startGame(t)})()},e.prototype.markLevelUnlocked=function(){},e.prototype.createLevelThumbButton=function(t,e){t.addThumbButton(e,this.checkLevelUnlocked(e))},e.prototype.launchApp=function(e,n,i,r,s){var a=this;this.createMainMenu(e),this.credits=new t.Credits,this.credits.onQuit=this.transitionTo(function(){return a.showMenu()}),this.miniGame=null,this.gameMap=null,this.resizeCalled(n,i,r,s),this.showMenu()},e.prototype.showMenu=function(t){void 0===t&&(t=!0),utils.setMenuBgColor(),this.clear(),this.uiContainer.addChild(this.mainMenu),this.mainMenu.show(t),sound.playMusic("musicMenu")},e.prototype.startNextGame=function(t){var e=levels.getLevelsConfig(),n=_.findIndex(e,t)+1;n===e.length&&(n=0),this.startGame(e[n])},e.prototype.startGame=function(t){var e=this;utils.setGameBgColor(),t||(t=levels.getLevelsConfig()[0]),this.clear(),sound.unmute("ads"),sound.playMusic("musicGame"),this.miniGame=this.createMiniGame(t,this.transitionTo(function(){return e.showMap()}),this.transitionTo(function(){return e.startNextGame(t)}),this.transitionTo(function(){return e.showInfoDialog(t)})),this.uiContainer.addChild(this.miniGame.getGameContainer()),this.miniGame.startGame(t,function(){return e.markLevelUnlocked(t)}),resources.portalConfig.api&&resources.portalConfig.api.gameStarted()},e.prototype.showInfoDialog=function(e){utils.setGameBgColor(),sound.unmute("ads"),sound.playMusic("musicMenu"),t.LevelInfoDialog.showLevelInfo(this.uiContainer,e)},e.prototype.createMiniGame=function(t,e,n,i){var r=new tangram.Game(function(){return e()},function(){return n()},function(){return i()});return r},e.prototype.showCredits=function(){utils.setCreditsBgColor(),this.clear(),this.uiContainer.addChild(this.credits),this.credits.show()},e.prototype.resizeCalled=function(t,e,n,i){this.miniGame&&this.miniGame.resize(t,e,n,i),this.mainMenu&&this.mainMenu.resize(t,e,n,i),this.gameMap&&this.gameMap.resize(t,e,n,i),this.infoScreen},e.prototype.clear=function(){this.miniGame&&this.miniGame.stopGame(),this.uiContainer.removeAllChildren()},e.prototype.transitionTo=function(t,e){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r-0]=arguments[r];e&&sound.playMusic(e),transitionfx.start(n.uiContainer.stage,function(){return t.apply(n,i)})}},e}();t.Controller=e}(ui||(ui={}));var messages;!function(t){function e(t,e){void 0===e&&(e="en"),a=t,s=storage.load("locale")||e}function n(t){s=t,storage.save("locale",t)}function i(){return s}function r(t){return a[s][t]||t}var s,a;t.initialize=e,t.setLocale=n,t.getLocale=i,t.getMessage=r}(messages||(messages={}));var app;!function(t){function e(e,i){storage.initialize(resources.getGameId()),t.canvas=e;var s=640,a=712,o=navigator.userAgent.indexOf("Android")>-1&&!(navigator.userAgent.indexOf("Chrome")>-1),h=o?s:t.canvas.width,c=o?a:t.canvas.height;resources.portalConfig=i,controls.initialize(s,a,o),t.gameContainer=t.stage=new createjs.Stage(t.canvas),t.stage.autoClear=!1,createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",t.stage),t.stage.update(0),sound.initialize(resources.getGameId(),resources.sounds,!0,resources.portalConfig.disableMusic),o&&createjs.Touch.isSupported()?t.stage.enableDOMEvents(!1):t.stage.enableMouseOver(),createjs.Touch.enable(t.stage,!0);var l=window.innerWidth<500,u=l?a:800;t.stageWrapper=new wraphtml.Stage(t.stage,s,u,h,c,!0,n),resources.load(t.stage,levels.getLevelsConfig(),r,t.stageWrapper.currentCanvasWidth,t.stageWrapper.currentCanvasHeight)}function n(e,n,i,r,s){controls.recomputeGameContainerOffset(t.gameContainer,i,r,s),t.uiController&&t.uiController.resizeCalled(e,n,i,r)}function i(t){sound.settings.setMusic(t)}function r(){controls.recomputeGameContainerOffset(t.gameContainer,t.stageWrapper.currentCanvasWidth,t.stageWrapper.currentCanvasHeight,t.stageWrapper.currentCanvasScale),t.uiController=new ui.Controller(t.gameContainer),resources.portalConfig.api&&resources.portalConfig.api.gameLoadingComplete(),t.uiController.launchApp(!0,t.stageWrapper.stage.x,t.stageWrapper.stage.y,t.stageWrapper.currentCanvasWidth,t.stageWrapper.currentCanvasHeight)}function s(e){t.gameContainer.removeAllChildren(),messages.setLocale(e);var n=!1;t.uiController=new ui.Controller(t.gameContainer),t.uiController.launchApp(n,t.stageWrapper.stage.x,t.stageWrapper.stage.y,t.stageWrapper.currentCanvasWidth,t.stageWrapper.currentCanvasHeight)}t.initialize=e,t.setMusic=i,t.changeLanguage=s}(app||(app={}));